{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap e71acdad61fdbc787e2f","webpack:///./~/rxjs/Observable.js","webpack:///./src/core/constants.js","webpack:///./src/core/manager/events.js","webpack:///./~/rxjs/Subscriber.js","webpack:///./~/rxjs/Subscription.js","webpack:///./~/rxjs/util/root.js","webpack:///./~/rxjs/observable/ArrayObservable.js","webpack:///./~/rxjs/util/errorObject.js","webpack:///./~/rxjs/util/isScheduler.js","webpack:///./src/core/component.js","webpack:///./~/rxjs/add/observable/fromEvent.js","webpack:///./~/rxjs/observable/EmptyObservable.js","webpack:///./~/rxjs/observable/ScalarObservable.js","webpack:///./~/rxjs/symbol/iterator.js","webpack:///./~/rxjs/symbol/observable.js","webpack:///./~/rxjs/symbol/rxSubscriber.js","webpack:///./~/rxjs/util/ObjectUnsubscribedError.js","webpack:///./~/rxjs/util/isFunction.js","webpack:///./~/rxjs/util/tryCatch.js","webpack:///./src/core/component-connector.js","webpack:///./src/core/manager/dom.js","webpack:///./src/core/manager/template.js","webpack:///./src/core/sanitizer.js","webpack:///./src/core/template.js","webpack:///./src/core/utils.js","webpack:///./src/polymer/resolution-checker.js","webpack:///./~/rxjs/Observer.js","webpack:///./~/rxjs/SubjectSubscription.js","webpack:///./~/rxjs/operators/mergeAll.js","webpack:///./~/rxjs/operators/observeOn.js","webpack:///./~/rxjs/util/isArray.js","webpack:///./~/rxjs/util/isArrayLike.js","webpack:///./~/rxjs/util/isObject.js","webpack:///./~/rxjs/util/isPromise.js","webpack:///./src/polyfills.js","webpack:///./src/polymer/bridge.js","webpack:///./~/dot-prop/index.js","webpack:///./src/core/bridge.js","webpack:///./src/core/composer/composer-engine-proxy.js","webpack:///./src/core/connector.js","webpack:///./src/core/manager/action-channels.js","webpack:///./src/core/manager/bridge-channels.js","webpack:///./src/core/manager/import.js","webpack:///./src/core/manager/page.js","webpack:///./src/core/manager/storage.js","webpack:///./src/core/monitoring.js","webpack:///./src/core/navigation-stack.js","webpack:///./src/core/route.js","webpack:///./src/core/router.js","webpack:///./src/index.js","webpack:///./src/polymer/component-connector.js","webpack:///./src/polymer/component.js","webpack:///./src/polymer/manager/template.js","webpack:///./src/polymer/template.js","webpack:///./~/cells-semaas-adapter/dist/cells-semaas-adapter.js","webpack:///./~/events/events.js","webpack:///./~/is-obj/index.js","webpack:///./~/rxjs/InnerSubscriber.js","webpack:///./~/rxjs/Notification.js","webpack:///./~/rxjs/OuterSubscriber.js","webpack:///./~/rxjs/ReplaySubject.js","webpack:///./~/rxjs/Scheduler.js","webpack:///./~/rxjs/Subject.js","webpack:///./~/rxjs/add/observable/merge.js","webpack:///./~/rxjs/add/operator/distinctUntilChanged.js","webpack:///./~/rxjs/add/operator/first.js","webpack:///./~/rxjs/add/operator/map.js","webpack:///./~/rxjs/add/operator/startWith.js","webpack:///./~/rxjs/observable/ArrayLikeObservable.js","webpack:///./~/rxjs/observable/FromEventObservable.js","webpack:///./~/rxjs/observable/FromObservable.js","webpack:///./~/rxjs/observable/IteratorObservable.js","webpack:///./~/rxjs/observable/PromiseObservable.js","webpack:///./~/rxjs/observable/concat.js","webpack:///./~/rxjs/observable/from.js","webpack:///./~/rxjs/observable/fromEvent.js","webpack:///./~/rxjs/observable/merge.js","webpack:///./~/rxjs/observable/of.js","webpack:///./~/rxjs/operator/distinctUntilChanged.js","webpack:///./~/rxjs/operator/first.js","webpack:///./~/rxjs/operator/map.js","webpack:///./~/rxjs/operator/startWith.js","webpack:///./~/rxjs/operators/concatAll.js","webpack:///./~/rxjs/operators/distinctUntilChanged.js","webpack:///./~/rxjs/operators/first.js","webpack:///./~/rxjs/operators/map.js","webpack:///./~/rxjs/operators/mergeMap.js","webpack:///./~/rxjs/operators/startWith.js","webpack:///./~/rxjs/scheduler/Action.js","webpack:///./~/rxjs/scheduler/AsyncAction.js","webpack:///./~/rxjs/scheduler/AsyncScheduler.js","webpack:///./~/rxjs/scheduler/QueueAction.js","webpack:///./~/rxjs/scheduler/QueueScheduler.js","webpack:///./~/rxjs/scheduler/queue.js","webpack:///./~/rxjs/util/EmptyError.js","webpack:///./~/rxjs/util/UnsubscriptionError.js","webpack:///./~/rxjs/util/identity.js","webpack:///./~/rxjs/util/noop.js","webpack:///./~/rxjs/util/pipe.js","webpack:///./~/rxjs/util/subscribeToResult.js","webpack:///./~/rxjs/util/toSubscriber.js","webpack:///(webpack)/buildin/global.js","webpack:///(webpack)/buildin/module.js"],"names":["bindingCodes","ALWAYS","DELAYED","UI","CURRENTVIEW","binding","DEFAULT","VALUES","Object","values","externalEventsCodes","PAGE_READY","PARSE_ROUTE","AFTER_PUBLISH","NAV_REQUEST","BEFORE_SET_ATTR_TO_NODE","AFTER_SET_ATTR_TO_NODE","BEFORE_CREATE_NODE","AFTER_CREATE_NODE","BEFORE_IMPORT","AFTER_IMPORT","PAGE_REQUEST","PAGE_RESPONSE","DATA_LOAD","TEMPLATE_TRANSITION_END","TRACK_EVENT","TEMPLATE_REGISTERED","ROUTER_BACKSTEP","LOG_EVENT","externalEvents","componentsPath","composerEndpoint","deployEndpoint","initialTemplate","mrId","nameSpace","monitoring","SEMAAS","policy","identifier","consumerId","pagesPath","prplCodes","NONE","DEFER","PROGRESSIVE","HERO","prpl","preRenderState","WORKING","REQUESTED","maxNumListeners","CustomEventEmitter","node","name","callback","fn","removeEventListener","bind","addEventListener","eventManager","setMaxListeners","CellsBridgeComponent","spec","type","zone","fixed","priority","connections","createElement","tagName","ignoreAttr","index","length","key","properties","setAttrs","indexOf","constructor","HTMLElement","Channel","buffer","call","prototype","create","hasObservers","closed","observers","next","value","generateUUID","d","Date","getTime","uuid","replace","c","r","Math","random","toString","complete","error","forEach","o","isStopped","onError","unsubscribe","splice","unsubscribeAll","clean","_events","dispose","Subscriptor","subscriptions","publications","hasSubscription","channel","filter","publish","event","add","makeCallbackWithNoReplay","intervals","ids","getTimeFromNode","setTimeForNode","time","getTimeFromChannel","getIdFromNode","setIdForNode","id","getIdFromChannel","fnReplayOff","lastInterval","nodeInterval","lastId","nodeId","apply","arguments","subscribe","previousState","subscription","pos","_firstInstanceOfObserver","subscriptionDetail","observer","push","i","ChannelManager","channels","get","getUnsafe","remove","unregisterAllSubscriptors","ComponentConnector","subscriptors","v","s","cleanAllChannels","channelName","removeAllChannels","has","manager","bridgeChannelsPrefix","Map","subscriptor","set","_registerOutConnections","out","_registerInConnections","in","_updateInConnections","inConnections","bindName","addSubscription","_wrapCallbackWithNode","getSubscriptor","updateSubscription","isActiveBridgeChannel","hasSubscriptions","cb","wrapCallback","hasPublisher","_subscriptions","publication","eventName","outConnections","addPublication","outConnectionDefinition","isBridgeChannel","console","warn","_hasPublisher","wrapEvent","customEventName","CustomEvent","detail","delete","log","wrappedCb","AT_TARGET","Event","eventPhase","connection","source","fromEvent","wrappedListener","_isEventAtTarget","emit","link","linkObject","page","hasOwnProperty","backStep","analytics","wrapEventHandler","evt","test","CellsManagerDom","elements","element","__zone","attrs","document","CellsManagerTemplate","cache","templates","selected","template","_createFromJSON","_storeTemplate","componentName","_createCellsTemplate","_createFromHTMLElement","bridgeChannelManager","undefined","oldPageName","tplName","deactivate","activate","updateAppContext","initPrivateChannel","templateName","querySelector","parentNode","removeChild","crossContainerId","removeTemplate","children","dasherize","getPathFromComponent","familyPath","componentDefinition","tag","_tag","firstPath","CellsBridgeComposerSanitizer","component","componentType","path","configType","toUpperCase","config","_parseConnections","json","components","LTRIM_SLASH","_parseComponentsFromJson","jsonTemplate","_buildConfig","pages","jsonPages","keys","url","currentPage","list","Array","isArray","rawComponentDefinition","_normalizeComponentDefinition","cellsConnections","componentDefinitionWithConnections","params","_parseConnectionsParams","DEFAULT_PROPERTIES","prop","paramDef","outBind","_createConnection","global","data","response","CC","DM","item","CellsBridgeTemplate","fixedChildren","zoneId","curTemplate","$","_setAttribute","_getTemplate","_nextNavigation","setAttribute","isPage","toLowerCase","endsWith","_getCellsTemplateFromShadowRootChildNodes","from","shadowRoot","childNodes","find","el","newContentComponents","newFixedChildren","concat","zoneCache","getZone","appendChild","cellsTemplateConfig","templateId","setProps","str","trim","camelize","mathc","sep","isPolymerElementUnresolved","isCustomElement","isPolymer1","__isPolymerInstance__","isPolymer2","Polymer","Element","ElementMixin","LegacyElementMixin","is","ready","notifyPath","obj","map","entries","ownProps","resArray","CellsPolymerBridge","avoidPolymerEventCache","origGetEvent","Base","_getEvent","bubbles","cancelable","dependencies","TemplateManager","context","isObj","require","getPathSegments","pathArr","split","parts","p","slice","module","exports","propertyIsEnumerable","root","DEFAULT_INITIAL_TEMPLATE","DEFAULT_PAGES_PATH","coreInstances","globalChannel","CellsBridge","DomManager","ImportManager","PageManager","Router","Sanitizer","BridgeChannelManager","prplLevel","templatesPath","debug","preCache","preRender","storagePrefix","version","viewLimit","__mainNodeElement","remoteTemplates","useComposerEngine","appJson","appId","logs","_normalizePrplLevel","preRenderingPages","_initDependencies","_initComposerEngine","mainNode","_plugExternalEvents","_initCrossComponents","persistent","generateRequestUrl","assert","onPageDefinitionNotFound","window","$core","printDebugInfo","ingest","spans","createSpan","createUUID","logout","subscribeToEvent","registerInConnection","registerOutConnection","navigate","cells","initAppContextChannel","getCancelledBackNavigationChannel","ActionChannelManager","subscribeAll","_executePendingBridgeQueue","_logBridgeReady","handler","routeHandler","addRoutes","routes","_initSkipNavigations","start","on","info","navigationDetail","skipHistory","paramPage","param","go","handleBack","back","goBack","cellsBridgeQueue","queuedItem","command","parameters","queuedCommand","message","href","location","logBridge","skipNavigations","addSkipNavigations","prplLevelCode","prplList","normalizedCode","len","getMainNode","setExternalEvent","payload","dispatchEvent","monitor","_initEventChannels","isApplicationLogEvent","isLoggable","isBridgeLoggableEvent","buildLog","method","hasApplicationLoggingEnabled","logApplication","initEventChannels","_addInitialSubscribersToEvents","eventSubscriptions","_subscribeToEvents","crossContainerTemplateId","parseTemplateId","crossContainer","crossContainerElement","getElementById","body","register","dependence","composerEngine","getPlatform","init","container","cmp","_createCellsComponent","__parentTemplate","progressiveRegister","bindingType","items","collection","l","itemsToInject","sortedList","j","k","_createLocalComponent","isPreRendering","options","createComponentsByType","unresolvedComponents","templateParents","parentName","append","isUnresolved","join","loadComponent","then","selectTemplate","loadComponentByPriority","getNode","getPrivate","createFromComponent","loadPolymerWebComponent","Promise","resolve","isLocal","_isLocalTemplate","loadBundleForTemplate","_createTemplateFromSpec","_preRender","pageAlreadyLoaded","loadTemplate","doPreRender","templateResponse","_idleCallback","createTemplate","_createComponents","getColor","option","color","hexColor","route","currentRoute","_handleRouteLoading","eventData","headers","app","fill","isRoutableComponent","createPageFromPolymerWebComponent","selectPage","currentTemplate","previousTemplate","unregisterChildren","registerChildren","_updateChannels","oldName","unregister","htmlElement","oldTemplateName","onRender","_handleParams","select","shouldBindParams","shouldRender","onTemplateAnimationFinishes","registerCurrentTemplate","animationCompleteEvent","listenToOnce","once","animateTemplate","getIdleCallbackChannel","first","resetBridgeChannels","publishPrivatePageStatus","_resetBridgeChannels","removeTemplateChildrens","removeTemplates","ComposerEngineProxy","componentConnector","platformId","segments","customGroups","normalizedCustomGroups","initialParams","addParams","getComposerEngineChannelName","handleFeatureFlags","addSegments","addCustomGroups","segmentList","segmentId","customGroupList","existingGroup","aCustomGroup","isConstant","normalizeCustomGroups","customGroup","group","pageName","getPageForAll","CellsBridgeConnector","format","reject","xhr","XMLHttpRequest","Error","e","target","status","responseText","JSON","parse","statusText","open","header","setRequestHeader","send","_get","bridge","getBridgeChannel","_configSubscriptor","_localesSubscriptor","_logoutSubscriptor","_isAllowedProperty","clear","I18nMsg","lang","privateChannels","Set","getBridgeChannelPrefix","getAppContextChannelName","getCancelledBackNavigationChannelName","newName","getPrivateChannelPrefix","getAppContextChannel","newPageName","createEvent","oldPage","newPage","fromPage","navigation","bridgeChannels","chnlName","chnl","prefix","getEventChannelPrefix","_after","times","func","CellsManagerImport","endPoint","componentPath","rel","onload","onerror","head","_importElement","baseUri","finishComponentLoading","iCb","priorityLists","_createPriorityLists","_chainElementLoading","sort","a","b","priorityA","priorityB","elem","arr","_createSortedArratByPriorityAndUniqueElements","currentPriority","pivote","elementPriorityLists","currentPromises","_importElementPromise","count","all","CellsManagerPage","_initCellsPageManager","htmlPagesPath","htmlPages","storage","connector","sanitizer","replaced","endpoint","result","hasTemplatePath","hasRemoteTemplates","oldWayOnlyCompopserEndpointDefined","_isLocalComposer","_localTemplate","_remoteTemplate","_renderComposerEndpoint","getItem","_getFromComposerEngine","_getFromConnector","getPage","_onResponse","getJSON","catch","_onResponseFail","getHTML","_onResponseHTML","sanitizedData","setItem","html","InMemmoryStorage","dictionary","CellsStorage","internalStorage","stringify","pattern","RegExp","removeItem","store","localStorage","sessionStorage","Monitoring","application","semaas","bridgeSemaasConfiguration","getBridgeConfiguration","applicationSemaasConfiguration","getApplicationConfiguration","initilizeSEMaaSAdapter","semaasConfiguration","country","environment","configuration","DEFAULT_LOG","eventDetail","unflattenData","LOGGABLE_EVENTS","includes","property","valuePath","NavigationStack","navStack","skipNav","nav","to","navCount","createNavigation","routeFrom","routeTo","top","pop","newNav","lastNav","lastNavigation","isBackwardNavigation","isSkipNavigation","_reverseNavigation","Route","regexp","redirectPage","isAccessible","PARAM","TRAILING_SLASHES","exec","queryParams","encodeURIComponent","match","matchPath","_parseParam","query","queryParam","_404_PAGE_NAME","parseInt","parseFloat","_isNumber","EMPTY","instance","_useHistory","_routes","_disposables","_currentRoute","_404Route","SerialSubscription","_currentSubscription","teardown","navigationStack","_createNavigationStack","isNavigationInProgress","__routes","routeName","addRoute","skipNavs","addSkipNavigation","hash","HASH_PREFIX","_getHashPath","startWith","pathname","PATH_PREFIX","merge","_getURLPath","fullPath","_parseQuery","is404","parsePath","parseQuery","querystr","queries","decodeURIComponent","route404","routeWithSamePattern","getRouteWithPattern","patternToMath","active","_setup404","useHistory","_observeStateChange","_observeHashChange","distinctUntilChanged","matchRoute","currentRouteName","createRoute","newRouteName","update","disposable","goReplacing","stop","newNavigation","reverseNav","reverseNavigation","sanitizedName","getPath","updatePathInBrowser","fromRoute","auxFromRoute","backRoute","getLastRoute","historyReplaceState","historyPushState","locationReplace","locationHash","history","replaceState","pushState","_clearStack","SUPPORTS_HISTORY_API","metadata","TARGET_NAMESPACE","TARGETS","windowExport","_getProperyChangedName","propertyName","_EVENT_CHANGED","CaseMap","dashToCamelCase","_parseActionInEvent","targetPath","CellsPolymerComponentConnector","setTimeout","requestIdleCallback","checkDispatchActionType","mutations","observerObject","_isPolymerElement","_dispatchActionFunction","_dispatchActionProperty","disconnect","MutationObserver","attributes","childList","characterData","observe","_whichPolymerVersion","atTarget","Settings","hasShadow","useShadow","normalizedEvent","dom","localTarget","currentTarget","rootTarget","parsePayload","props","_properties","getPropertyInfo","_getTargetProperties","defined","readOnly","computed","removeAttribute","__isCellsConnected","action","_action","attrName","polymerVersion","__data","_hasReadOnlyEffect","_hasComputedEffect","oldValue","__data__","PolymerComponent","PolymerTemplateManager","cellsTemplate","_createCellsTemplateConfig","parseTemplateName","PolymerTemplate"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,aAAa;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,eAAe;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iGAAiG;AACjG;AACA,uFAAuF,gBAAgB;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,kBAAkB;AAClB,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC;AACA;AACA,eAAe,SAAS;AACxB;AACA,eAAe,SAAS;AACxB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,mBAAmB;AAClC,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,kBAAkB,EAAE,kBAAkB,oBAAoB,EAAE,eAAe,uBAAuB,EAAE;AAC9I,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,sC;;;;;;;;;;;;AChTA;;AAEO,IAAMA,sCAAe;AAC1BC,UAAQ,QADkB;AAE1BC,WAAS,SAFiB;AAG1BC,MAAI,IAHsB;AAI1BC,eAAa;AAJa,CAArB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ACA;AACA;AACA,YAAY,eAAe;AAC3B;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,6CAA6C;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,sC;;;;;;;ACxQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA,+CAA+C,mGAAmG,EAAE;AACpJ;AACA,wC;;;;;;;8CChMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,gC;;;;;;;;AClBA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,aAAa;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,aAAa;AACb,aAAa;AACb,aAAa;AACb;AACA,eAAe,KAAK;AACpB,eAAe,UAAU,gBAAgB,iBAAiB;AAC1D;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,2BAA2B,iCAAiC;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,2C;;;;;;;ACzHA;AACA;AACA,uBAAuB,MAAM;AAC7B,uC;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA,uC;;;;;;;;;;;;;;;ACLA;;;;;;;;;;;;IAEqBE,oB;;;AAenB,gCAAYC,IAAZ,EAAkB;AAAA;;AAEhB;AAFgB;;AAAA,UATlBC,IASkB,GATX,EASW;AAAA,UAPlBD,IAOkB,GAPX,IAOW;AAAA,UANlBE,IAMkB,GANX,IAMW;AAAA,UALlBZ,IAKkB,GALX,IAKW;AAAA,UAJlBa,KAIkB,GAJV,IAIU;AAAA,UAHlBC,QAGkB,GAHP,IAGO;AAAA,UAFlBC,WAEkB,GAFJ,IAEI;AAGhB,UAAKL,IAAL,GAAYA,IAAZ;AACA,UAAKC,IAAL,GAAYD,KAAKC,IAAjB;AACA,UAAKC,IAAL,GAAYF,KAAKE,IAAjB;AACA,UAAKC,KAAL,GAAaH,KAAKG,KAAlB;AACA,UAAKC,QAAL,GAAgBJ,KAAKI,QAArB;AACA,UAAKd,IAAL,GAAY,MAAKU,IAAL,CAAUV,IAAV,GAAiB,MAAKU,IAAL,CAAUV,IAA3B,GAAkC,MAAKgB,aAAL,CAAmB,MAAKN,IAAL,CAAUO,OAA7B,CAA9C,CARgB,CAQqE;AACrF,UAAKF,WAAL,GAAmBL,KAAKK,WAAxB;AATgB;AAUjB;AAxBD;;;;;;;;;+BA0BW;AACT,UAAIL,OAAO,KAAKA,IAAhB;AACA,UAAIA,KAAKK,WAAL,IAAoBL,KAAKK,WAAL,CAAiBG,UAAzC,EAAqD;AACnD,aAAK,IAAIC,QAAQ,CAAjB,EAAoBA,QAAQT,KAAKK,WAAL,CAAiBG,UAAjB,CAA4BE,MAAxD,EAAgED,OAAhE,EAAyE;AACvE,cAAME,MAAMX,KAAKK,WAAL,CAAiBG,UAAjB,CAA4BC,KAA5B,CAAZ;AACA,iBAAOT,KAAKY,UAAL,CAAgBD,GAAhB,CAAP;AACD;AACF;;AAED,WAAKE,QAAL,CAAc,KAAKvB,IAAnB,EAAyBU,KAAKY,UAA9B;AACD;;;mCAEc;AACb,aAAO,KAAKtB,IAAL,CAAUiB,OAAV,CAAkBO,OAAlB,CAA0B,GAA1B,IAAiC,CAAC,CAAlC,IAAuC,KAAKxB,IAAL,CAAUyB,WAAV,KAA0BC,WAAxE;AACD;;;;;;kBAzCkBjB,oB;;;;;;;ACFrB;AACA;AACA;AACA;AACA,qC;;;;;;;ACJA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,eAAe;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,aAAa;AACb,aAAa;AACb,aAAa;AACb;AACA,eAAe,UAAU,gBAAgB,iBAAiB;AAC1D;AACA,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,yBAAyB;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,2C;;;;;;;AChFA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,4C;;;;;;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,iBAAiB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oC;;;;;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sC;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wC;;;;;;;ACTA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,mD;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA,sC;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oC;;;;;;;;;;;;;;;;;AClBA;;;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;IAEQpD,mB,uBAAAA,mB;;AAGR;;;;;;;;;;AASA,IAAIsE,UAAU,SAAVA,OAAU,CAASC,MAAT,EAAiB;AAC7B,+BAAcC,IAAd,CAAmB,IAAnB,EAAyBD,MAAzB;AACD,CAFD;;AAIAD,QAAQG,SAAR,GAAoB3E,OAAO4E,MAAP,CAAc,6BAAcD,SAA5B,CAApB;;AAEAH,QAAQG,SAAR,CAAkBE,YAAlB,GAAiC,SAASA,YAAT,GAAwB;AACvD,MAAI,KAAKC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A,+C;;;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT;AACA,WAAW,OAAO;AAClB;AACA,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA,gCAAgC,uCAAuC;AACvE;AACA;AACA;AACA,oC;;;;;;;ACpDA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,YAAY;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,IAAI;AACJ;AACA,SAAS;AACT;AACA,WAAW,WAAW;AACtB,WAAW,OAAO;AAClB,YAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,WAAW;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;AClHA;AACA,kDAAkD,0CAA0C,EAAE;AAC9F,mC;;;;;;;ACFA;AACA,qCAAqC,0CAA0C,EAAE;AACjF,uC;;;;;;;ACFA;AACA;AA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a;AACb;AACA,aAAa;AACb;AACA;;AAEA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,kBAAkB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,+CAA+C,gBAAgB;;AAE/D;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,OAAO;AACP,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;;AAEA;AACA;AACA,0CAA0C,WAAW;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA,WAAW;AACX;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sCAAsC,cAAc;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mCAAmC,kBAAkB;AACrD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mBAAmB;;AAEnB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAA0B,iBAAiB;AAC3C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;;AAEA;AACA,cAAc;AACd;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,gDAAgD,QAAQ;AACxD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,gDAAgD,QAAQ;AACxD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA,OAAO;;AAEP;AACA,gDAAgD,QAAQ;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,gDAAgD,QAAQ;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA,iCAAiC;AACjC,SAAS;AACT,8BAA8B;AAC9B;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;AACP,mBAAmB,8BAA8B;AACjD;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;AACA,gBAAgB;AAChB,mDAAmD;AACnD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,0BAA0B;AAC1B;AACA,KAAK;AACL;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B;AAC9B;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA,mBAAmB;AACnB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,6BAA6B;;AAE9F;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;;AAET;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,yCAAyC;;AAE3G;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;;AAET;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,qEAAqE,aAAa;AAClF;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP,wBAAwB;AACxB;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;;AAET;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA,mBAAmB;AACnB,6BAA6B;;AAE7B;;AAEA;AACA;AACA,mBAAmB;;AAEnB;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;;AAET;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;;AAET;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;;AAET;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;;;AAGA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;;AAEH;;AAEA,CAAC;AACD;;;;;;;;AC5rDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;AC7SA;AACA;AACA;AACA;AACA;;;;;;;;ACJA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,2C;;;;;;;ACnCA;AACA;AACA;AACA,mDAAmD,iBAAiB;AACpE;AACA,SAAS,kBAAkB,GAAG,oBAAoB,GAAG,gBAAgB;AACrE;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,eAAe;AAClC;AACA,eAAe,yBAAyB;AACxC,eAAe,yBAAyB;AACxC,eAAe,iBAAiB;AAChC,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kCAAkC;AACjD;AACA,eAAe,yBAAyB;AACxC,eAAe,iBAAiB;AAChC,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,IAAI;AACnB,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,wC;;;;;;;AC9HA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,2C;;;;;;;AC7BA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,uCAAuC;AAC3E,oCAAoC,uCAAuC;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,+BAA+B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,yC;;;;;;;ACrGA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,aAAa;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,qBAAqB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mCAAmC;AAClD;AACA,eAAe,OAAO;AACtB;AACA,eAAe,EAAE;AACjB;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA,uDAAuD,oBAAoB;AAC3E;AACA,CAAC;AACD;AACA,qC;;;;;;;AChDA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,mC;;;;;;;ACvKA;AACA;AACA;AACA;AACA,iC;;;;;;;ACJA;AACA;AACA;AACA;AACA,gD;;;;;;;ACJA;AACA;AACA;AACA;AACA,iC;;;;;;;ACJA;AACA;AACA;AACA;AACA,+B;;;;;;;ACJA;AACA;AACA;AACA;AACA,qC;;;;;;;ACJA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,2BAA2B,kCAAkC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,+C;;;;;;;ACrEA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,mBAAmB,KAAK;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,aAAa;AACb,aAAa;AACb;AACA,eAAe,gBAAgB;AAC/B;AACA,eAAe,OAAO;AACtB;AACA,eAAe,qBAAqB;AACpC,eAAe,2BAA2B;AAC1C;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,SAAS;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,yDAAyD;AAChG;AACA;AACA;AACA;AACA,uCAAuC,yCAAyC;AAChF;AACA;AACA;AACA;AACA,uCAAuC,oDAAoD;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,uBAAuB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,iBAAiB,2BAA2B;AACrD;AACA;AACA;AACA,CAAC;AACD;AACA,+C;;;;;;;ACvNA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,aAAa;AACb,aAAa;AACb,aAAa;AACb;AACA,eAAe,mBAAmB;AAClC;AACA;AACA,eAAe,UAAU;AACzB;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,0C;;;;;;;ACzHA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,6BAA6B,SAAS;AACtC,6BAA6B,kBAAkB;AAC/C;AACA;AACA;AACA;AACA,iEAAiE,eAAe;AAChF;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,6BAA6B,SAAS;AACtC,6BAA6B,qBAAqB;AAClD;AACA;AACA;AACA;AACA,gEAAgE,aAAa;AAC7E;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8C;;;;;;;AClKA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,aAAa;AACb;AACA,eAAe,eAAe;AAC9B,eAAe,UAAU;AACzB;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,wDAAwD,WAAW,EAAE;AACrE,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,gEAAgE,4CAA4C;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4EAA4E,uCAAuC;AACnH;AACA,iBAAiB;AACjB;AACA,6EAA6E,mCAAmC;AAChH;AACA,iBAAiB;AACjB;AACA;AACA,wDAAwD,WAAW,EAAE;AACrE,iBAAiB;AACjB;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6C;;;;;;;ACxHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,YAAY;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,aAAa;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT,SAAS;AACT;AACA,WAAW,gBAAgB;AAC3B,WAAW,gBAAgB;AAC3B;AACA,WAAW,UAAU;AACrB;AACA,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kC;;;;;;;AC9GA;AACA;AACA;AACA,gC;;;;;;;ACHA;AACA;AACA;AACA,qC;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT;AACA,WAAW,mBAAmB;AAC9B,WAAW,OAAO;AAClB;AACA,WAAW,UAAU;AACrB;AACA,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;ACzFA;AACA;AACA;AACA,8B;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,qBAAqB;AAC7B,QAAQ,qBAAqB;AAC7B,QAAQ,qBAAqB;AAC7B,QAAQ,qBAAqB;AAC7B;AACA;AACA;AACA;AACA,OAAO;AACP,OAAO;AACP,OAAO;AACP;AACA,SAAS;AACT,SAAS;AACT;AACA,WAAW,SAAS;AACpB,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gD;;;;;;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT,SAAS;AACT;AACA,YAAY,WAAW;AACvB;AACA;AACA,WAAW,kEAAkE;AAC7E;AACA,WAAW,qCAAqC;AAChD;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb;AACA,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT;AACA,WAAW,qCAAqC;AAChD;AACA;AACA;AACA,WAAW,IAAI;AACf;AACA,YAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+B;;;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,UAAU,kBAAkB,iBAAiB;AACxD;AACA,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT;AACA,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;ACtDA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,qBAAqB;AAC7B,QAAQ,qBAAqB;AAC7B,QAAQ,qBAAqB;AAC7B,QAAQ,qBAAqB;AAC7B;AACA;AACA;AACA;AACA,OAAO;AACP,OAAO;AACP,OAAO;AACP;AACA,SAAS;AACT,SAAS;AACT;AACA,WAAW,SAAS;AACpB,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA,8BAA8B,4EAA4E;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,gD;;;;;;;AC3GA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT,SAAS;AACT;AACA,YAAY,WAAW;AACvB;AACA;AACA,WAAW,kEAAkE;AAC7E;AACA,WAAW,qCAAqC;AAChD;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb;AACA,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA;AACA,8BAA8B,wFAAwF;AACtH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,iC;;;;;;;ACvJA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT;AACA,WAAW,qCAAqC;AAChD;AACA;AACA;AACA,WAAW,IAAI;AACf;AACA,YAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,+B;;;;;;;ACxFA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,eAAe;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT;AACA,WAAW,oDAAoD;AAC/D;AACA;AACA,WAAW,oFAAoF;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,uCAAuC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,uCAAuC;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,oCAAoC,uCAAuC;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,oC;;;;;;;AC5KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,UAAU,kBAAkB,iBAAiB;AACxD;AACA,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;AC/CA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA,uCAAuC,gBAAgB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,OAAO;AACtB;AACA,gBAAgB;AAChB;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA,CAAC;AACD;AACA,kC;;;;;;;AC3CA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,uC;;;;;;;AC7IA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,kCAAkC;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,0C;;;;;;;AClDA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,uC;;;;;;;AChDA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,0C;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,YAAY;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D;AAC9D;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;ACjEA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,sC;;;;;;;AC3BA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0GAA0G,0CAA0C,EAAE;AACtJ;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,+C;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA,oC;;;;;;;ACLA;AACA;AACA,iBAAiB;AACjB;AACA,gC;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,iBAAiB,EAAE;AAClE;AACA;AACA;AACA,gC;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,gCAAgC;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,kBAAkB,+BAA+B,EAAE;AAC5D;AACA;AACA,gDAAgD,WAAW,EAAE;AAC7D,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6C;;;;;;;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wC;;;;;;ACnBA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA","file":"cells-polymer-bridge.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cellsPolymer\"] = factory();\n\telse\n\t\troot[\"cellsPolymer\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 49);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e71acdad61fdbc787e2f","\"use strict\";\nvar root_1 = require('./util/root');\nvar toSubscriber_1 = require('./util/toSubscriber');\nvar observable_1 = require('./symbol/observable');\nvar pipe_1 = require('./util/pipe');\n/**\n * A representation of any set of values over any amount of time. This is the most basic building block\n * of RxJS.\n *\n * @class Observable<T>\n */\nvar Observable = (function () {\n    /**\n     * @constructor\n     * @param {Function} subscribe the function that is called when the Observable is\n     * initially subscribed to. This function is given a Subscriber, to which new values\n     * can be `next`ed, or an `error` method can be called to raise an error, or\n     * `complete` can be called to notify of a successful completion.\n     */\n    function Observable(subscribe) {\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    /**\n     * Creates a new Observable, with this Observable as the source, and the passed\n     * operator defined as the new observable's operator.\n     * @method lift\n     * @param {Operator} operator the operator defining the operation to take on the observable\n     * @return {Observable} a new observable with the Operator applied\n     */\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    /**\n     * Invokes an execution of an Observable and registers Observer handlers for notifications it will emit.\n     *\n     * <span class=\"informal\">Use it when you have all these Observables, but still nothing is happening.</span>\n     *\n     * `subscribe` is not a regular operator, but a method that calls Observable's internal `subscribe` function. It\n     * might be for example a function that you passed to a {@link create} static factory, but most of the time it is\n     * a library implementation, which defines what and when will be emitted by an Observable. This means that calling\n     * `subscribe` is actually the moment when Observable starts its work, not when it is created, as it is often\n     * thought.\n     *\n     * Apart from starting the execution of an Observable, this method allows you to listen for values\n     * that an Observable emits, as well as for when it completes or errors. You can achieve this in two\n     * following ways.\n     *\n     * The first way is creating an object that implements {@link Observer} interface. It should have methods\n     * defined by that interface, but note that it should be just a regular JavaScript object, which you can create\n     * yourself in any way you want (ES6 class, classic function constructor, object literal etc.). In particular do\n     * not attempt to use any RxJS implementation details to create Observers - you don't need them. Remember also\n     * that your object does not have to implement all methods. If you find yourself creating a method that doesn't\n     * do anything, you can simply omit it. Note however, that if `error` method is not provided, all errors will\n     * be left uncaught.\n     *\n     * The second way is to give up on Observer object altogether and simply provide callback functions in place of its methods.\n     * This means you can provide three functions as arguments to `subscribe`, where first function is equivalent\n     * of a `next` method, second of an `error` method and third of a `complete` method. Just as in case of Observer,\n     * if you do not need to listen for something, you can omit a function, preferably by passing `undefined` or `null`,\n     * since `subscribe` recognizes these functions by where they were placed in function call. When it comes\n     * to `error` function, just as before, if not provided, errors emitted by an Observable will be thrown.\n     *\n     * Whatever style of calling `subscribe` you use, in both cases it returns a Subscription object.\n     * This object allows you to call `unsubscribe` on it, which in turn will stop work that an Observable does and will clean\n     * up all resources that an Observable used. Note that cancelling a subscription will not call `complete` callback\n     * provided to `subscribe` function, which is reserved for a regular completion signal that comes from an Observable.\n     *\n     * Remember that callbacks provided to `subscribe` are not guaranteed to be called asynchronously.\n     * It is an Observable itself that decides when these functions will be called. For example {@link of}\n     * by default emits all its values synchronously. Always check documentation for how given Observable\n     * will behave when subscribed and if its default behavior can be modified with a {@link Scheduler}.\n     *\n     * @example <caption>Subscribe with an Observer</caption>\n     * const sumObserver = {\n     *   sum: 0,\n     *   next(value) {\n     *     console.log('Adding: ' + value);\n     *     this.sum = this.sum + value;\n     *   },\n     *   error() { // We actually could just remove this method,\n     *   },        // since we do not really care about errors right now.\n     *   complete() {\n     *     console.log('Sum equals: ' + this.sum);\n     *   }\n     * };\n     *\n     * Rx.Observable.of(1, 2, 3) // Synchronously emits 1, 2, 3 and then completes.\n     * .subscribe(sumObserver);\n     *\n     * // Logs:\n     * // \"Adding: 1\"\n     * // \"Adding: 2\"\n     * // \"Adding: 3\"\n     * // \"Sum equals: 6\"\n     *\n     *\n     * @example <caption>Subscribe with functions</caption>\n     * let sum = 0;\n     *\n     * Rx.Observable.of(1, 2, 3)\n     * .subscribe(\n     *   function(value) {\n     *     console.log('Adding: ' + value);\n     *     sum = sum + value;\n     *   },\n     *   undefined,\n     *   function() {\n     *     console.log('Sum equals: ' + sum);\n     *   }\n     * );\n     *\n     * // Logs:\n     * // \"Adding: 1\"\n     * // \"Adding: 2\"\n     * // \"Adding: 3\"\n     * // \"Sum equals: 6\"\n     *\n     *\n     * @example <caption>Cancel a subscription</caption>\n     * const subscription = Rx.Observable.interval(1000).subscribe(\n     *   num => console.log(num),\n     *   undefined,\n     *   () => console.log('completed!') // Will not be called, even\n     * );                                // when cancelling subscription\n     *\n     *\n     * setTimeout(() => {\n     *   subscription.unsubscribe();\n     *   console.log('unsubscribed!');\n     * }, 2500);\n     *\n     * // Logs:\n     * // 0 after 1s\n     * // 1 after 2s\n     * // \"unsubscribed!\" after 2.5s\n     *\n     *\n     * @param {Observer|Function} observerOrNext (optional) Either an observer with methods to be called,\n     *  or the first of three possible handlers, which is the handler for each value emitted from the subscribed\n     *  Observable.\n     * @param {Function} error (optional) A handler for a terminal event resulting from an error. If no error handler is provided,\n     *  the error will be thrown as unhandled.\n     * @param {Function} complete (optional) A handler for a terminal event resulting from successful completion.\n     * @return {ISubscription} a subscription reference to the registered handlers\n     * @method subscribe\n     */\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber_1.toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            operator.call(sink, this.source);\n        }\n        else {\n            sink.add(this.source || !sink.syncErrorThrowable ? this._subscribe(sink) : this._trySubscribe(sink));\n        }\n        if (sink.syncErrorThrowable) {\n            sink.syncErrorThrowable = false;\n            if (sink.syncErrorThrown) {\n                throw sink.syncErrorValue;\n            }\n        }\n        return sink;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.syncErrorThrown = true;\n            sink.syncErrorValue = err;\n            sink.error(err);\n        }\n    };\n    /**\n     * @method forEach\n     * @param {Function} next a handler for each value emitted by the observable\n     * @param {PromiseConstructor} [PromiseCtor] a constructor function used to instantiate the Promise\n     * @return {Promise} a promise that either resolves on observable completion or\n     *  rejects with the handled error\n     */\n    Observable.prototype.forEach = function (next, PromiseCtor) {\n        var _this = this;\n        if (!PromiseCtor) {\n            if (root_1.root.Rx && root_1.root.Rx.config && root_1.root.Rx.config.Promise) {\n                PromiseCtor = root_1.root.Rx.config.Promise;\n            }\n            else if (root_1.root.Promise) {\n                PromiseCtor = root_1.root.Promise;\n            }\n        }\n        if (!PromiseCtor) {\n            throw new Error('no Promise impl found');\n        }\n        return new PromiseCtor(function (resolve, reject) {\n            // Must be declared in a separate statement to avoid a RefernceError when\n            // accessing subscription below in the closure due to Temporal Dead Zone.\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                if (subscription) {\n                    // if there is a subscription, then we can surmise\n                    // the next handling is asynchronous. Any errors thrown\n                    // need to be rejected explicitly and unsubscribe must be\n                    // called manually\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        subscription.unsubscribe();\n                    }\n                }\n                else {\n                    // if there is NO subscription, then we're getting a nexted\n                    // value synchronously during subscription. We can just call it.\n                    // If it errors, Observable's `subscribe` will ensure the\n                    // unsubscription logic is called, then synchronously rethrow the error.\n                    // After that, Promise will trap the error and send it\n                    // down the rejection path.\n                    next(value);\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        return this.source.subscribe(subscriber);\n    };\n    /**\n     * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable\n     * @method Symbol.observable\n     * @return {Observable} this instance of the observable\n     */\n    Observable.prototype[observable_1.observable] = function () {\n        return this;\n    };\n    /* tslint:enable:max-line-length */\n    /**\n     * Used to stitch together functional operators into a chain.\n     * @method pipe\n     * @return {Observable} the Observable result of all of the operators having\n     * been called in the order they were passed in.\n     *\n     * @example\n     *\n     * import { map, filter, scan } from 'rxjs/operators';\n     *\n     * Rx.Observable.interval(1000)\n     *   .pipe(\n     *     filter(x => x % 2 === 0),\n     *     map(x => x + x),\n     *     scan((acc, x) => acc + x)\n     *   )\n     *   .subscribe(x => console.log(x))\n     */\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i - 0] = arguments[_i];\n        }\n        if (operations.length === 0) {\n            return this;\n        }\n        return pipe_1.pipeFromArray(operations)(this);\n    };\n    /* tslint:enable:max-line-length */\n    Observable.prototype.toPromise = function (PromiseCtor) {\n        var _this = this;\n        if (!PromiseCtor) {\n            if (root_1.root.Rx && root_1.root.Rx.config && root_1.root.Rx.config.Promise) {\n                PromiseCtor = root_1.root.Rx.config.Promise;\n            }\n            else if (root_1.root.Promise) {\n                PromiseCtor = root_1.root.Promise;\n            }\n        }\n        if (!PromiseCtor) {\n            throw new Error('no Promise impl found');\n        }\n        return new PromiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    // HACK: Since TypeScript inherits static properties too, we have to\n    // fight against TypeScript here so Subject can have a different static create signature\n    /**\n     * Creates a new cold Observable by calling the Observable constructor\n     * @static true\n     * @owner Observable\n     * @method create\n     * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor\n     * @return {Observable} a new cold observable\n     */\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexports.Observable = Observable;\n//# sourceMappingURL=Observable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/Observable.js\n// module id = 0\n// module chunks = 0","// binding\n\nexport const bindingCodes = {\n  ALWAYS: \"always\",\n  DELAYED: \"delayed\",\n  UI: \"ui\",\n  CURRENTVIEW: \"currentview\"\n};\n\nexport const binding = {\n  DEFAULT: bindingCodes.ALWAYS,\n  VALUES: Object.values(bindingCodes)\n};\n\n// external events\n\nexport const externalEventsCodes = {\n  PAGE_READY: \"page-ready\",\n  PARSE_ROUTE: \"parse-route\",\n  AFTER_PUBLISH: \"after-publish\",\n  NAV_REQUEST: \"nav-request\",\n  BEFORE_SET_ATTR_TO_NODE: \"before-set-attr-to-node\",\n  AFTER_SET_ATTR_TO_NODE: \"after-set-attr-to-node\",\n  BEFORE_CREATE_NODE: \"before-create-node\",\n  AFTER_CREATE_NODE: \"after-create-node\",\n  BEFORE_IMPORT: \"before-import\",\n  AFTER_IMPORT: \"after-import\",\n  PAGE_REQUEST: \"page-request\",\n  PAGE_RESPONSE: \"page-response\",\n  DATA_LOAD: \"data-load\",\n  TEMPLATE_TRANSITION_END: \"template-transition-end\",\n  TRACK_EVENT: \"track-event\",\n  TEMPLATE_REGISTERED: \"template-registered\",\n  ROUTER_BACKSTEP: \"router-backstep\",\n  LOG_EVENT: \"log-event\"\n};\n\nexport const externalEvents = Object.values(externalEventsCodes);\n\n// componentsPath\n\nexport const componentsPath = \"./bower_components/\";\n\n// composerEndpoint\n\nexport const composerEndpoint = \"./composerMocks/\";\n\n// deployEndpoint\n\nexport const deployEndpoint = \"\";\n\n// initialTemplate\n\nexport const initialTemplate = \"login\";\n\n// monitoring config\n\n// const mrId = 'web';\nconst mrId = 'core';\n// const nameSpace = 'com.bbva.es.channels';\nconst nameSpace = 'ether.cells';\n\nexport const monitoring = {\n  SEMAAS: {\n    policy: 'ei_bbva_es',\n    mrId,\n    nameSpace,\n    identifier: 'bridge',\n    // consumerId: `${mrId}@${nameSpace}`,\n    consumerId: 'core@ether.cells',\n  },\n};\n\n// pagesPath\n\nexport const pagesPath = \"./pages/\";\n\n// prpl\n\nexport const prplCodes = {\n  NONE: \"none\",\n  DEFER: \"defer\",\n  PROGRESSIVE: \"progressive\",\n  HERO: \"hero\"\n};\n\nexport const prpl = {\n  DEFAULT: prplCodes.DEFER,\n  VALUES: Object.values(prplCodes)\n};\n\nexport const preRenderState = {\n  WORKING: 'working',\n  REQUESTED: 'requested'\n};\n\n// default\n\nexport default {\n  bindingCodes,\n  binding,\n  componentsPath,\n  composerEndpoint,\n  deployEndpoint,\n  externalEvents,\n  externalEventsCodes,\n  initialTemplate,\n  monitoring,\n  pagesPath,\n  prplCodes,\n  prpl,\n  preRenderState\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/constants.js","import EventEmitter from 'events';\n\nconst maxNumListeners = 20;\n\nclass CustomEventEmitter extends EventEmitter {\n  listenToOnce(node, name, callback) {\n    var fn = function () {\n      callback();\n      node.removeEventListener(name, fn);\n    }.bind(this);\n    node.addEventListener(name, fn);\n  }\n}\n\nconst eventManager = new CustomEventEmitter();\n\neventManager.setMaxListeners(maxNumListeners);\n\nexport default eventManager;\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/manager/events.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar isFunction_1 = require('./util/isFunction');\nvar Subscription_1 = require('./Subscription');\nvar Observer_1 = require('./Observer');\nvar rxSubscriber_1 = require('./symbol/rxSubscriber');\n/**\n * Implements the {@link Observer} interface and extends the\n * {@link Subscription} class. While the {@link Observer} is the public API for\n * consuming the values of an {@link Observable}, all Observers get converted to\n * a Subscriber, in order to provide Subscription-like capabilities such as\n * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n * implementing operators, but it is rarely used as a public API.\n *\n * @class Subscriber<T>\n */\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    /**\n     * @param {Observer|function(value: T): void} [destinationOrNext] A partially\n     * defined Observer or a `next` callback function.\n     * @param {function(e: ?any): void} [error] The `error` callback of an\n     * Observer.\n     * @param {function(): void} [complete] The `complete` callback of an\n     * Observer.\n     */\n    function Subscriber(destinationOrNext, error, complete) {\n        _super.call(this);\n        this.syncErrorValue = null;\n        this.syncErrorThrown = false;\n        this.syncErrorThrowable = false;\n        this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                this.destination = Observer_1.empty;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    this.destination = Observer_1.empty;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n                        this.destination = destinationOrNext;\n                        this.destination.add(this);\n                    }\n                    else {\n                        this.syncErrorThrowable = true;\n                        this.destination = new SafeSubscriber(this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                this.syncErrorThrowable = true;\n                this.destination = new SafeSubscriber(this, destinationOrNext, error, complete);\n                break;\n        }\n    }\n    Subscriber.prototype[rxSubscriber_1.rxSubscriber] = function () { return this; };\n    /**\n     * A static factory for a Subscriber, given a (potentially partial) definition\n     * of an Observer.\n     * @param {function(x: ?T): void} [next] The `next` callback of an Observer.\n     * @param {function(e: ?any): void} [error] The `error` callback of an\n     * Observer.\n     * @param {function(): void} [complete] The `complete` callback of an\n     * Observer.\n     * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)\n     * Observer represented by the given arguments.\n     */\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    /**\n     * The {@link Observer} callback to receive notifications of type `next` from\n     * the Observable, with a value. The Observable may call this method 0 or more\n     * times.\n     * @param {T} [value] The `next` value.\n     * @return {void}\n     */\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    /**\n     * The {@link Observer} callback to receive notifications of type `error` from\n     * the Observable, with an attached {@link Error}. Notifies the Observer that\n     * the Observable has experienced an error condition.\n     * @param {any} [err] The `error` exception.\n     * @return {void}\n     */\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    /**\n     * The {@link Observer} callback to receive a valueless notification of type\n     * `complete` from the Observable. Notifies the Observer that the Observable\n     * has finished sending push-based notifications.\n     * @return {void}\n     */\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _a = this, _parent = _a._parent, _parents = _a._parents;\n        this._parent = null;\n        this._parents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parent = _parent;\n        this._parents = _parents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription_1.Subscription));\nexports.Subscriber = Subscriber;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        _super.call(this);\n        this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = this;\n        if (isFunction_1.isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== Observer_1.empty) {\n                context = Object.create(observerOrNext);\n                if (isFunction_1.isFunction(context.unsubscribe)) {\n                    this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = this.unsubscribe.bind(this);\n            }\n        }\n        this._context = context;\n        this._next = next;\n        this._error = error;\n        this._complete = complete;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._error) {\n                if (!_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                throw err;\n            }\n            else {\n                _parentSubscriber.syncErrorValue = err;\n                _parentSubscriber.syncErrorThrown = true;\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            throw err;\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            parent.syncErrorValue = err;\n            parent.syncErrorThrown = true;\n            return true;\n        }\n        return false;\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\n//# sourceMappingURL=Subscriber.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/Subscriber.js\n// module id = 3\n// module chunks = 0","\"use strict\";\nvar isArray_1 = require('./util/isArray');\nvar isObject_1 = require('./util/isObject');\nvar isFunction_1 = require('./util/isFunction');\nvar tryCatch_1 = require('./util/tryCatch');\nvar errorObject_1 = require('./util/errorObject');\nvar UnsubscriptionError_1 = require('./util/UnsubscriptionError');\n/**\n * Represents a disposable resource, such as the execution of an Observable. A\n * Subscription has one important method, `unsubscribe`, that takes no argument\n * and just disposes the resource held by the subscription.\n *\n * Additionally, subscriptions may be grouped together through the `add()`\n * method, which will attach a child Subscription to the current Subscription.\n * When a Subscription is unsubscribed, all its children (and its grandchildren)\n * will be unsubscribed as well.\n *\n * @class Subscription\n */\nvar Subscription = (function () {\n    /**\n     * @param {function(): void} [unsubscribe] A function describing how to\n     * perform the disposal of resources when the `unsubscribe` method is called.\n     */\n    function Subscription(unsubscribe) {\n        /**\n         * A flag to indicate whether this Subscription has already been unsubscribed.\n         * @type {boolean}\n         */\n        this.closed = false;\n        this._parent = null;\n        this._parents = null;\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    /**\n     * Disposes the resources held by the subscription. May, for instance, cancel\n     * an ongoing Observable execution or cancel any other type of work that\n     * started when the Subscription was created.\n     * @return {void}\n     */\n    Subscription.prototype.unsubscribe = function () {\n        var hasErrors = false;\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parent = _a._parent, _parents = _a._parents, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parent = null;\n        this._parents = null;\n        // null out _subscriptions first so any child subscriptions that attempt\n        // to remove themselves from this subscription will noop\n        this._subscriptions = null;\n        var index = -1;\n        var len = _parents ? _parents.length : 0;\n        // if this._parent is null, then so is this._parents, and we\n        // don't have to remove ourselves from any parent subscriptions.\n        while (_parent) {\n            _parent.remove(this);\n            // if this._parents is null or index >= len,\n            // then _parent is set to null, and the loop exits\n            _parent = ++index < len && _parents[index] || null;\n        }\n        if (isFunction_1.isFunction(_unsubscribe)) {\n            var trial = tryCatch_1.tryCatch(_unsubscribe).call(this);\n            if (trial === errorObject_1.errorObject) {\n                hasErrors = true;\n                errors = errors || (errorObject_1.errorObject.e instanceof UnsubscriptionError_1.UnsubscriptionError ?\n                    flattenUnsubscriptionErrors(errorObject_1.errorObject.e.errors) : [errorObject_1.errorObject.e]);\n            }\n        }\n        if (isArray_1.isArray(_subscriptions)) {\n            index = -1;\n            len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject_1.isObject(sub)) {\n                    var trial = tryCatch_1.tryCatch(sub.unsubscribe).call(sub);\n                    if (trial === errorObject_1.errorObject) {\n                        hasErrors = true;\n                        errors = errors || [];\n                        var err = errorObject_1.errorObject.e;\n                        if (err instanceof UnsubscriptionError_1.UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(err.errors));\n                        }\n                        else {\n                            errors.push(err);\n                        }\n                    }\n                }\n            }\n        }\n        if (hasErrors) {\n            throw new UnsubscriptionError_1.UnsubscriptionError(errors);\n        }\n    };\n    /**\n     * Adds a tear down to be called during the unsubscribe() of this\n     * Subscription.\n     *\n     * If the tear down being added is a subscription that is already\n     * unsubscribed, is the same reference `add` is being called on, or is\n     * `Subscription.EMPTY`, it will not be added.\n     *\n     * If this subscription is already in an `closed` state, the passed\n     * tear down logic will be executed immediately.\n     *\n     * @param {TeardownLogic} teardown The additional logic to execute on\n     * teardown.\n     * @return {Subscription} Returns the Subscription used or created to be\n     * added to the inner subscriptions list. This Subscription can be used with\n     * `remove()` to remove the passed teardown logic from the inner subscriptions\n     * list.\n     */\n    Subscription.prototype.add = function (teardown) {\n        if (!teardown || (teardown === Subscription.EMPTY)) {\n            return Subscription.EMPTY;\n        }\n        if (teardown === this) {\n            return this;\n        }\n        var subscription = teardown;\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (typeof subscription._addParent !== 'function' /* quack quack */) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default:\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n        }\n        var subscriptions = this._subscriptions || (this._subscriptions = []);\n        subscriptions.push(subscription);\n        subscription._addParent(this);\n        return subscription;\n    };\n    /**\n     * Removes a Subscription from the internal list of subscriptions that will\n     * unsubscribe during the unsubscribe process of this Subscription.\n     * @param {Subscription} subscription The subscription to remove.\n     * @return {void}\n     */\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    Subscription.prototype._addParent = function (parent) {\n        var _a = this, _parent = _a._parent, _parents = _a._parents;\n        if (!_parent || _parent === parent) {\n            // If we don't have a parent, or the new parent is the same as the\n            // current parent, then set this._parent to the new parent.\n            this._parent = parent;\n        }\n        else if (!_parents) {\n            // If there's already one parent, but not multiple, allocate an Array to\n            // store the rest of the parent Subscriptions.\n            this._parents = [parent];\n        }\n        else if (_parents.indexOf(parent) === -1) {\n            // Only add the new parent to the _parents list if it's not already there.\n            _parents.push(parent);\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexports.Subscription = Subscription;\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError_1.UnsubscriptionError) ? err.errors : err); }, []);\n}\n//# sourceMappingURL=Subscription.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/Subscription.js\n// module id = 4\n// module chunks = 0","\"use strict\";\n// CommonJS / Node have global context exposed as \"global\" variable.\n// We don't want to include the whole node.d.ts this this compilation unit so we'll just fake\n// the global \"global\" var for now.\nvar __window = typeof window !== 'undefined' && window;\nvar __self = typeof self !== 'undefined' && typeof WorkerGlobalScope !== 'undefined' &&\n    self instanceof WorkerGlobalScope && self;\nvar __global = typeof global !== 'undefined' && global;\nvar _root = __window || __global || __self;\nexports.root = _root;\n// Workaround Closure Compiler restriction: The body of a goog.module cannot use throw.\n// This is needed when used with angular/tsickle which inserts a goog.module statement.\n// Wrap in IIFE\n(function () {\n    if (!_root) {\n        throw new Error('RxJS could not find any global context (window, self, global)');\n    }\n})();\n//# sourceMappingURL=root.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/root.js\n// module id = 5\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar ScalarObservable_1 = require('./ScalarObservable');\nvar EmptyObservable_1 = require('./EmptyObservable');\nvar isScheduler_1 = require('../util/isScheduler');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar ArrayObservable = (function (_super) {\n    __extends(ArrayObservable, _super);\n    function ArrayObservable(array, scheduler) {\n        _super.call(this);\n        this.array = array;\n        this.scheduler = scheduler;\n        if (!scheduler && array.length === 1) {\n            this._isScalar = true;\n            this.value = array[0];\n        }\n    }\n    ArrayObservable.create = function (array, scheduler) {\n        return new ArrayObservable(array, scheduler);\n    };\n    /**\n     * Creates an Observable that emits some values you specify as arguments,\n     * immediately one after the other, and then emits a complete notification.\n     *\n     * <span class=\"informal\">Emits the arguments you provide, then completes.\n     * </span>\n     *\n     * <img src=\"./img/of.png\" width=\"100%\">\n     *\n     * This static operator is useful for creating a simple Observable that only\n     * emits the arguments given, and the complete notification thereafter. It can\n     * be used for composing with other Observables, such as with {@link concat}.\n     * By default, it uses a `null` IScheduler, which means the `next`\n     * notifications are sent synchronously, although with a different IScheduler\n     * it is possible to determine when those notifications will be delivered.\n     *\n     * @example <caption>Emit 10, 20, 30, then 'a', 'b', 'c', then start ticking every second.</caption>\n     * var numbers = Rx.Observable.of(10, 20, 30);\n     * var letters = Rx.Observable.of('a', 'b', 'c');\n     * var interval = Rx.Observable.interval(1000);\n     * var result = numbers.concat(letters).concat(interval);\n     * result.subscribe(x => console.log(x));\n     *\n     * @see {@link create}\n     * @see {@link empty}\n     * @see {@link never}\n     * @see {@link throw}\n     *\n     * @param {...T} values Arguments that represent `next` values to be emitted.\n     * @param {Scheduler} [scheduler] A {@link IScheduler} to use for scheduling\n     * the emissions of the `next` notifications.\n     * @return {Observable<T>} An Observable that emits each given input value.\n     * @static true\n     * @name of\n     * @owner Observable\n     */\n    ArrayObservable.of = function () {\n        var array = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            array[_i - 0] = arguments[_i];\n        }\n        var scheduler = array[array.length - 1];\n        if (isScheduler_1.isScheduler(scheduler)) {\n            array.pop();\n        }\n        else {\n            scheduler = null;\n        }\n        var len = array.length;\n        if (len > 1) {\n            return new ArrayObservable(array, scheduler);\n        }\n        else if (len === 1) {\n            return new ScalarObservable_1.ScalarObservable(array[0], scheduler);\n        }\n        else {\n            return new EmptyObservable_1.EmptyObservable(scheduler);\n        }\n    };\n    ArrayObservable.dispatch = function (state) {\n        var array = state.array, index = state.index, count = state.count, subscriber = state.subscriber;\n        if (index >= count) {\n            subscriber.complete();\n            return;\n        }\n        subscriber.next(array[index]);\n        if (subscriber.closed) {\n            return;\n        }\n        state.index = index + 1;\n        this.schedule(state);\n    };\n    ArrayObservable.prototype._subscribe = function (subscriber) {\n        var index = 0;\n        var array = this.array;\n        var count = array.length;\n        var scheduler = this.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(ArrayObservable.dispatch, 0, {\n                array: array, index: index, count: count, subscriber: subscriber\n            });\n        }\n        else {\n            for (var i = 0; i < count && !subscriber.closed; i++) {\n                subscriber.next(array[i]);\n            }\n            subscriber.complete();\n        }\n    };\n    return ArrayObservable;\n}(Observable_1.Observable));\nexports.ArrayObservable = ArrayObservable;\n//# sourceMappingURL=ArrayObservable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/ArrayObservable.js\n// module id = 6\n// module chunks = 0","\"use strict\";\n// typeof any so that it we don't have to cast when comparing a result to the error object\nexports.errorObject = { e: {} };\n//# sourceMappingURL=errorObject.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/errorObject.js\n// module id = 7\n// module chunks = 0","\"use strict\";\nfunction isScheduler(value) {\n    return value && typeof value.schedule === 'function';\n}\nexports.isScheduler = isScheduler;\n//# sourceMappingURL=isScheduler.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/isScheduler.js\n// module id = 8\n// module chunks = 0","import CellsBridgeManagerDom from './manager/dom';\n\nexport default class CellsBridgeComponent extends CellsBridgeManagerDom {\n  /**\n   * Componen type. It could be TYPE_UI, TYPE_DM or TYPE_CC.\n   *\n   * @type {String}\n   */\n  type = '';\n\n  spec = null;\n  zone = null;\n  node = null;\n  fixed = null;\n  priority = null;\n  connections = null;\n\n  constructor(spec) {\n    super();\n    // @TODO: Por qu almacenar spec en una propiedad y algunas de sus propiedades en otra.\n    this.spec = spec;\n    this.type = spec.type;\n    this.zone = spec.zone;\n    this.fixed = spec.fixed;\n    this.priority = spec.priority;\n    this.node = this.spec.node ? this.spec.node : this.createElement(this.spec.tagName); // NOT WORKING CellsBridgeComponent\n    this.connections = spec.connections;\n  }\n\n  setProps() {\n    var spec = this.spec;\n    if (spec.connections && spec.connections.ignoreAttr) {\n      for (let index = 0; index < spec.connections.ignoreAttr.length; index++) {\n        const key = spec.connections.ignoreAttr[index];\n        delete spec.properties[key];\n      }\n    }\n\n    this.setAttrs(this.node, spec.properties);\n  }\n\n  isUnresolved() {\n    return this.node.tagName.indexOf('-') > -1 && this.node.constructor === HTMLElement;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/component.js","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar fromEvent_1 = require('../../observable/fromEvent');\nObservable_1.Observable.fromEvent = fromEvent_1.fromEvent;\n//# sourceMappingURL=fromEvent.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/add/observable/fromEvent.js\n// module id = 10\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar EmptyObservable = (function (_super) {\n    __extends(EmptyObservable, _super);\n    function EmptyObservable(scheduler) {\n        _super.call(this);\n        this.scheduler = scheduler;\n    }\n    /**\n     * Creates an Observable that emits no items to the Observer and immediately\n     * emits a complete notification.\n     *\n     * <span class=\"informal\">Just emits 'complete', and nothing else.\n     * </span>\n     *\n     * <img src=\"./img/empty.png\" width=\"100%\">\n     *\n     * This static operator is useful for creating a simple Observable that only\n     * emits the complete notification. It can be used for composing with other\n     * Observables, such as in a {@link mergeMap}.\n     *\n     * @example <caption>Emit the number 7, then complete.</caption>\n     * var result = Rx.Observable.empty().startWith(7);\n     * result.subscribe(x => console.log(x));\n     *\n     * @example <caption>Map and flatten only odd numbers to the sequence 'a', 'b', 'c'</caption>\n     * var interval = Rx.Observable.interval(1000);\n     * var result = interval.mergeMap(x =>\n     *   x % 2 === 1 ? Rx.Observable.of('a', 'b', 'c') : Rx.Observable.empty()\n     * );\n     * result.subscribe(x => console.log(x));\n     *\n     * // Results in the following to the console:\n     * // x is equal to the count on the interval eg(0,1,2,3,...)\n     * // x will occur every 1000ms\n     * // if x % 2 is equal to 1 print abc\n     * // if x % 2 is not equal to 1 nothing will be output\n     *\n     * @see {@link create}\n     * @see {@link never}\n     * @see {@link of}\n     * @see {@link throw}\n     *\n     * @param {Scheduler} [scheduler] A {@link IScheduler} to use for scheduling\n     * the emission of the complete notification.\n     * @return {Observable} An \"empty\" Observable: emits only the complete\n     * notification.\n     * @static true\n     * @name empty\n     * @owner Observable\n     */\n    EmptyObservable.create = function (scheduler) {\n        return new EmptyObservable(scheduler);\n    };\n    EmptyObservable.dispatch = function (arg) {\n        var subscriber = arg.subscriber;\n        subscriber.complete();\n    };\n    EmptyObservable.prototype._subscribe = function (subscriber) {\n        var scheduler = this.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(EmptyObservable.dispatch, 0, { subscriber: subscriber });\n        }\n        else {\n            subscriber.complete();\n        }\n    };\n    return EmptyObservable;\n}(Observable_1.Observable));\nexports.EmptyObservable = EmptyObservable;\n//# sourceMappingURL=EmptyObservable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/EmptyObservable.js\n// module id = 11\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar ScalarObservable = (function (_super) {\n    __extends(ScalarObservable, _super);\n    function ScalarObservable(value, scheduler) {\n        _super.call(this);\n        this.value = value;\n        this.scheduler = scheduler;\n        this._isScalar = true;\n        if (scheduler) {\n            this._isScalar = false;\n        }\n    }\n    ScalarObservable.create = function (value, scheduler) {\n        return new ScalarObservable(value, scheduler);\n    };\n    ScalarObservable.dispatch = function (state) {\n        var done = state.done, value = state.value, subscriber = state.subscriber;\n        if (done) {\n            subscriber.complete();\n            return;\n        }\n        subscriber.next(value);\n        if (subscriber.closed) {\n            return;\n        }\n        state.done = true;\n        this.schedule(state);\n    };\n    ScalarObservable.prototype._subscribe = function (subscriber) {\n        var value = this.value;\n        var scheduler = this.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(ScalarObservable.dispatch, 0, {\n                done: false, value: value, subscriber: subscriber\n            });\n        }\n        else {\n            subscriber.next(value);\n            if (!subscriber.closed) {\n                subscriber.complete();\n            }\n        }\n    };\n    return ScalarObservable;\n}(Observable_1.Observable));\nexports.ScalarObservable = ScalarObservable;\n//# sourceMappingURL=ScalarObservable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/ScalarObservable.js\n// module id = 12\n// module chunks = 0","\"use strict\";\nvar root_1 = require('../util/root');\nfunction symbolIteratorPonyfill(root) {\n    var Symbol = root.Symbol;\n    if (typeof Symbol === 'function') {\n        if (!Symbol.iterator) {\n            Symbol.iterator = Symbol('iterator polyfill');\n        }\n        return Symbol.iterator;\n    }\n    else {\n        // [for Mozilla Gecko 27-35:](https://mzl.la/2ewE1zC)\n        var Set_1 = root.Set;\n        if (Set_1 && typeof new Set_1()['@@iterator'] === 'function') {\n            return '@@iterator';\n        }\n        var Map_1 = root.Map;\n        // required for compatability with es6-shim\n        if (Map_1) {\n            var keys = Object.getOwnPropertyNames(Map_1.prototype);\n            for (var i = 0; i < keys.length; ++i) {\n                var key = keys[i];\n                // according to spec, Map.prototype[@@iterator] and Map.orototype.entries must be equal.\n                if (key !== 'entries' && key !== 'size' && Map_1.prototype[key] === Map_1.prototype['entries']) {\n                    return key;\n                }\n            }\n        }\n        return '@@iterator';\n    }\n}\nexports.symbolIteratorPonyfill = symbolIteratorPonyfill;\nexports.iterator = symbolIteratorPonyfill(root_1.root);\n/**\n * @deprecated use iterator instead\n */\nexports.$$iterator = exports.iterator;\n//# sourceMappingURL=iterator.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/symbol/iterator.js\n// module id = 13\n// module chunks = 0","\"use strict\";\nvar root_1 = require('../util/root');\nfunction getSymbolObservable(context) {\n    var $$observable;\n    var Symbol = context.Symbol;\n    if (typeof Symbol === 'function') {\n        if (Symbol.observable) {\n            $$observable = Symbol.observable;\n        }\n        else {\n            $$observable = Symbol('observable');\n            Symbol.observable = $$observable;\n        }\n    }\n    else {\n        $$observable = '@@observable';\n    }\n    return $$observable;\n}\nexports.getSymbolObservable = getSymbolObservable;\nexports.observable = getSymbolObservable(root_1.root);\n/**\n * @deprecated use observable instead\n */\nexports.$$observable = exports.observable;\n//# sourceMappingURL=observable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/symbol/observable.js\n// module id = 14\n// module chunks = 0","\"use strict\";\nvar root_1 = require('../util/root');\nvar Symbol = root_1.root.Symbol;\nexports.rxSubscriber = (typeof Symbol === 'function' && typeof Symbol.for === 'function') ?\n    Symbol.for('rxSubscriber') : '@@rxSubscriber';\n/**\n * @deprecated use rxSubscriber instead\n */\nexports.$$rxSubscriber = exports.rxSubscriber;\n//# sourceMappingURL=rxSubscriber.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/symbol/rxSubscriber.js\n// module id = 15\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * An error thrown when an action is invalid because the object has been\n * unsubscribed.\n *\n * @see {@link Subject}\n * @see {@link BehaviorSubject}\n *\n * @class ObjectUnsubscribedError\n */\nvar ObjectUnsubscribedError = (function (_super) {\n    __extends(ObjectUnsubscribedError, _super);\n    function ObjectUnsubscribedError() {\n        var err = _super.call(this, 'object unsubscribed');\n        this.name = err.name = 'ObjectUnsubscribedError';\n        this.stack = err.stack;\n        this.message = err.message;\n    }\n    return ObjectUnsubscribedError;\n}(Error));\nexports.ObjectUnsubscribedError = ObjectUnsubscribedError;\n//# sourceMappingURL=ObjectUnsubscribedError.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/ObjectUnsubscribedError.js\n// module id = 16\n// module chunks = 0","\"use strict\";\nfunction isFunction(x) {\n    return typeof x === 'function';\n}\nexports.isFunction = isFunction;\n//# sourceMappingURL=isFunction.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/isFunction.js\n// module id = 17\n// module chunks = 0","\"use strict\";\nvar errorObject_1 = require('./errorObject');\nvar tryCatchTarget;\nfunction tryCatcher() {\n    try {\n        return tryCatchTarget.apply(this, arguments);\n    }\n    catch (e) {\n        errorObject_1.errorObject.e = e;\n        return errorObject_1.errorObject;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\nexports.tryCatch = tryCatch;\n;\n//# sourceMappingURL=tryCatch.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/tryCatch.js\n// module id = 18\n// module chunks = 0","import eventManager from './manager/events'\nimport { Subscription } from 'rxjs/Subscription';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/fromEvent';\nimport { ReplaySubject } from 'rxjs/ReplaySubject';\nimport { ObjectUnsubscribedError } from 'rxjs/util/ObjectUnsubscribedError';\nimport Constants from './constants';\n\nconst { externalEventsCodes } = Constants;\n\n\n/**\n * Channel ReplaySubject extension of Rx.ReplaySubject.\n * This is pretty hacky, but so far I'd found no better way of having\n * Channels that do no close on multicasted stream completion and on multiple errors.\n * For documentation refer to\n * [Rx.ReplaySubject docs](@link https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/subjects/replaysubject.md).\n * The only difference is that Channel never triggers '.onCompleted()' and\n * does not closes observers on errors (thus allowing to continuously dispatch them).\n */\nvar Channel = function(buffer) {\n  ReplaySubject.call(this, buffer);\n}\n\nChannel.prototype = Object.create(ReplaySubject.prototype);\n\nChannel.prototype.hasObservers = function hasObservers() {\n  if (this.closed) {\n    throw new ObjectUnsubscribedError();\n  }\n\n  return this.observers.length > 0;\n};\n\nChannel.prototype.next = function next(value) {\n  let generateUUID = function() {\n    let d = new Date().getTime();\n    let uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n      let r = (d + Math.random()*16)%16 | 0;\n      return (c=='x' ? r : (r&0x3|0x8)).toString(16);\n    });\n    return uuid;\n  };\n  if (!value.uuid) {\n    value.uuid = generateUUID();\n  }\n  ReplaySubject.prototype.next.call(this, value);\n};\n\nObject.assign(Channel.prototype, {\n  /**\n   * Dummy method override to prevent execution and Rx.Observable completion\n   * @ignore\n   */\n  complete: function() {},\n\n  /**\n   * Dummy method override to prevent stop execution when error in Rx.Observable\n   * @ignore\n   */\n  error: function(error) {\n    this.error = error;\n    this.observers.forEach(function(o) {\n      o.isStopped = false;\n      o.onError(error);\n    });\n  },\n\n  /**\n   * Removes a specific observer.\n   *\n   * @param  {Number} index  Position of observer in array\n   * @example\n   * channel.unsubscribe(1);\n   */\n  unsubscribe: function(index) {\n    this.observers.splice(index, 1);\n  },\n\n  /**\n   * Removes all observers.\n   *\n   * @example\n   * channel.unsubscribe();\n   */\n  unsubscribeAll: function() {\n    this.observers.splice(0, this.observers.length);\n  },\n\n  /**\n   * Resets the channel.\n   */\n  clean: function() {\n    this._events = [];\n    this.observers = [];\n  },\n\n  dispose: function() {\n    ReplaySubject.prototype.unsubscribe.call(this);\n  }\n});\n\n\n/**\n * A subscriptor can publish to a channel and receive notifications\n * about changes from a channel.\n *\n * @param {HTMLElement/Object} node\n */\nvar Subscriptor = function(node) {\n  this.node = node;\n  this.subscriptions = []; //[] //*1prototype mixin clone problem\n  this.publications = new Subscription();\n};\n\nSubscriptor.prototype = {\n  node: null,\n  subscriptions: null, //[] //*1prototype mixin clone problem\n  publications: null,\n\n  /**\n   * Returns true if the subscriptor has already subscribed to a channel.\n   *\n   * @param  {Channel}  channel The channel to check the subscription\n   * @return {Boolean}\n   */\n  hasSubscription: function(channel) {\n    return(this.subscriptions.filter(d => d.channel === channel).length > 0);\n  },\n\n  /**\n   * Publish an event.sss\n   *\n   * @param  {Event} event\n   */\n  publish: function(event) {\n    this.publications.add(event);\n  },\n\n  makeCallbackWithNoReplay: function(channel, fn) {\n    if (!fn.node.intervals) {\n      fn.node.intervals = [];\n    }\n    if (!fn.node.ids) {\n      fn.node.ids = [];\n    }\n    let getTimeFromNode = function(node) {\n      return node.intervals[channel.name];\n    };\n    let setTimeForNode = function(node, time) {\n      node.intervals[channel.name] = time;\n    };\n    let getTimeFromChannel = function(channel) {\n      return channel._events.length > 0 ? channel._events[0].time : 1;\n    };\n    let getIdFromNode = function(node) {\n      return node.ids[channel.name];\n    };\n    let setIdForNode = function(node, id) {\n      node.ids[channel.name] = id;\n    };\n    let getIdFromChannel = function(channel) {\n      return channel._events.length > 0 ? channel._events[0].value.uuid : null;\n    };\n    let fnReplayOff = function() {\n      let lastInterval = getTimeFromChannel(channel);\n      let nodeInterval = getTimeFromNode(fn.node);\n      let lastId = getIdFromChannel(channel);\n      let nodeId = getIdFromNode(fn.node);\n      if (!nodeInterval || nodeInterval < lastInterval ||\n        (nodeInterval === lastInterval && (nodeId != lastId))) {\n        setTimeForNode(fn.node, lastInterval);\n        setIdForNode(fn.node, lastId);\n        return fn.apply(this, arguments);\n      }\n      setTimeForNode(fn.node, lastInterval);\n    }.bind(this);\n    fnReplayOff.node = fn.node;\n    return fnReplayOff;\n  },\n\n  /**\n   * Subscribe to a channel.\n   *\n   * @param  {Channel}   channel  Channel to subscribe\n   * @param  {Function}  fn       Callback function to run when a value from a channel changed\n   */\n  subscribe: function(channel, fn, previousState) {\n    if(!this.hasSubscription(channel)) {\n      let callback = fn;\n      let subscription;\n      if (previousState === false) {\n        callback = this.makeCallbackWithNoReplay(channel, fn);\n      }\n\n      let pos = this._firstInstanceOfObserver(callback.node, channel);\n      if(pos === -1) {\n        subscription = channel.subscribe(callback);\n        pos = channel.observers.length - 1;\n      }\n      channel.observers[pos].node = callback.node;\n\n      const subscriptionDetail = {\n        channel: channel,\n        observer: channel.observers[pos],\n        subscription: subscription\n      };\n\n      this.subscriptions.push(subscriptionDetail);\n    }\n  },\n\n  /**\n   * Remove all active subscriptions.\n   */\n  unsubscribe: function() {\n    for(var i = this.subscriptions.length - 1; i >= 0; i--) {\n      var subscription = this.subscriptions[i];\n      var channel = subscription.channel;\n      var observer = subscription.observer;\n      var index = channel.observers.indexOf(observer);\n\n      //if(index >= 0 && !channel.name.match(/\\b__bridge_/)) {\n      if(index >= 0) {\n        channel.unsubscribe(index);\n      }\n    }\n\n    this.publications.unsubscribe();\n  },\n\n  /**\n   * Returns the position of the first occurrence of the observer's node in the channel.\n   * If the node has none observer registered to the channel, it returns -1.\n   *\n   * @param {node}\n   * @param {channel}\n   */\n  _firstInstanceOfObserver: function(node, channel) {\n    var pos = -1;\n\n    for(let index = 0; index < channel.observers.length; index++) {\n      if(channel.observers[index].node === node) {\n        pos = index;\n        break;\n      }\n    }\n    return pos;\n  }\n};\n\n/**\n * Collection of channels.\n */\nvar ChannelManager = function() {\n  this.channels = {}; //*1prototype mixin clone problem\n};\n\nChannelManager.prototype = {\n  channels: null, //{} //*1prototype mixin clone problem\n\n  /**\n   * Gets a channel by name.\n   *\n   * @param  {String} name\n   *\n   * @return {Channel}\n   */\n  get: function(name) {\n    var channel = this.channels[name];\n\n    if(channel == null) {\n      channel = this.create(name);\n    }\n\n    return channel;\n  },\n\n  /**\n   * Gets a channel by name.\n   *\n   * @param  {String} name\n   *\n   * @return {Channel}\n   */\n  getUnsafe: function(name) {\n    return this.channels[name];\n  },\n\n  /**\n   * Creates a channel.\n   *\n   * @param  {String} name Channel name\n   *\n   * @return {Channel}\n   */\n  create: function(name) {\n    var channel = new Channel(1);\n    channel.name = name;\n    return this.channels[name] = channel;\n  },\n\n  /**\n   * Removes a channel from the collection.\n   *\n   * @param  {String} name Name of the channel to remove.\n   */\n  remove: function(name) {\n    delete this.channels[name];\n  },\n\n\n  unregisterAllSubscriptors() {\n    this.ComponentConnector.subscriptors.forEach((v) => {\n      v.subscriptions.forEach(s => s.subscription.unsubscribe());\n    });\n  },\n\n  cleanAllChannels: function() {\n    for (let channelName in this.channels) {\n      this.channels[channelName].clean();\n      //this.channels[channelName].dispose();\n    }\n  },\n\n  removeAllChannels: function() {\n    for (let channelName in this.channels) {\n      delete this.channels[channelName];\n    }\n  },\n\n  /**\n   * Returns true if there is a channel registered with the given name,\n   *\n   * @param {String} name Channel name,\n   *\n   * @return {Boolean}\n   */\n  has: function(name) {\n    return this.channels[name] != null;\n  }\n};\n\n\nlet ComponentConnector = class ComponentConnector {\n  manager = null;\n  subscriptors = null;\n  bridgeChannelsPrefix = null;\n\n  constructor() {\n    this.manager = new ChannelManager();\n    this.subscriptors = new Map();\n    this.bridgeChannelsPrefix = /__bridge_(?!ch)/;\n  }\n\n  getSubscriptor(node) {\n    var subscriptor = this.subscriptors.get(node);\n\n    if(!subscriptor) {\n      subscriptor = new Subscriptor(node);\n      this.subscriptors.set(node, subscriptor);\n    }\n\n    return subscriptor;\n  }\n\n  /**\n   * Register a node in pubsub\n   *\n   * @param  {HTMLElement}  node\n   * @param  {Object}       connections\n   */\n  register(node, connections) {\n    if(node && connections) {\n      this._registerOutConnections(node, connections.out);\n      this._registerInConnections(node, connections.in);\n    }\n  }\n\n  /**\n   * Registesr new connections of a node that may have other connections registered previously.\n   *\n   * @param  {HTMLElement}  node\n   * @param  {Object}       connections\n   */\n  progressiveRegister(node, connections) {\n    if(node && connections) {\n      this._registerOutConnections(node, connections.out);\n      this._updateInConnections(node, connections.in);\n    }\n  }\n\n  _registerInConnections(node, inConnections) {\n    let channelName;\n    let bindName;\n    let previousState;\n\n    if(inConnections) {\n      for(channelName in inConnections) {\n        bindName = inConnections[channelName].bind;\n        previousState = inConnections[channelName].previousState || false;\n        this.addSubscription(channelName, node, bindName, previousState);\n      }\n    }\n  }\n\n  addSubscription(channelName, node, bind, previousState = false) {\n    const callback = this._wrapCallbackWithNode(node, bind);\n    const channel = this.manager.get(channelName); // @TODO ojo!!! CC this.isBridgeChannel(channelName) ? this.manager.getUnsafe(channelName) : this.manager.get(channelName);\n\n    if(channel) {\n      const subscriptor = this.getSubscriptor(node);\n\n      subscriptor.subscribe(channel, callback, previousState);\n    }\n  }\n\n  _updateInConnections(node, inConnections) {\n    let channelName;\n    let bindName;\n    let previousState;\n\n    if(inConnections) {\n      for(channelName in inConnections) {\n        bindName = inConnections[channelName].bind;\n        previousState = inConnections[channelName].previousState || false;\n        this.updateSubscription(channelName, node, bindName, previousState);\n      }\n    }\n  }\n\n  updateSubscription(channelName, node, bind, previousState = false) {\n    const subscriptor = this.getSubscriptor(node);\n\n    if(this.isActiveBridgeChannel(channelName) ||\n      (!this.isActiveBridgeChannel(channelName) && !this.hasSubscriptions(subscriptor, channelName))\n    ) {\n      const channel = this.manager.get(channelName);\n      const callback = this._wrapCallbackWithNode(node, bind);\n\n      subscriptor.subscribe(channel, callback, previousState);\n    }\n  }\n\n  _wrapCallbackWithNode(node, bindName) {\n    let cb = this.wrapCallback(node, bindName);\n    cb.node = node;\n    return cb;\n  }\n\n  _hasPublisher(subscriptor, node, channelName, bindName) {\n    let hasPublisher = false;\n\n    if (subscriptor.publications._subscriptions) {\n      subscriptor.publications._subscriptions.forEach(function(publication){\n        if (publication.node === node &&\n        publication.channelName === channelName &&\n        publication.eventName === bindName) {\n          hasPublisher = true;\n        }\n      });\n    }\n    return hasPublisher;\n  }\n\n  _registerOutConnections(node, outConnections) {\n    let channelName;\n    let bindName;\n\n    if(outConnections) {\n      for(channelName in outConnections) {\n        bindName = outConnections[channelName].bind;\n\n        this.addPublication(channelName, node, bindName, outConnections[channelName]);\n      }\n    }\n  }\n\n  addPublication(channelName, node, bindName, outConnectionDefinition) {\n    if(this.isBridgeChannel(channelName)) {\n      console.warn(`Forbidden operation. You are trying to write to a private channel (${channelName}).`);\n    } else {\n      let subscriptor = this.getSubscriptor(node);\n      let channel = this.manager.get(channelName);\n      let hasPublisher = this._hasPublisher(subscriptor, node, channelName, bindName);\n\n      if (!hasPublisher) {\n        subscriptor.publish(this.wrapEvent(node, bindName, channel, outConnectionDefinition));\n      }\n    }\n  }\n\n  publish(channelName, value) {\n    if(this.isBridgeChannel(channelName)) {\n      console.warn(`Forbidden operation. You are trying to write to a private channel (${channelName}).`);\n    } else {\n      const channel = this.manager.get(channelName);\n      const customEventName = `${channelName}-publish`;\n\n      channel.next(new CustomEvent(customEventName, { detail: value }));\n    }\n  }\n\n  /**\n   * Unregister a node from pubsub\n   *\n   * @param  {HTMLElement} node\n   */\n  unregister(node) {\n    if(!node) {\n      return;\n    }\n\n    var subscriptor = this.subscriptors.get(node);\n\n    if(subscriptor) {\n      subscriptor.unsubscribe();\n      this.subscriptors.delete(node);\n    }\n  }\n\n  unregisterAllSubscriptors() {\n    this.subscriptors.forEach((v) => {\n      v.subscriptions.forEach(s => s.subscription.unsubscribe());\n    });\n  }\n\n  // @TODO unificar con unregister\n  sleep(node) {\n    if(!node) {\n      return;\n    }\n\n    var subscriptor = this.subscriptors.get(node);\n\n    if(subscriptor) {\n      console.log(subscriptor);\n      //subscriptor.unsubscribe();\n    }\n  }\n\n  /**\n   * Wrap a callback.\n   *\n   * @param  {HTMLElement/Object} node\n   * @param  {String} bindName Method or property name\n   *\n   * @return {Function}\n   */\n  wrapCallback(node, bindName) {\n    var wrappedCb = function(event) {\n      if (typeof(bindName) === 'function') {\n        bindName(event.detail);\n      } else {\n        if(typeof node[bindName] === 'function') {\n          node[bindName](event.detail);\n        } else {\n          node[bindName] = event.detail;\n        }\n      }\n    };\n\n    return wrappedCb;\n  }\n\n  /**\n   * Returns true if the event has reached the node that is listening the event\n   *\n   * @param {Event} event\n   */\n  _isEventAtTarget(event) {\n    const AT_TARGET = Event.AT_TARGET || Event.prototype.AT_TARGET;\n    return event.eventPhase === AT_TARGET;\n  }\n\n  /**\n   * Wrap an event.\n   *\n   * @param  {HTMLElement} node\n   * @param  {String} eventName\n   * @param  {Channel} channel\n   *\n   * @return {Function}\n   */\n  wrapEvent(node, eventName, channel, connection) {\n    const { AFTER_PUBLISH, NAV_REQUEST, ROUTER_BACKSTEP, TRACK_EVENT, LOG_EVENT } = externalEventsCodes;\n\n    var source = Observable.fromEvent(node, eventName);\n    var wrappedListener = source.subscribe(function(event) {\n      if(!this._isEventAtTarget(event)) {\n        // If the event bubbles up from a child element:\n        return;\n      }\n\n      channel.next(event);\n      eventManager.emit(AFTER_PUBLISH, event);\n\n      if(connection && connection.link) {\n\n        let linkObject = connection.link;\n\n        if(connection.link.page){\n          if(connection.link.page.hasOwnProperty('bind')){\n            linkObject.page = event.detail[connection.link.page.bind]\n          }\n        }\n\n        eventManager.emit(NAV_REQUEST, {\n          event: event,\n          detail: linkObject\n        });\n      }\n\n      if (connection && connection.backStep) {\n        eventManager.emit(ROUTER_BACKSTEP, {\n          event: event,\n          detail: {}\n        });\n      }\n\n      if(connection && connection.analytics) {\n        eventManager.emit(TRACK_EVENT, {\n          event: event,\n          detail: connection.analytics\n        });\n      }\n\n      if(connection && connection.log) {\n        eventManager.emit(LOG_EVENT, {\n          event: event,\n          detail: connection.log\n        });\n      }\n\n      if (this.wrapEventHandler) {\n        this.wrapEventHandler(event, connection, channel);\n      }\n    }.bind(this));\n\n    wrappedListener.node = node;\n    wrappedListener.eventName = eventName;\n    wrappedListener.channelName = channel.name;\n\n    return wrappedListener;\n  }\n\n  /**\n   * receive a channel name and change old private values.\n   *\n   * @param  {string} name\n   *\n   */\n  createEvent(name, value) {\n    let evt = new Event(name);\n    evt.detail = { value };\n    return evt;\n  }\n\n  /**\n   * returns true if there's a private channel with the given name\n   *\n   * @param {String} name\n   *\n   * @return {Boolean}\n   */\n  isActiveBridgeChannel(name) {\n    return this.isBridgeChannel(name) && this.manager.getUnsafe(name);\n  }\n\n  /**\n   * returns true if the given name matches a private channel's name\n   *\n   * @param {String} name\n   *\n   * @return {Boolean}\n   */\n  isBridgeChannel(name) {\n    return this.bridgeChannelsPrefix.test(name);\n  }\n\n  /**\n   * returns true if the subscriptor has been subscribed to the given channel.\n   *\n   * @param {Subscriptor} subscriptor\n   * @param {String} channelName\n   *\n   * @return {Boolean}\n   */\n  hasSubscriptions(subscriptor, channelName) {\n    return subscriptor.subscriptions.filter(d => d.channel.name === channelName).length > 0;\n  }\n}\n\n/**\n * ComponentConnector definition\n */\nexport default ComponentConnector;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/component-connector.js","import eventManager from './events'\nimport Constants from '../constants';\n\nconst { externalEventsCodes } = Constants;\n\nlet CellsManagerDom = class CellsManagerDom  {\n  createComponents(spec) {\n    /* istanbul ignore if */\n    if (!spec) {\n      return;\n    }\n    var elements = [];\n    var i = 0;\n    for (let index = 0; index < spec.length; index++) {\n      const element = spec[index];\n      elements[i] = this.createElement(element.tagName);\n      elements[i].__zone = element.zone;\n      i++;\n    }\n\n    return elements;\n  }\n\n  setAttrs(node, attrs) {\n    const { BEFORE_SET_ATTR_TO_NODE, AFTER_SET_ATTR_TO_NODE } = externalEventsCodes;\n\n    if (attrs && typeof attrs === 'object') {\n      eventManager.emit(BEFORE_SET_ATTR_TO_NODE, node.tagName);\n      Object.assign(node, attrs);\n      eventManager.emit(AFTER_SET_ATTR_TO_NODE, node);\n    }\n  }\n\n  createElement(tagName, properties) {\n    const { BEFORE_CREATE_NODE, AFTER_CREATE_NODE } = externalEventsCodes;\n\n    eventManager.emit(BEFORE_CREATE_NODE, tagName);\n    var node = document.createElement(tagName);\n    eventManager.emit(AFTER_CREATE_NODE, node);\n\n    /* istanbul ignore else */\n    if (properties) {\n      this.setAttrs(node, properties);\n    }\n\n    return node;\n  }\n}\n\nexport default CellsManagerDom;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/manager/dom.js","import CellsTemplate from '../template';\nimport eventManager from './events';\nimport Constants from '../constants';\n\nconst { bindingCodes, externalEventsCodes } = Constants;\n\nlet CellsManagerTemplate = class CellsManagerTemplate {\n  cache = {};\n  templates = {};\n  selected = '';\n\n  create(name, spec) {\n    let template = this.get(name);\n\n    if (!template) {\n      template = this._createFromJSON(name, spec);\n      this._storeTemplate(name, template);\n    }\n\n    return template;\n  }\n\n  /**\n   * Create Bridge Template based on Polymer component.\n   *\n   * @param  {String}       name    [description]\n   * @param  {HTMLElement}  element [description]\n   * @return {CellsBridgeTemplate}         [description]\n   */\n  createFromComponent(name, componentName) {\n    const template = this._createCellsTemplate(name, {tagName: componentName});\n\n    this._storeTemplate(name, template);\n    return template;\n  }\n\n  /**\n   * Register template from existing HTMLElement and stores it on memory.\n   *\n   * @param  {String}               name    Template name.\n   * @param  {HTMLElement}          element Template element (existing DOM element)\n   * @return {CellsBridgeTemplate}          Cells bridge template object.\n   */\n  register(name, element) {\n    const template = this._createFromHTMLElement(name, element);\n\n    this._storeTemplate(name, template);\n    return template;\n  }\n\n  /**\n   * Store given template on memory.\n   *\n   * @param  {String}               name     Template name.\n   * @param  {CellsBridgeTemplate}  template Cells bridge template object.\n   */\n  _storeTemplate(name, template) {\n    const { node } = template;\n\n    this.cache[name] = template;\n    this.templates[name] = node;\n  }\n\n  /**\n   * Create Bridge Template based on existing HTML Element.\n   *\n   * @param  {String}       name    [description]\n   * @param  {HTMLElement}  element [description]\n   * @return {CellsBridgeTemplate}         [description]\n   */\n  _createFromHTMLElement(name, element) {\n    const template = this._createCellsTemplate(name, {node: element});\n\n    return template;\n  }\n\n  _createFromJSON(name, spec) {\n    let template = this._createCellsTemplate(name, spec);\n\n    return template;\n  }\n\n  // OJO!!!!\n  // Debido a a la jerarqua de clases, esto debera ser implementado por cada manager\n  _createCellsTemplate(name, spec) {\n    return new CellsTemplate(name, spec);\n  }\n\n  get(name) {\n    return this.cache[name];\n  }\n\n  getNode(name) {\n    return this.templates[name];\n  }\n\n  parseTemplateName(name) {\n    return name;\n  }\n\n  parseTemplateId(name) {\n    return 'cells-template-' + name.replace(/\\./g, '-');\n  }\n\n  select(name, bridgeChannelManager = undefined, binding = 'always') {\n    const { TEMPLATE_TRANSITION_END } = externalEventsCodes;\n    const { CURRENTVIEW, UI } = bindingCodes;\n    var template = this.get(name);\n    let cache = this.cache;\n    let oldPageName;\n\n    for (let tplName in cache) {\n      if (tplName === this.selected) {\n        oldPageName = tplName;\n        cache[tplName].deactivate();\n      } else if (name !== tplName) {\n        cache[tplName].cache();\n      }\n    }\n\n    this.selected = name;\n    template.activate();\n\n    if(bridgeChannelManager && binding !== CURRENTVIEW && binding !== UI){\n      bridgeChannelManager.updateAppContext(oldPageName, name);\n      bridgeChannelManager.initPrivateChannel(oldPageName, name);\n    }\n\n    eventManager.emit(TEMPLATE_TRANSITION_END, template);\n  }\n\n  /**\n   *\n   * remove one template by name.\n   * it remove the template from html and from the templates and cache nodes\n   *\n   * @param String templateName the name of the  template to remove\n   */\n  removeTemplate(templateName) {\n    if (this.templates[templateName]) {\n      let node = document.querySelector('#' + this.templates[templateName].id);\n      node.parentNode.removeChild(node);\n      delete this.templates[templateName];\n      delete this.cache[templateName];\n    }\n  }\n\n  /**\n   *\n   * remove all templates except initial one and cross component one.\n   *\n   * @param String initialTemplate the name of the initial template\n   * @param String crossContainerId the name of the cross component template\n   */\n  removeTemplates(initialTemplate, crossContainerId) {\n    for (let templateName in this.templates) {\n      if (templateName !== initialTemplate && templateName !== crossContainerId) {\n        this.removeTemplate(templateName);\n      }\n    }\n  }\n\n  /**\n   *\n   * remove all children of a template,\n   * it is used, for example, for clear cross component template.\n   *\n   * @param String templateName the name of the  template\n   */\n  removeTemplateChildrens(templateName){\n    let template = this.templates[templateName];\n    if(template && template.children){\n      for (let i = template.children.length - 1; i >= 0; i-- ) {\n        template.removeChild(template.children[i]);\n      }\n    }\n  }\n}\n\nexport default CellsManagerTemplate;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/manager/template.js","import Utils from './utils';\n\nconst { dasherize } = Utils;\n\n/**\n * Get path for component retrieval based on component definition properties.\n *\n * @param  {Object} componentDefinition Raw component definition.\n * @return {String}                     Path for component retrieval.\n */\nconst getPathFromComponent = componentDefinition => {\n  const { familyPath, tag, tagName } = componentDefinition;\n  const _tag = tag || tagName;\n  const firstPath = familyPath || _tag;\n\n  return `${firstPath}/${_tag}.html`\n};\n\nexport default class CellsBridgeComposerSanitizer {\n  _buildConfig(component, type = 'UI') {\n    const { type: componentType, tag, tagName, zone, fixed, priority, properties } = component;\n    const path = getPathFromComponent(component);\n    const configType = componentType ? componentType.toUpperCase() : type;\n    const config = {\n      type: configType,\n      tagName: tag || tagName,\n      zone,\n      fixed,\n      priority,\n      properties,\n      path\n    };\n\n    return this._parseConnections(config);\n  }\n\n  parse(json) {\n    var components = [];\n    const LTRIM_SLASH = /^\\/(\\b)/;\n    components.push(\n      ...this._parseComponentsFromJson(json, 'components', 'UI')\n    );\n    let jsonTemplate = json.template;\n    if (jsonTemplate) {\n      jsonTemplate = this._buildConfig(jsonTemplate, 'TEMPLATE');\n    }\n    let pages = {};\n    let jsonPages = json.pages;\n    /* istanbul ignore if */\n    if (jsonPages) {\n      for (let index = 0; index < Object.keys(jsonPages).length; index++) {\n        const page = Object.keys(jsonPages)[index];\n        pages[page] = '/' + jsonPages[page].url.replace(LTRIM_SLASH, '');\n      }\n    }\n    return {\n      page: json.page,\n      currentPage: json.currentPage || {},\n      template: jsonTemplate,\n      components: components,\n      pages: pages\n    };\n  }\n\n  _parseComponentsFromJson(json, key, type) {\n    const list = [];\n    const components = json[key];\n\n    /* istanbul ignore if */\n    if (Array.isArray(components)) {\n      for (let index = 0; index < components.length; index++) {\n        const component = components[index];\n        list.push(this._buildConfig(component, type));\n      }\n    }\n\n    return list;\n  }\n\n  /**\n   * Extend given component definition object with parsed component connections.\n   *\n   * @private\n   * @method _parseConnections\n   * @param  {Object} rawComponentDefinition  Raw component definition.\n   * @return {Object}                         Component definition including connections.\n   */\n  _parseConnections(rawComponentDefinition) {\n    const componentDefinition = this._normalizeComponentDefinition(rawComponentDefinition);\n    const { properties: { cellsConnections } } = componentDefinition;\n\n    if (!cellsConnections || !Object.keys(cellsConnections).length > 0) {\n      return componentDefinition;\n    }\n\n    const componentDefinitionWithConnections = Object.assign({}, componentDefinition);\n\n    if (cellsConnections.params) {\n      const params = this._parseConnectionsParams(cellsConnections.params);\n\n      /* istanbul ignore if */\n      if (!cellsConnections.in) {\n        cellsConnections.in = {};\n      }\n\n      /* istanbul ignore if */\n      if (!cellsConnections.out) {\n        cellsConnections.out = {};\n      }\n\n      Object.assign(cellsConnections.in, params.in);\n      Object.assign(cellsConnections.out, params.out);\n    }\n\n    componentDefinitionWithConnections.connections = cellsConnections;\n\n    return componentDefinitionWithConnections;\n  }\n\n  /**\n   * Normalizes given raw component definition. Safe-guard method.\n   *\n   * @private\n   * @method _normalizeComponentDefinition\n   * @param  {Object} rawComponentDefinition Raw component definition object.\n   * @return {Object}                        Normalized component definition object.\n   */\n  _normalizeComponentDefinition(rawComponentDefinition) {\n    const DEFAULT_PROPERTIES = { cellsConnections: { in: {}, out: {} } };\n    const componentDefinition = Object.assign({}, rawComponentDefinition);\n\n    componentDefinition.properties = componentDefinition.properties || DEFAULT_PROPERTIES;\n\n    return componentDefinition;\n  }\n\n  /**\n   * Parse params to appropiate connections.\n   *\n   * @private\n   * @method _parseConnectionsParams\n   * @param  {Object} params Params to be parsed.\n   * @return {Object}        Parsed connections.\n   */\n  _parseConnectionsParams(params) {\n    const connections = {\n      in: {},\n      out: {}\n    };\n\n    for (const prop in params) {\n      const paramDef = params[prop];\n      const outBind = dasherize(prop) + '-changed';\n\n      connections.in[paramDef] = this._createConnection(prop);\n      connections.out[paramDef] = this._createConnection(outBind);\n    }\n\n    return connections;\n  }\n\n  /**\n   * Create connection object based on given parameters.\n   *\n   * @private\n   * @method _createConnection\n   * @param  {String}  bind          Property to bind to.\n   * @param  {Boolean} [global=true] Global flag.\n   * @return {Object}                Connection object.\n   */\n  _createConnection(bind, global = true) {\n    return {\n      bind,\n      global\n    };\n  }\n\n  split(data) {\n    var response;\n    /* istanbul ignore if */\n    if (data) {\n      response = {\n        CC: [],\n        UI: [],\n        DM: []\n      };\n      for (let index = 0; index < data.length; index++) {\n        const item = data[index];\n        response[item.type].push(item);\n      }\n    }\n    return response;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/sanitizer.js","import CellsComponent from './component';\n\n/**\n * Class for managing templates\n *\n * A template is a component used in Cells apps for managing the components distribution\n *\n * A template has defined zones like app__header or app__main\n * where you can place your components.\n * The property zoneId (in the json page definition file) indicates the zone in wHich the\n * the component is appended.\n *\n * The components added to the template are the template's children. There are two kind of children:\n * the fixed children and the normal children. The normal ones are appended\n * to the asigned zone, the fixed ones are just stored in the fixedChildren property\n * and appended to an especial zone that is fixed.\n *\n * As the class extends from Component it has properties like node which refers to\n * the node the template is attached.\n *\n * The 'state' atributte in the node is used to know the actual state of the template\n * it can be active, cached or inactive.\n */\nexport default class CellsBridgeTemplate extends CellsComponent {\n  /**\n   * children\n   *\n   * a list of all the components in the template (including the fixed ones)\n   *\n   * @type {Array}\n   */\n  children = [];\n  /**\n   * fixedChildren\n   *\n   * a list of the components in the template of type fixed, not attached to the template\n   * but in a special fixed zone\n   *\n   * @type {Array}\n   */\n  fixedChildren = [];\n  /**\n   * type\n   *\n   * indicates the type of this component\n   *\n   * @type {String}\n   */\n  type = 'TEMPLATE';\n\n  /**\n   * returns the zone node in the template identified by the id.\n   *\n   * @param {String} zoneId\n   *\n   * @return {HTMLElement}\n   */\n  getZone(zoneId) {\n    var curTemplate = this.node;\n    var node;\n    if (!zoneId) {\n      node = curTemplate;\n    } else if (curTemplate.$ && curTemplate.$[zoneId]) {\n      node = curTemplate.$[zoneId];\n    } else {\n      node = curTemplate.querySelector('#' + zoneId);\n    }\n    return node || curTemplate;\n  }\n\n  /**\n   * sets the attribute cache in the template node to 'cached'\n   * for not loading the template again the next time the template is used\n   */\n  cache() {\n    this._setAttribute('state', 'cached');\n  }\n\n  /**\n   * sets the attribute cache in the template node to 'active'\n   * so you can know which of the templates in html is the actual one\n   */\n  activate() {\n    this._setAttribute('state', 'active');\n  }\n\n  /**\n   * sets the attribute cache in the template node to 'inactive'\n   * so you can know which of the templates in html are not the actual one\n   */\n  deactivate() {\n    this._setAttribute('state', 'inactive');\n  }\n\n  native() {\n    this._setAttribute('state', 'native');\n  }\n\n  resetNextNavigation() {\n    this._getTemplate(this.node)._nextNavigation = undefined;\n  }\n\n  /**\n   * Set given value to corresponding attribute name of current template.\n   *\n   * @private\n   * @method _setAttribute\n   * @param {String} name  Attribute name.\n   * @param {String} value Attribute value.\n   */\n  _setAttribute(name, value) {\n    const template = this._getTemplate(this.node);\n\n    template.setAttribute(name, value);\n  }\n\n  /**\n   * Returns current template based on node type.\n   * If it's a routable component (page), we retrieve the first child element that matchs with cells-template.\n   * Otherwise, we return directly the node (cells-template).\n   *\n   * @private\n   * @method _getTemplate\n   * @param  {HTMLElement} node Node for template retrieval.\n   * @return {HTMLElement}      Associate template from given node.\n   */\n  _getTemplate(node) {\n    const { tagName } = node;\n    const isPage = tagName.toLowerCase().endsWith('-page');\n\n    return isPage ? this._getCellsTemplateFromShadowRootChildNodes(node) : node;\n  }\n\n  /**\n   * Returns first element from shadowRoot child nodes that matchs 'cells-template'.\n   *\n   * @private\n   * @method _getCellsTemplateFromShadowRootChildNodes\n   * @param  {HTMLElement} node First level component that contains cells-template inside shadowRoot childNodes.\n   * @return {HTMLElement}      Cells template.\n   */\n  _getCellsTemplateFromShadowRootChildNodes(node) {\n    return Array.from(node.shadowRoot.childNodes).find(el => el && el.tagName && el.tagName.toLowerCase().indexOf('cells-template') !== -1);\n  }\n\n  /**\n   * recieves one component or a list of them, gets the new ones and append\n   * them as child in the selected zone of the template\n   *\n   * @param {Array}/{Object} components\n   *\n   * @return {Boolean}\n   */\n  append(components) {\n    /* istanbul ignore else */\n    if (!components) {\n      return;\n    }\n    /* istanbul ignore else */\n    if (components.length === undefined) {\n      components = [components];\n    }\n\n    let newContentComponents = components.filter(component => component.fixed !== true);\n    let newFixedChildren = components.filter(component => component.fixed === true);\n    this.fixedChildren = this.fixedChildren.concat(newFixedChildren);\n    this.children = this.children.concat(components);\n    let zoneCache = [];\n\n\n    for (let index = 0; index < newContentComponents.length; index++) {\n      const component = newContentComponents[index];\n      // for backward compatibility with Polymer 1\n      component.node.setAttribute('data-select', component.zone);\n      // for the use of slots required by Polymer 2\n      component.node.setAttribute('slot', component.zone);\n      if (typeof zoneCache[component.zone] !== 'object') {\n        zoneCache[component.zone] = this.getZone(component.zone);\n      }\n      zoneCache[component.zone].appendChild(component.node);\n    }\n  }\n\n  config(cellsTemplateConfig) {\n    const {\n      name,\n      template: { id: templateId, name: templateName }\n    } = cellsTemplateConfig;\n\n    this.name = name;\n    this.node.id = templateId;\n    this.node.name = templateName;\n\n    this.setProps();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/template.js","// Taken from string.js npm package\n// https://github.com/jprichardson/string.js\n\nexport const dasherize = str => str.trim().replace(/[_\\s]+/g, '-').replace(/([A-Z])/g, '-$1').replace(/-+/g, '-').toLowerCase()\nexport const camelize = str => str.trim().replace(/(-|_|\\s)+(.)?/g, (mathc, sep, c) => c ? c.toUpperCase() : '');\n\nexport default {\n  dasherize,\n  camelize\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/utils.js","export function isPolymerElementUnresolved(node) {\n  const isCustomElement = node.tagName.indexOf('-') > -1 ;\n  const isPolymer1 = node.__isPolymerInstance__ === true;\n  const isPolymer2 = (\n    (Polymer.Element !== undefined && node instanceof Polymer.Element) ||\n    (Polymer.ElementMixin !== undefined && node instanceof Polymer.ElementMixin) ||\n    (Polymer.LegacyElementMixin !== undefined && node instanceof Polymer.LegacyElementMixin) ||\n    (node.is !== undefined && node.ready !== undefined && node.notifyPath !== undefined)\n  );\n\n  return isCustomElement && !isPolymer1 && !isPolymer2;\n}\n\nexport default {\n  isPolymerElementUnresolved\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/polymer/resolution-checker.js","\"use strict\";\nexports.empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) { throw err; },\n    complete: function () { }\n};\n//# sourceMappingURL=Observer.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/Observer.js\n// module id = 26\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscription_1 = require('./Subscription');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SubjectSubscription = (function (_super) {\n    __extends(SubjectSubscription, _super);\n    function SubjectSubscription(subject, subscriber) {\n        _super.call(this);\n        this.subject = subject;\n        this.subscriber = subscriber;\n        this.closed = false;\n    }\n    SubjectSubscription.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.closed = true;\n        var subject = this.subject;\n        var observers = subject.observers;\n        this.subject = null;\n        if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n            return;\n        }\n        var subscriberIndex = observers.indexOf(this.subscriber);\n        if (subscriberIndex !== -1) {\n            observers.splice(subscriberIndex, 1);\n        }\n    };\n    return SubjectSubscription;\n}(Subscription_1.Subscription));\nexports.SubjectSubscription = SubjectSubscription;\n//# sourceMappingURL=SubjectSubscription.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/SubjectSubscription.js\n// module id = 27\n// module chunks = 0","\"use strict\";\nvar mergeMap_1 = require('./mergeMap');\nvar identity_1 = require('../util/identity');\n/**\n * Converts a higher-order Observable into a first-order Observable which\n * concurrently delivers all values that are emitted on the inner Observables.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables.</span>\n *\n * <img src=\"./img/mergeAll.png\" width=\"100%\">\n *\n * `mergeAll` subscribes to an Observable that emits Observables, also known as\n * a higher-order Observable. Each time it observes one of these emitted inner\n * Observables, it subscribes to that and delivers all the values from the\n * inner Observable on the output Observable. The output Observable only\n * completes once all inner Observables have completed. Any error delivered by\n * a inner Observable will be immediately emitted on the output Observable.\n *\n * @example <caption>Spawn a new interval Observable for each click event, and blend their outputs as one Observable</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000));\n * var firstOrder = higherOrder.mergeAll();\n * firstOrder.subscribe(x => console.log(x));\n *\n * @example <caption>Count from 0 to 9 every second for each click, but only allow 2 concurrent timers</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000).take(10));\n * var firstOrder = higherOrder.mergeAll(2);\n * firstOrder.subscribe(x => console.log(x));\n *\n * @see {@link combineAll}\n * @see {@link concatAll}\n * @see {@link exhaust}\n * @see {@link merge}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n * @see {@link switch}\n * @see {@link zipAll}\n *\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of inner\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits values coming from all the\n * inner Observables emitted by the source Observable.\n * @method mergeAll\n * @owner Observable\n */\nfunction mergeAll(concurrent) {\n    if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n    return mergeMap_1.mergeMap(identity_1.identity, null, concurrent);\n}\nexports.mergeAll = mergeAll;\n//# sourceMappingURL=mergeAll.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operators/mergeAll.js\n// module id = 28\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar Notification_1 = require('../Notification');\n/**\n *\n * Re-emits all notifications from source Observable with specified scheduler.\n *\n * <span class=\"informal\">Ensure a specific scheduler is used, from outside of an Observable.</span>\n *\n * `observeOn` is an operator that accepts a scheduler as a first parameter, which will be used to reschedule\n * notifications emitted by the source Observable. It might be useful, if you do not have control over\n * internal scheduler of a given Observable, but want to control when its values are emitted nevertheless.\n *\n * Returned Observable emits the same notifications (nexted values, complete and error events) as the source Observable,\n * but rescheduled with provided scheduler. Note that this doesn't mean that source Observables internal\n * scheduler will be replaced in any way. Original scheduler still will be used, but when the source Observable emits\n * notification, it will be immediately scheduled again - this time with scheduler passed to `observeOn`.\n * An anti-pattern would be calling `observeOn` on Observable that emits lots of values synchronously, to split\n * that emissions into asynchronous chunks. For this to happen, scheduler would have to be passed into the source\n * Observable directly (usually into the operator that creates it). `observeOn` simply delays notifications a\n * little bit more, to ensure that they are emitted at expected moments.\n *\n * As a matter of fact, `observeOn` accepts second parameter, which specifies in milliseconds with what delay notifications\n * will be emitted. The main difference between {@link delay} operator and `observeOn` is that `observeOn`\n * will delay all notifications - including error notifications - while `delay` will pass through error\n * from source Observable immediately when it is emitted. In general it is highly recommended to use `delay` operator\n * for any kind of delaying of values in the stream, while using `observeOn` to specify which scheduler should be used\n * for notification emissions in general.\n *\n * @example <caption>Ensure values in subscribe are called just before browser repaint.</caption>\n * const intervals = Rx.Observable.interval(10); // Intervals are scheduled\n *                                               // with async scheduler by default...\n *\n * intervals\n * .observeOn(Rx.Scheduler.animationFrame)       // ...but we will observe on animationFrame\n * .subscribe(val => {                           // scheduler to ensure smooth animation.\n *   someDiv.style.height = val + 'px';\n * });\n *\n * @see {@link delay}\n *\n * @param {IScheduler} scheduler Scheduler that will be used to reschedule notifications from source Observable.\n * @param {number} [delay] Number of milliseconds that states with what delay every notification should be rescheduled.\n * @return {Observable<T>} Observable that emits the same notifications as the source Observable,\n * but with provided scheduler.\n *\n * @method observeOn\n * @owner Observable\n */\nfunction observeOn(scheduler, delay) {\n    if (delay === void 0) { delay = 0; }\n    return function observeOnOperatorFunction(source) {\n        return source.lift(new ObserveOnOperator(scheduler, delay));\n    };\n}\nexports.observeOn = observeOn;\nvar ObserveOnOperator = (function () {\n    function ObserveOnOperator(scheduler, delay) {\n        if (delay === void 0) { delay = 0; }\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    ObserveOnOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ObserveOnSubscriber(subscriber, this.scheduler, this.delay));\n    };\n    return ObserveOnOperator;\n}());\nexports.ObserveOnOperator = ObserveOnOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ObserveOnSubscriber = (function (_super) {\n    __extends(ObserveOnSubscriber, _super);\n    function ObserveOnSubscriber(destination, scheduler, delay) {\n        if (delay === void 0) { delay = 0; }\n        _super.call(this, destination);\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    ObserveOnSubscriber.dispatch = function (arg) {\n        var notification = arg.notification, destination = arg.destination;\n        notification.observe(destination);\n        this.unsubscribe();\n    };\n    ObserveOnSubscriber.prototype.scheduleMessage = function (notification) {\n        this.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch, this.delay, new ObserveOnMessage(notification, this.destination)));\n    };\n    ObserveOnSubscriber.prototype._next = function (value) {\n        this.scheduleMessage(Notification_1.Notification.createNext(value));\n    };\n    ObserveOnSubscriber.prototype._error = function (err) {\n        this.scheduleMessage(Notification_1.Notification.createError(err));\n    };\n    ObserveOnSubscriber.prototype._complete = function () {\n        this.scheduleMessage(Notification_1.Notification.createComplete());\n    };\n    return ObserveOnSubscriber;\n}(Subscriber_1.Subscriber));\nexports.ObserveOnSubscriber = ObserveOnSubscriber;\nvar ObserveOnMessage = (function () {\n    function ObserveOnMessage(notification, destination) {\n        this.notification = notification;\n        this.destination = destination;\n    }\n    return ObserveOnMessage;\n}());\nexports.ObserveOnMessage = ObserveOnMessage;\n//# sourceMappingURL=observeOn.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operators/observeOn.js\n// module id = 29\n// module chunks = 0","\"use strict\";\nexports.isArray = Array.isArray || (function (x) { return x && typeof x.length === 'number'; });\n//# sourceMappingURL=isArray.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/isArray.js\n// module id = 30\n// module chunks = 0","\"use strict\";\nexports.isArrayLike = (function (x) { return x && typeof x.length === 'number'; });\n//# sourceMappingURL=isArrayLike.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/isArrayLike.js\n// module id = 31\n// module chunks = 0","\"use strict\";\nfunction isObject(x) {\n    return x != null && typeof x === 'object';\n}\nexports.isObject = isObject;\n//# sourceMappingURL=isObject.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/isObject.js\n// module id = 32\n// module chunks = 0","\"use strict\";\nfunction isPromise(value) {\n    return value && typeof value.subscribe !== 'function' && typeof value.then === 'function';\n}\nexports.isPromise = isPromise;\n//# sourceMappingURL=isPromise.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/isPromise.js\n// module id = 33\n// module chunks = 0","if (!Object.values) {\n\tObject.values = function values(obj) {\n    return Object.keys(obj).map(function (key) {\n  \t\treturn obj[key];\n  \t});\n\t};\n}\n\nif (!Object.entries) {\n  Object.entries = function( obj ){\n    var ownProps = Object.keys( obj ),\n        i = ownProps.length,\n        resArray = new Array(i); // preallocate the Array\n    while (i--)\n      resArray[i] = [ownProps[i], obj[ownProps[i]]];\n\n    return resArray;\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/polyfills.js","import CellsBridge from '../core/bridge';\nimport PolymerComponentConnector from './component-connector';\nimport PolymerTemplateManager from './manager/template';\nimport PolymerComponent from './component';\n\nexport default class CellsPolymerBridge extends CellsBridge {\n\n  constructor(config) {\n    super(config);\n\n    if (config.avoidPolymerEventCache === true) {\n      var origGetEvent = Polymer.Base._getEvent;\n      Polymer.Base._getEvent = function(type, bubbles, cancelable) {\n        return origGetEvent(type, bubbles, cancelable, false);\n      }\n    }\n  }\n\n  _initDependencies(dependencies) {\n    dependencies = Object.assign(\n      {\n        ComponentConnector: PolymerComponentConnector,\n        TemplateManager: PolymerTemplateManager\n      },\n      dependencies\n    );\n    super._initDependencies(dependencies);\n  }\n\n  _createCellsComponent(spec, context) {\n    return new PolymerComponent(spec, context);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/polymer/bridge.js","'use strict';\nconst isObj = require('is-obj');\n\nfunction getPathSegments(path) {\n\tconst pathArr = path.split('.');\n\tconst parts = [];\n\n\tfor (let i = 0; i < pathArr.length; i++) {\n\t\tlet p = pathArr[i];\n\n\t\twhile (p[p.length - 1] === '\\\\' && pathArr[i + 1] !== undefined) {\n\t\t\tp = p.slice(0, -1) + '.';\n\t\t\tp += pathArr[++i];\n\t\t}\n\n\t\tparts.push(p);\n\t}\n\n\treturn parts;\n}\n\nmodule.exports = {\n\tget(obj, path, value) {\n\t\tif (!isObj(obj) || typeof path !== 'string') {\n\t\t\treturn value === undefined ? obj : value;\n\t\t}\n\n\t\tconst pathArr = getPathSegments(path);\n\n\t\tfor (let i = 0; i < pathArr.length; i++) {\n\t\t\tif (!Object.prototype.propertyIsEnumerable.call(obj, pathArr[i])) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tobj = obj[pathArr[i]];\n\n\t\t\tif (obj === undefined || obj === null) {\n\t\t\t\t// `obj` is either `undefined` or `null` so we want to stop the loop, and\n\t\t\t\t// if this is not the last bit of the path, and\n\t\t\t\t// if it did't return `undefined`\n\t\t\t\t// it would return `null` if `obj` is `null`\n\t\t\t\t// but we want `get({foo: null}, 'foo.bar')` to equal `undefined`, or the supplied value, not `null`\n\t\t\t\tif (i !== pathArr.length - 1) {\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\tset(obj, path, value) {\n\t\tif (!isObj(obj) || typeof path !== 'string') {\n\t\t\treturn obj;\n\t\t}\n\n\t\tconst root = obj;\n\t\tconst pathArr = getPathSegments(path);\n\n\t\tfor (let i = 0; i < pathArr.length; i++) {\n\t\t\tconst p = pathArr[i];\n\n\t\t\tif (!isObj(obj[p])) {\n\t\t\t\tobj[p] = {};\n\t\t\t}\n\n\t\t\tif (i === pathArr.length - 1) {\n\t\t\t\tobj[p] = value;\n\t\t\t}\n\n\t\t\tobj = obj[p];\n\t\t}\n\n\t\treturn root;\n\t},\n\n\tdelete(obj, path) {\n\t\tif (!isObj(obj) || typeof path !== 'string') {\n\t\t\treturn;\n\t\t}\n\n\t\tconst pathArr = getPathSegments(path);\n\n\t\tfor (let i = 0; i < pathArr.length; i++) {\n\t\t\tconst p = pathArr[i];\n\n\t\t\tif (i === pathArr.length - 1) {\n\t\t\t\tdelete obj[p];\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tobj = obj[p];\n\n\t\t\tif (!isObj(obj)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t},\n\n\thas(obj, path) {\n\t\tif (!isObj(obj) || typeof path !== 'string') {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst pathArr = getPathSegments(path);\n\n\t\tfor (let i = 0; i < pathArr.length; i++) {\n\t\t\tif (isObj(obj)) {\n\t\t\t\tif (!(pathArr[i] in obj)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tobj = obj[pathArr[i]];\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/dot-prop/index.js","// eslint-disable-next-line no-unused-vars\nimport ManagerDom from './manager/dom';\nimport ManagerPage from './manager/page';\nimport ComponentConnector from './component-connector';\nimport Router from './router';\nimport Sanitizer from './sanitizer';\nimport eventManager from './manager/events';\nimport ImportManager from './manager/import';\nimport TemplateManager from './manager/template';\nimport Component from './component';\nimport BridgeChannelManager from './manager/bridge-channels';\nimport ActionChannelManager from './manager/action-channels';\nimport Utils from './utils';\nimport Constants from './constants';\nimport ComposerEngineProxy from './composer/composer-engine-proxy';\nimport Monitoring from './monitoring';\n\nconst { dasherize, camelize } = Utils;\nconst { bindingCodes, binding, componentsPath, composerEndpoint, externalEvents, externalEventsCodes, initialTemplate: DEFAULT_INITIAL_TEMPLATE, pagesPath: DEFAULT_PAGES_PATH, prplCodes, prpl, preRenderState } = Constants;\n\nconst { DEFAULT: ALWAYS } = binding;\nconst { DEFAULT: DEFER } = prpl;\n\nvar coreInstances = 0;\nvar globalChannel = {};\n\n// @TODO: Agregar los imports y eliminar los `new this.*`\n// @TODO: Revisar los mtodos que manipulan templates. Quizs deban ser responsabilidad del TemplateManager\n\nlet CellsBridge = class CellsBridge {\n  ComponentConnector = null;\n  DomManager = null;\n  ImportManager = null;\n  PageManager = null;\n  Router = null;\n  TemplateManager = null;\n  Sanitizer = null;\n  BridgeChannelManager = null;\n\n  /**\n\t * Binding Type\n\t *\n\t * 'always'      => Register all components of all views. Never unregister them.\n\t * 'delayed'     => Like 'always' but waits for idle to start the animation.\n\t * 'ui'          => Register only ui and cross components of all views. Never\n\t *                  unregister them. Datamanagers are only connected when the\n\t *                  animation of the current view finishes.\n\t * 'currentview' => Register all components of the current view when the\n\t *                  animation finishes.\n\t *\n\t * @type {String}\n\t */\n  binding = ALWAYS;\n  /**\n   *\n   * @type {sting}\n   *\n   *  none => Don't use bundled pages\n   *  defer => Use bundled pages. It renders the page once every component has been loaded.\n   *  progressive => Use bundled pages. It renders the page inmediatelly while its component are loading.\n   *  hero => Use bundled pages. It renders the page inmediatelly while its component are loading using priorities.\n   */\n  prplLevel = DEFER;\n  /**\n\t * Pages Cache\n\t *\n\t * Saves page definitions into localstorage.\n\t *\n\t * @type {Boolean}\n\t */\n  cache = true;\n  /**\n\t * PubSub Context\n\t *\n\t * 'global'   => Notifies all components of all bridge instances.\n\t * 'local'    => Notifies components created by the current bridge instance.\n\t *\n\t * @type {String}\n\t */\n  channel = 'global';\n  /**\n   * URL Components Path\n   *\n   * URL path to load components.\n   *\n   * @type {String}\n   */\n  componentsPath = componentsPath;\n  /**\n\t * URL templates Path\n\t *\n\t * URL path to load templates.\n\t *\n\t * @type {String}\n\t */\n  templatesPath = '';\n  /**\n\t * Cross container node Id\n\t *\n\t * @type {String}\n\t */\n  crossContainerId = '__cross';\n  /**\n\t * Prints debug info\n\t *\n\t * @type {Boolean}\n\t */\n  debug = true;\n  /**\n\t * Proactive Cache.\n\t * Loads future pages definition.\n\t *\n\t * @type {Boolean}\n\t */\n  preCache = false;\n  /**\n\t * Proactive Render\n\t * Render future pages.\n\t *\n\t * @type {Boolean}\n\t */\n  preRender = false;\n  /**\n\t * Prefix for LocalStorage keys\n\t *\n\t * @type {String}\n\t */\n  storagePrefix = '__bridge-';\n  /**\n\t * Lib version.\n\t *\n\t * @type {string}\n\t */\n  version = '3.5.0';\n  /**\n\t * Max number of views\n\t *\n\t * Keeps this number of template alive.\n\t *\n\t * @type {Number}\n\t */\n  viewLimit = 6;\n  /**\n   * The name of the initial template that gets rendered\n   *\n   * @type {String}\n   */\n  initialTemplate = DEFAULT_INITIAL_TEMPLATE;\n  /**\n   *  The node where the template will be rendered\n   */\n  __mainNodeElement = null;\n\n  /**\n\t * Events to expose\n\t *\n\t *\n\t * @type {Array}\n\t */\n  externalEvents = externalEvents;\n\n  /**\n   * The lists of routes that are rendered through a WebComponent.\n   *\n   * @type {Array}\n   */\n  pages = [];\n\n  /**\n   * The path to the folder that contains the components that renders a route.\n   *\n   * @type {String}\n   */\n  pagesPath = DEFAULT_PAGES_PATH;\n\n  /**\n   * The list of templates that are remote and need to be fetched from a remote server\n   * @type {Array}\n   */\n  remoteTemplates = [];\n\n  /**\n   * If it is true, the Bridge will use the Composer Engine to get the json\n   * pages (composer mocks)\n   * @type {Boolean}\n   */\n  useComposerEngine = false;\n\n  /**\n   * Json that contains the App definition.\n   * This is required by Composer Engine.\n   *\n   * @type {JSON}\n   */\n  appJson = '';\n\n  appId = '';\n  composerEndpoint = composerEndpoint;\n  templatesPath = '';\n\n  monitoring = null;\n\n  logs = false;\n\n  constructor(config) {\n    const { NAV_REQUEST, ROUTER_BACKSTEP } = externalEventsCodes;\n\n    if (!config || typeof config !== 'object') {\n      config = {};\n    }\n\n    config.prplLevel = this._normalizePrplLevel(config.prplLevel);\n    this.preRenderingPages = {};\n\n    let dependencies = config.dependencies;\n    delete config.dependencies;\n    Object.assign(this, config);\n\n    this._initDependencies(dependencies);\n\n    if (this.channel === 'global') {\n      this.ComponentConnector.manager.channels = globalChannel;\n    }\n\n    if (this.useComposerEngine) {\n      this._initComposerEngine();\n    }\n\n    if (!this.mainNode) {\n      console.warn('You should indicate the main node of your app');\n    } else {\n      this._plugExternalEvents();\n    }\n\n    this.id = coreInstances++;\n    this._initCrossComponents();\n\n    if (this.cache) {\n      this.PageManager.persistent = true;\n    }\n    if (this.generateRequestUrl) {\n      console.assert(\n        typeof this.generateRequestUrl === 'function',\n        'generateRequestUrl has to be a function'\n      );\n      this.PageManager.generateRequestUrl = this.generateRequestUrl;\n    }\n    if (this.onPageDefinitionNotFound) {\n      console.assert(\n        typeof this.onPageDefinitionNotFound === 'function',\n        'onPageDefinitionNotFound has to be a function'\n      );\n      this.PageManager.onPageDefinitionNotFound = this.onPageDefinitionNotFound;\n    }\n\n    window.$core = window.$core || [];\n    /* istanbul ignore else */\n    if (this.debug) {\n      window.$core.push(this);\n      this.printDebugInfo();\n    } else {\n      window.$core.push(\n        {\n          // monitoring\n          log: (log) => this.log(log),\n          ingest: (spans) => this.ingest(spans),\n          createSpan: (data) => this.createSpan(data),\n          createUUID: () => this.createUUID(),\n\n          // bridge\n          logout: () => this.logout(),\n          subscribeToEvent: (eventName, callback) => this.subscribeToEvent(eventName, callback),\n          registerInConnection: (channel, node, callback) => this.registerInConnection(channel, node, callback),\n          registerOutConnection: (channelName, node, bindName) => this.registerOutConnection(channelName, node, bindName),\n          publish: (channelName, value) => this.publish(channelName, value),\n          navigate: (page, params) => this.navigate(page, params)\n        }\n      );\n    }\n    window.cells = window.$core[0];\n\n    this.BridgeChannelManager.initAppContextChannel();\n    this.BridgeChannelManager.getCancelledBackNavigationChannel();\n    this.ActionChannelManager.subscribeAll();\n\n    // Bridge is ready - execute queued bridge commands\n    this._executePendingBridgeQueue();\n\n    if (this.logs) {\n      this._logBridgeReady();\n    }\n\n    // 1. Listen for route changes\n    // @TODO: Revisar este binding de un mtodo de otro objeto a otro objeto\n    this.Router.handler = () => this.routeHandler();\n    this.Router.addRoutes(this.routes);\n    this._initSkipNavigations();\n    this.Router.start();\n\n    eventManager.on(NAV_REQUEST,\n      function (info) {\n        var event = info.event;\n        var navigationDetail = info.detail;\n        var page = navigationDetail.page;\n        var params = navigationDetail.params;\n        var skipHistory = navigationDetail.skipHistory;\n        var replace = navigationDetail.replace || false;\n        var p = {};\n        if (!page && navigationDetail.paramPage && event.detail) {\n          page = event.detail[navigationDetail.paramPage];\n        }\n        if (event.detail && params) {\n          for (var param in params) {\n            if (params.hasOwnProperty(param)) {\n              p[params[param]] = event.detail[param];\n            }\n          }\n        }\n        this.Router.go(page, p, replace, skipHistory);\n        Object.assign(this, config);\n      }.bind(this)\n    );\n\n    eventManager.on(ROUTER_BACKSTEP, (evt) => this.handleBack(evt));\n  }\n\n  /**\n   * Performs the go back action. This method is overriden by the CellsNativeBridge\n   *\n   * @return {Object} the executed navigation, an object with properties:\n   *  - from\n   *  - to\n   */\n  goBack() {\n    return this.Router.back();\n  }\n\n  /**\n   * This method is executed when the event router-backstep is fired.\n   * It calls the hook method for handling backward navigations and if that method\n   * allows the continuation, it does the navegation. Otherwise it will cancel the navigation\n   * and publish the response in the channel __bridge_cancelled_back_navigation.\n   */\n  handleBack() {\n    this.goBack();\n  }\n\n  /**\n   * Execute queued bridge commands due to delayed instance of bridge and\n   * premature execution of commands.\n   *\n   * @method\n   * @private\n   */\n  _executePendingBridgeQueue() {\n    if (!window.cellsBridgeQueue || !window.cellsBridgeQueue.length) {\n      return;\n    }\n\n    for (var i = 0; i < window.cellsBridgeQueue.length; i++) {\n      const queuedItem = window.cellsBridgeQueue[i];\n      const { command, parameters } = queuedItem;\n      const queuedCommand = this[command];\n\n      if (!queuedCommand) {\n        console.log(`WARNING: Invalid cells bridge command execution: ${command} (QUEUE).`);\n        return;\n      }\n\n      console.log(`Executing queued command ${command}.`);\n      queuedCommand.apply(this, parameters);\n    }\n\n    delete window.cellsBridgeQueue;\n  }\n\n  _logBridgeReady() {\n    const { appId, version, binding, prplLevel, cache, preCache, preRender } = this;\n    const message = `cells-bridge::ready`;\n    const properties = {\n      appId,\n      version,\n      binding,\n      href: window.location.href,\n      prplLevel,\n      cache,\n      preCache,\n      preRender\n    };\n    const log = { message, properties };\n\n    this.logBridge(log);\n  }\n\n  _initSkipNavigations() {\n    if (this.skipNavigations && this.skipNavigations.length>0) {\n      for (let i=0; i<this.skipNavigations.length; i++) {\n        this.skipNavigations[i].skipHistory = true;\n      }\n      this.Router.addSkipNavigations(this.skipNavigations);\n    }\n  }\n\n  _normalizePrplLevel(prplLevelCode) {\n    const { VALUES: prplList } = prpl;\n    let normalizedCode;\n\n    if (prplList.indexOf(prplLevelCode) > -1) {\n      normalizedCode = prplLevelCode;\n    } else {\n      normalizedCode = prplList[prplLevelCode] || DEFER;\n    }\n    return normalizedCode;\n  }\n\n  _plugExternalEvents() {\n    let len = this.externalEvents.length;\n    let mainNode = this.getMainNode();\n    let setExternalEvent = function (name, payload) {\n      let event = (payload) ? new CustomEvent(name, { detail: payload }) : new CustomEvent(name);\n      mainNode.dispatchEvent(event);\n    }\n    if (mainNode) {\n      for (let i = 0; i < len; i++) {\n        const eventName = this.externalEvents[i];\n\n        eventManager.on(eventName, (data) => {\n          setExternalEvent(eventName, data);\n\n          if (this.logs) {\n            this.monitor(eventName, data);\n          }\n        });\n      }\n      this._initEventChannels();\n    } else {\n      console.warn('The defined main node does not exist');\n    }\n  }\n\n  monitor(eventName, data) {\n    const { LOG_EVENT } = externalEventsCodes;\n    const isApplicationLogEvent = eventName === LOG_EVENT;\n    const isLoggable = isApplicationLogEvent || this.isBridgeLoggableEvent(eventName);\n\n    if (isLoggable) {\n      const log = this.monitoring.buildLog(eventName, data);\n      const method = isApplicationLogEvent ? 'log' : 'logBridge';\n\n      this[method](log);\n    }\n  }\n\n  isBridgeLoggableEvent(eventName) {\n    return this.monitoring.isBridgeLoggableEvent(eventName);\n  }\n\n  log(log) {\n    this.hasApplicationLoggingEnabled() && this.monitoring.logApplication(log);\n  }\n\n  logBridge(log) {\n    this.monitoring.logBridge(log);\n  }\n\n  ingest(spans) {\n    this.hasApplicationLoggingEnabled() && this.monitoring.ingest(spans);\n  }\n\n  createSpan(data) {\n    if (!this.hasApplicationLoggingEnabled()) {\n      return;\n    }\n\n    return this.monitoring.createSpan(data);\n  }\n\n  createUUID() {\n    return this.monitoring.createUUID();\n  }\n\n  hasApplicationLoggingEnabled() {\n    return this.monitoring.hasApplicationLoggingEnabled();\n  }\n\n  _initEventChannels() {\n    let mainNode = this.getMainNode();\n    this.BridgeChannelManager.initEventChannels(mainNode, this.externalEvents);\n    this._addInitialSubscribersToEvents();\n  }\n\n  _addInitialSubscribersToEvents() {\n    if (this.eventSubscriptions && this.eventSubscriptions.length > 0) {\n      this._subscribeToEvents(this.eventSubscriptions);\n    }\n  }\n\n  _subscribeToEvents(eventSubscriptions) {\n    eventSubscriptions.forEach((subscription) => {\n      const { event, callback } = subscription;\n\n      this.subscribeToEvent(event, callback);\n    });\n  }\n\n  /**\n   * Initialization of cross components container.\n   * Check if cross component container exists. Otherwise, it will be created.\n   *\n   * @private\n   */\n  _initCrossComponents() {\n    const crossContainerTemplateId = this.TemplateManager.parseTemplateId(this.crossContainerId);\n    let crossContainer = this.TemplateManager.get(crossContainerTemplateId);\n    const crossContainerElement = document.getElementById(crossContainerTemplateId);\n\n    // no cross container registered on memory\n    if (!crossContainer) {\n      if (!crossContainerElement) {\n        // no html element for cross container, we build it from scratch\n        crossContainer = this.TemplateManager.create(this.crossContainerId, { tagName: 'div' });\n        document.body.appendChild(crossContainer.node);\n      } else {\n        // html element found. we register it\n        this.TemplateManager.register(this.crossContainerId, crossContainerElement);\n      }\n    }\n  }\n\n  _initDependencies(dependencies) {\n    dependencies = Object.assign(\n      {\n        ComponentConnector: ComponentConnector,\n        DomManager: ManagerDom,\n        ImportManager: ImportManager,\n        PageManager: ManagerPage,\n        TemplateManager: TemplateManager,\n        Router: Router,\n        Sanitizer: Sanitizer,\n        BridgeChannelManager: BridgeChannelManager,\n        ActionChannelManager: ActionChannelManager,\n        monitoring: Monitoring,\n      },\n      dependencies\n    );\n    for (let dependence in dependencies) {\n      if (dependencies.hasOwnProperty(dependence)) {\n        this[dependence] = new dependencies[dependence](this);\n      }\n    }\n  }\n\n  _initComposerEngine() {\n    /* global composerEngine */\n    this.composerEngine = new ComposerEngineProxy(this.ComponentConnector.manager,\n      this.getPlatform(), composerEngine);\n    this.composerEngine.init();\n    this.PageManager.composerEngine = this.composerEngine;\n  }\n\n  _createCellsComponent(spec, context) {\n    return new Component(spec, context);\n  }\n\n  createCCComponent(spec) {\n    var container = this.TemplateManager.get(this.crossContainerId);\n    var node = container.node.querySelector(spec.tagName);\n    if (!node) {\n      var cmp = this._createCellsComponent(spec, this);\n      cmp.__parentTemplate = container;\n      this.ComponentConnector.register(cmp.node, cmp.spec.connections);\n      return cmp;\n    } else {\n      this.ComponentConnector.progressiveRegister(node, spec.connections);\n    }\n  }\n\n  createUIComponent(spec) {\n    const { ALWAYS, DELAYED, UI } = bindingCodes;\n    var bindingType = this.binding;\n    var cmp = this._createCellsComponent(spec, this);\n\n    if (bindingType === ALWAYS || bindingType === DELAYED || bindingType === UI) {\n      this.ComponentConnector.register(cmp.node, cmp.connections);\n    }\n    return cmp;\n  }\n\n  createDMComponent(spec) {\n    const { ALWAYS, DELAYED } = bindingCodes;\n    var bindingType = this.binding;\n    var cmp = this._createCellsComponent(spec, this);\n\n    if (bindingType === ALWAYS || bindingType === DELAYED) {\n      this.ComponentConnector.register(cmp.node, cmp.connections);\n    }\n    return cmp;\n  }\n\n  _createLocalComponent(type, items, template) {\n    var collection = [];\n    for (var i = 0, l = items.length; i < l; i++) {\n      var spec = items[i];\n      var cmp = this['create' + type + 'Component'](spec);\n      if (cmp) {\n        cmp.__parentTemplate = cmp.__parentTemplate || template;\n        collection.push(cmp);\n      }\n    }\n    return collection;\n  }\n\n  createComponentsByType(collection, template) {\n    var itemsToInject = [];\n    var sortedList = ['CC', 'UI', 'DM'];\n    for (var j = 0, k = sortedList.length; j < k; j++) {\n      var type = sortedList[j];\n      var items = collection[type];\n      itemsToInject = itemsToInject.concat(this._createLocalComponent(type, items, template));\n    }\n    return itemsToInject;\n  }\n\n  _createComponents(response, template, isPreRendering = false) {\n    const { PAGE_READY } = externalEventsCodes;\n    const { page } = response;\n\n    var options = this;\n    var collection = this.Sanitizer.split(response.components);\n    var components = this.createComponentsByType(collection, template);\n    var unresolvedComponents = [];\n    var templateParents = [];\n\n    for (var i = 0, l = components.length; i < l; i++) {\n      // 9. Sets default attributes\n      components[i].setProps();\n      var component = components[i];\n      var parentName = component.__parentTemplate.name;\n      if (!templateParents[parentName]) {\n        templateParents[parentName] = this.TemplateManager.get(parentName);\n      }\n      // 9.1 Append components to template\n      templateParents[parentName].append(component);\n\n      if (component.isUnresolved()) {\n        unresolvedComponents.push(component);\n      }\n    }\n\n    eventManager.emit(PAGE_READY, { page, components: response.components.map(c => c.tagName).join(', ')});\n\n    switch(this.prplLevel) {\n    case prplCodes.NONE:\n    case prplCodes.DEFER:\n      this.ImportManager.loadComponent(unresolvedComponents, options.componentsPath).then(() => {\n        this.selectTemplate(page, isPreRendering);\n      });\n      break;\n    case prplCodes.PROGRESSIVE:\n      this.ImportManager.loadComponent(unresolvedComponents, options.componentsPath);\n      break;\n    case prplCodes.HERO:\n      this.selectTemplate(page, isPreRendering);\n      this.ImportManager.loadComponentByPriority(unresolvedComponents, options.componentsPath);\n      break;\n    }\n  }\n\n  createPageFromPolymerWebComponent(name) {\n    const componentName = `${name}-page`;\n    let node = this.TemplateManager.getNode(name);\n\n    this.BridgeChannelManager.getPrivate(name);\n\n    if (!node) {\n      node = this.TemplateManager.createFromComponent(name, componentName);\n\n      if (node.isUnresolved()) {\n        // @TODO\n        // OJO!!! hay que ver cmo integramos selectTemplate en lugar de selectPage...\n        return this.loadPolymerWebComponent(name);\n      }\n    }\n\n    // @TODO\n    // OJO!!! hay que ver cmo integramos selectTemplate en lugar de selectPage...\n    return Promise.resolve();\n  }\n\n  _isLocalTemplate(templateName) {\n    let isLocal = true;\n    if (this.composerEndpoint && this.remoteTemplates) {\n      isLocal = this.remoteTemplates.indexOf(templateName) === -1;\n    }\n    return isLocal;\n  }\n\n  createTemplate(response, isPreRendering = false) {\n    let spec = response;\n    let name = response.page;\n    let node = this.TemplateManager.getNode(name);\n    this.BridgeChannelManager.getPrivate(name);\n\n    if (!isPreRendering && this.preRenderingPages[name]) {\n      this.preRenderingPages[name] = preRenderState.REQUESTED;\n      return;\n    }\n\n    // Template is cached\n    if (node) {\n      this.selectTemplate(name, isPreRendering);\n    } else {\n      // Template not cached and has definition\n      if (spec && spec.template) {\n        if (this.prplLevel === prplCodes.DEFER && this._isLocalTemplate(name)) {\n          this.ImportManager.loadBundleForTemplate(this.componentsPath, name).then(() => {\n            this._createTemplateFromSpec(name, spec, isPreRendering)\n          });\n        } else {\n          this._createTemplateFromSpec(name, spec, isPreRendering);\n        }\n      }\n    }\n    this._preRender(response, isPreRendering);\n  }\n\n  _preRender(response, isPreRendering) {\n    if ((this.preCache === true || this.preRender === true) && response.pages) {\n      for (var page in response.pages) {\n        let pageAlreadyLoaded = (page === name || this.TemplateManager.cache[page]);\n        if (pageAlreadyLoaded) {\n          continue;\n        }\n        if (this.preRender && isPreRendering === false) {\n          this.preRenderingPages[page] = preRenderState.WORKING;\n        }\n        this.loadTemplate(page).then(templateResponse => {\n          if (this.preRender && isPreRendering === false) {\n            let doPreRender = true;\n            if (templateResponse.page) {\n              this._idleCallback(() => this.createTemplate(templateResponse, doPreRender));\n            } else {\n              console.warn('Missing page. ', templateResponse);\n            }\n          }\n        });\n      }\n    }\n  }\n\n  _createTemplateFromSpec(name, spec, isPreRendering = false) {\n    // 4. Creates the new template\n    var template = this.TemplateManager.create(name, spec.template);\n    if (this.prplLevel === prplCodes.PROGRESSIVE) {\n      this.selectTemplate(name, isPreRendering);\n    }\n    this.ComponentConnector.register(template.node, template.connections);\n    // Add new routes in router\n    if (spec.pages) {\n      this.Router.addRoutes(spec.pages);\n    }\n    // 5. Import it when doesn't exists\n    if (template.isUnresolved()) {\n      switch(this.prplLevel) {\n      case prplCodes.NONE:\n      case prplCodes.DEFER:\n        this.ImportManager.loadComponent(template, this.componentsPath).then(() => {\n          this._createComponents(spec, template, isPreRendering);\n        });\n        break;\n      case prplCodes.PROGRESSIVE:\n      case prplCodes.HERO:\n        this._createComponents(spec, template, isPreRendering);\n        break;\n      }\n    } else {\n      this._createComponents(spec, template, isPreRendering);\n    }\n\n  }\n\n  /**\n\t * Id for template node\n\t *\n\t * @param  {String} name Template name\n\t *\n\t * @return {String}\n\t */\n  parseTemplateId(name) {\n    return 'cells-template-' + name.replace(/\\./g, '-');\n  }\n\n  parse(name, value) {\n    name = camelize('parse-' + name);\n    return typeof this[name] === 'function' ?\n      this[name](value) :\n      value;\n  }\n\n  printDebugInfo() {\n    var getColor = function (option, color) {\n      var hexColor = option ?\n        color :\n        '#b0bec5';\n      return `background:${hexColor}; color:#fff; padding:2px 4px; margin-right: 5px;`;\n    };\n    console.log(\n      `%cbridge version: ${this.version} %cbinding: ${this.binding} %cprplLevel: ${this.prplLevel} %ccache: ${this.cache} %cpreCache: ${this.preCache} %cpreRender: ${this.preRender} %clogs: ${this.logs}`,\n      getColor(this.version, '#003f8d'),\n      getColor(this.binding, '#0065ba'),\n      getColor(this.prplLevel, '#008ff2'),\n      getColor(this.cache, '#0093e2'),\n      getColor(this.preCache, '#00aeeb'),\n      getColor(this.preRender, '#41cef8'), //#00aeeb\n      getColor(this.logs, '#0025ad') //#00aeeb\n    );\n\n    if (this.id > 0) {\n      console.log(`%cWARNING: There are ${this.id + 1} simultaneous instances of the Bridge running.`,\n        getColor(this.id, '#FF0000'));\n    }\n  }\n\n  routeHandler() {\n    const { PARSE_ROUTE } = externalEventsCodes;\n    var route = this.Router.currentRoute;\n\n    eventManager.emit(PARSE_ROUTE, route);\n\n    // 2. Load a new page when route changes\n    this._handleRouteLoading(route);\n\n    // 3. Publish URL params to global params.\n    for (let param in route.params) {\n      if (route.params.hasOwnProperty(param)) {\n        let eventData = {\n          detail: {\n            value: route.params[param]\n          },\n          type: dasherize(param) + '-changed'\n        };\n\n        this.ComponentConnector.manager.get(param).next(eventData);\n      }\n    }\n  }\n\n  /**\n   * Determines if given route maps to a component.\n   *\n   * @param  {Object}  route  Route object.\n   * @return {Boolean}\n   */\n  isRoutableComponent(route) {\n    return this.pages.indexOf(route.name) >= 0;\n  }\n\n  loadTemplate(name, params) {\n    const { cache, method, body, headers, app, templatesPath: templates } = this;\n    const options = { cache, params, method, body, headers };\n    const config = { app, templates };\n\n    return this.PageManager.get(name, options, config);\n  }\n\n  // @TODO DRY -> sanitizer lo usa tambin\n  loadPolymerWebComponent(name) {\n    const path = Array(2).fill(`${name}-page`).join('/');\n    const component = { spec: { path: `${path}.html` } };\n\n    return this.ImportManager.loadComponent(component, this.pagesPath);\n  }\n\n  _handleRouteLoading(route) {\n    if (this.isRoutableComponent(route)) {\n      this.createPageFromPolymerWebComponent(route.name).then(() => this.selectPage(route.name, route.params));\n    } else {\n      this.loadTemplate(route.name, route.params).then(response => this.createTemplate(response));\n    }\n  }\n\n  registerCurrentTemplate(currentTemplate, previousTemplate) {\n    const { TEMPLATE_REGISTERED } = externalEventsCodes;\n    const { UI } = bindingCodes;\n    var options = this;\n\n    if (previousTemplate && previousTemplate !== currentTemplate) {\n      this.unregisterChildren(previousTemplate, options.binding === UI ? 'DM' : null);\n    }\n    this.registerChildren(currentTemplate, options.binding === UI ? 'DM' : null);\n\n    this.registerChildren(currentTemplate, options.binding === UI ? 'DM' : null);\n\n    this._updateChannels(previousTemplate, currentTemplate);\n    eventManager.emit(TEMPLATE_REGISTERED, { template: currentTemplate.name });\n  }\n\n  // this function MAY BE OVERRIDE on native bridge - not required due to internal router updateing the context\n  _updateChannels(previousTemplate, currentTemplate) {\n    if (this.BridgeChannelManager) {\n      var oldName = previousTemplate ? previousTemplate.name : undefined;\n      this.BridgeChannelManager.updateAppContext(oldName, currentTemplate.name);\n      this.BridgeChannelManager.initPrivateChannel(oldName, currentTemplate.name);\n    }\n  }\n\n  registerChildren(template, type) {\n    for (let index = 0; index < template.children.length; index++) {\n      const component = template.children[index];\n      if ((type && type === component.type) || !type) {\n        this.ComponentConnector.register(component.node, component.connections);\n      }\n    }\n  }\n\n  unregisterChildren(template, type) {\n    for (let index = 0; index < template.children.length; index++) {\n      const component = template.children[index];\n      if ((type && type === component.type) || !type) {\n        this.ComponentConnector.unregister(component.node);\n      }\n    }\n  }\n\n  registerInConnection(channelName, node, callback) {\n    this.ComponentConnector.addSubscription(channelName, node, callback);\n  }\n\n  registerOutConnection(channelName, htmlElement, bindName) {\n    this.ComponentConnector.addPublication(channelName, htmlElement, bindName);\n  }\n\n  publish(channelName, value) {\n    this.ComponentConnector.publish(channelName, value);\n  }\n\n  navigate(page, params) {\n    this.Router.go(page, params);\n  }\n\n  // used with createPage (@TODO DELETE) && createPageFromPolymerWebComponent\n  // @TODO unificar con selectTemplate\n  selectPage(name, params) {\n    const { TEMPLATE_REGISTERED } = externalEventsCodes;\n    const template = this.TemplateManager.get(name);\n    const currentTemplate = this.TemplateManager.get(this.TemplateManager.selected);\n    const oldTemplateName = currentTemplate ? currentTemplate.name : null;\n\n    // manage of register & unregister channels current\n    // this.registerCurrentTemplate(template, currentTemplate);\n\n    // @TODO necessary?\n    if (this.onRender) {\n      this.onRender(template.node);\n    }\n\n    this._handleParams(template.node, params);\n    this.TemplateManager.select(name, this.BridgeChannelManager, this.binding);\n\n    if (this.BridgeChannelManager) {\n      this.BridgeChannelManager.updateAppContext(oldTemplateName, name);\n      this.BridgeChannelManager.initPrivateChannel(oldTemplateName, name);\n    }\n\n    eventManager.emit(TEMPLATE_REGISTERED, { template: name });\n  }\n\n  _handleParams(node, params) {\n    const shouldBindParams = node.params && Object.keys(params).length > 0;\n\n    if (shouldBindParams) {\n      node.params = params;\n    }\n  }\n\n  selectTemplate(name, isPreRendering = false) {\n    const { TEMPLATE_TRANSITION_END } = externalEventsCodes;\n    const { CURRENTVIEW, UI, DELAYED } = bindingCodes;\n    let options = this;\n    let template = this.TemplateManager.get(name);\n    const shouldRender = isPreRendering !== true || this.preRenderingPages[name] === preRenderState.REQUESTED;\n\n    if ((options.binding === CURRENTVIEW || options.binding === UI) && shouldRender) {\n      // COMPROBAR 5 VECES\n      const currentTemplate = this.TemplateManager.get(this.TemplateManager.selected);\n      const onTemplateAnimationFinishes = () => this.registerCurrentTemplate(template, currentTemplate);\n\n      if (template.node.animationCompleteEvent) {\n        eventManager.listenToOnce(template.node, template.node.animationCompleteEvent, onTemplateAnimationFinishes);\n      } else {\n        eventManager.once(TEMPLATE_TRANSITION_END, onTemplateAnimationFinishes);\n      }\n    }\n    if (options.onRender) {\n      if (template.fixedChildren.length>0) {\n        options.onRender(template.node, template.fixedChildren);\n      } else {\n        options.onRender(template.node);\n      }\n    }\n    // 10. Shows the template created if it is not pre rendering or\n    // if it's a pre-rendered page that has been requested\n    if (isPreRendering) {\n      delete this.preRenderingPages[name];\n    }\n\n    if (shouldRender) {\n      const animateTemplate = () => this.TemplateManager.select(name, this.BridgeChannelManager, options.binding);\n\n      if (options.binding === DELAYED) {\n        this._idleCallback(animateTemplate);\n      } else {\n        animateTemplate();\n      }\n    }\n  }\n\n  _idleCallback(fn) {\n    this.BridgeChannelManager.getIdleCallbackChannel().first().subscribe(fn);\n  }\n\n  /**\n   *\n   * It subscribe the main node to an event channel.\n   *\n   * @param {*} eventName is the name of the event to subscribe\n   * @param {*} callback is the function to call when the event channel is activated with a new value\n   */\n  subscribeToEvent(eventName, callback) {\n    if (this.externalEvents.indexOf(eventName)<0) {\n      console.warn('Trying to subscribe to a non existing event: ', eventName);\n      return;\n    }\n    if (typeof callback !== 'function') {\n      console.warn('You must provide a function callback to subscribe to the event: ', eventName);\n      return;\n    }\n    let mainNode = this.getMainNode();\n    this.BridgeChannelManager.subscribeToEvent(mainNode, eventName, callback);\n  }\n\n  getMainNode() {\n    if (!this.__mainNodeElement) {\n      this.__mainNodeElement = document.querySelector('#' + this.mainNode);\n    }\n    return this.__mainNodeElement;\n  }\n\n  _resetBridgeChannels() {\n    this.BridgeChannelManager.resetBridgeChannels(this.getMainNode());\n  }\n\n  /**\n   *\n   * Performs a logout action. It resets all channels, removes templates from DOM\n   * and redirects to the initial page\n   *\n   */\n  // logout() {\n  //   const { TEMPLATE_REGISTERED } = externalEventsCodes;\n\n  //   if (this.TemplateManager.selected === this.initialTemplate) {\n  //     return;\n  //   }\n\n  //   const removeTemplates = () => this.TemplateManager.removeTemplates(this.initialTemplate, this.crossContainerId);\n  //   const removeCrossComponents = () => this.TemplateManager.removeTemplateChildrens(this.crossContainerId);\n  //   const removeInitialTemplateToForceFreshLoadingAndCCRegistration = () => this.TemplateManager.removeTemplate(this.initialTemplate);\n\n  //   this._resetBridgeChannels();\n  //   removeCrossComponents();\n  //   removeInitialTemplateToForceFreshLoadingAndCCRegistration();\n  //   eventManager.once(TEMPLATE_REGISTERED, removeTemplates);\n  //   this._addInitialSubscribersToEvents();\n  //   this.Router.init();\n  //   this.Router.go(this.initialTemplate);\n  // }\n  logout() {\n    if (this.TemplateManager.selected === this.initialTemplate) {\n      return;\n    }\n\n    // clean up current page\n    this.BridgeChannelManager.publishPrivatePageStatus(this.TemplateManager.selected, false);\n\n    this._resetBridgeChannels();\n\n    this.TemplateManager.removeTemplateChildrens(this.crossContainerId);\n    this.TemplateManager.removeTemplates(undefined, this.crossContainerId);\n\n    this._plugExternalEvents();\n\n    this.Router.init();\n    this.Router.go(this.initialTemplate);\n  }\n}\n\nexport default CellsBridge;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/bridge.js","let ComposerEngineProxy = class ComposerEngineProxy {\n\n  /**\n   * Creates an instance of ComposerPageBuilder.\n\n   * @param {ComponentConnector} componentConnector\n   * @param {String} platformId\n   */\n  constructor(componentConnector, platformId, composerEngine) {\n    this.platformId = platformId;\n    this.componentConnector = componentConnector;\n    this.composerEngine = composerEngine;\n    this.segments = [];\n    this.customGroups = [];\n    this.normalizedCustomGroups = [];\n  }\n\n  /**\n   * Initializes the composerEngine setting the initial parameters\n   * and subscribing to the channel that will receive the parameters.\n   *\n   * @param {Object} initialParams has this structure:\n   *  {\n   *    segments: [ segmentId1, segmentId2, ..., segmentIdN],\n   *    customGroups: [ {name: n1, value: v1}, ..., {name: n2, value: v2}]\n   *  }\n   *\n   */\n  init(initialParams) {\n    this.initialParams = initialParams || {};\n    this.addParams(this.initialParams);\n    this.componentConnector.get(this.getComposerEngineChannelName()).subscribe((evt) => this.handleFeatureFlags(evt));\n  }\n\n  /**\n   * @returns {String} the name of the channel used to pass the parameters to the composerEngine\n   */\n  getComposerEngineChannelName() {\n    return '__composer_engine';\n  }\n\n  /**\n   * It processes the new parameters that are placed in the composerEngine's channel\n   *\n   * @param {Event} evt\n   */\n  handleFeatureFlags(evt) {\n    const params = evt.detail;\n    this.addParams(params);\n  }\n\n  /**\n   * Adds parameters to use with composerEngine\n   *\n   * @param {Object} params has this structure:\n   * {\n   *  segments: [ segmentId1, segmentId2, ..., segmentIdN],\n   *  customGroups: [ {name: n1, value: v1}, ..., {name: n2, value: v2}]\n   * }\n   */\n  addParams(params) {\n    this.addSegments(params.segments);\n    this.addCustomGroups(params.customGroups);\n  }\n\n  /**\n   * Adds the segment ids passed in segmentList.\n   * It only adds the new segments.\n   *\n   * @param {Array<String>} segmentList\n   */\n  addSegments(segmentList) {\n    if (segmentList) {\n      segmentList.forEach(segmentId => {\n        if (this.segments.indexOf(segmentId)===-1) {\n          this.segments.push(segmentId);\n        }\n      });\n    }\n  }\n\n  /**\n   * Adds the custom groups passed in customGroupList\n   * It only adds the new groups.\n   *\n   * @param {Array<{name, value}>} customGroupList\n   */\n  addCustomGroups(customGroupList) {\n    if (customGroupList) {\n      customGroupList.forEach(aCustomGroup => {\n        const existingGroup = this.customGroups.find(element => element.name === aCustomGroup.name);\n        if (!existingGroup) {\n          this.customGroups.push(aCustomGroup);\n        } else {\n          if (!existingGroup.isConstant) {\n            existingGroup.value = aCustomGroup.value;\n          }\n        }\n      });\n    }\n    this.normalizedCustomGroups = this.normalizeCustomGroups(this.customGroups);\n  }\n\n  /**\n   * It converts the key/value pair of a customGroup into a String with the format\n   * used by Composer Engine\n   *\n   * @param {Array<{name, value}>} customGroups\n   * @returns\n   */\n  normalizeCustomGroups(customGroups) {\n    return customGroups.map(group => this.composerEngine.customGroup(group.name, group.value));\n  }\n\n  /**\n   * It gets the page using the feature flag parameters\n   *\n   * @param {String} pageName\n   */\n  getPage(pageName) {\n    return this.composerEngine.getPageForAll(this.platformId,\n      pageName,\n      this.segments,\n      this.normalizedCustomGroups\n    );\n  }\n\n  /**\n   * Clears all parameters and sets the initial ones.\n   *\n   */\n  reset() {\n    this.segments = [];\n    this.customGroups = [];\n    if (this.initialParams) {\n      this.addParams(this.initialParams);\n    }\n  }\n}\n\nexport default ComposerEngineProxy;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/composer/composer-engine-proxy.js","export default class CellsBridgeConnector {\n\n  _get(options, format) {\n    return new Promise(\n      function(resolve, reject) {\n        var xhr = new XMLHttpRequest();\n        if (!options || !options.url) {\n          reject(new Error('URL not defined'));\n          return;\n        }\n        var method = (options.method || '').toUpperCase() || 'GET';\n        xhr.addEventListener('load', (e) => {\n          let xhr = e.target;\n          let status = xhr.status;\n          if ((status >= 200 && status < 300) || (status == 0 && xhr.responseText.length > 0)) {\n            if (format==='json') {\n              resolve(JSON.parse(xhr.response));\n            } else {\n              resolve(xhr.responseText);\n            }\n          } else {\n            reject(new Error(xhr.statusText));\n          }\n        });\n        xhr.addEventListener('error', () => {\n          reject(new Error('Network Error'));\n        });\n        xhr.open(method, options.url);\n        //\n        let headers = options.headers;\n        for (var header in headers) {\n          if (headers.hasOwnProperty(header)) {\n            xhr.setRequestHeader(header, headers[header]);\n          }\n        }\n        xhr.send(options.body);\n      }\n    );\n  }\n\n  getJSON(options) {\n    return this._get(options, 'json');\n  }\n\n  getHTML(options) {\n    return this._get(options, 'html');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/connector.js","import eventManager from '../manager/events';\nimport Constants from '../constants';\n\nconst { externalEventsCodes } = Constants;\n\n/**\n * Class to define core private channels behavior\n */\nlet ActionChannelManager = class ActionChannelManager {\n  constructor(bridge) {\n    this.bridge = bridge;\n    this.PageManager = bridge.PageManager;\n    this.ChannelManager = bridge.BridgeChannelManager;\n    this.TemplateManager = bridge.TemplateManager;\n  }\n\n  subscribeAll() {\n    this.ChannelManager.getBridgeChannel('config').subscribe(evt => this._configSubscriptor(evt));\n    this.ChannelManager.getBridgeChannel('locales').subscribe(evt => this._localesSubscriptor(evt));\n    this.ChannelManager.getBridgeChannel('logout').subscribe(evt => this._logoutSubscriptor(evt));\n  }\n\n  _isAllowedProperty(prop) {\n    return typeof this.bridge[prop] !== 'function';\n  }\n\n  _configSubscriptor(evt) {\n    const { TEMPLATE_REGISTERED } = externalEventsCodes;\n    const selected = this.TemplateManager.selected;\n\n    if (evt.detail) {\n      for (let prop in evt.detail) {\n        if(this._isAllowedProperty(prop)) {\n          this.bridge[prop] = evt.detail[prop];\n        }\n      }\n\n      if (evt.detail.app || evt.detail.pagesPath) {\n        this.PageManager.clear();\n        this.TemplateManager.removeTemplates(selected, this.bridge.crossContainerId);\n        eventManager.once(TEMPLATE_REGISTERED, () => this.TemplateManager.removeTemplate(selected));\n      }\n    }\n  }\n\n  _localesSubscriptor(evt) {\n    if (window.I18nMsg && evt.detail && evt.detail.lang) {\n      window.I18nMsg.lang = evt.detail.lang;\n    }\n  }\n\n  _logoutSubscriptor() {\n    this.bridge.logout();\n    this.subscribeAll();\n  }\n};\n\nexport default ActionChannelManager;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/manager/action-channels.js","import { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/fromEvent';\nimport 'rxjs/add/operator/first';\n\nlet BridgeChannelManager = class BridgeChannelManager {\n  constructor(bridge) {\n    this.componentConnector = bridge.ComponentConnector;\n    this.privateChannels = new Set();\n  }\n\n  /**\n   * Returns the name of the application context channel.\n   */\n  getAppContextChannelName() {\n    return '__bridge_app';\n  }\n\n  /**\n   * Returns the name of the channels that has cancelations of back navigations.\n   */\n  getCancelledBackNavigationChannelName() {\n    return '__bridge_cancelled_back_navigation';\n  }\n\n  /**\n   * Returns the prefix for private channels.\n   */\n  getPrivateChannelPrefix() {\n    return '__bridge_page_';\n  }\n\n  /**\n   * Returns the prefix for event channels.\n   */\n  getEventChannelPrefix() {\n    return '__bridge_evt_';\n  }\n\n  /**\n   * Returns the prefix for generic channels.\n   */\n  getBridgeChannelPrefix() {\n    return '__bridge_ch_';\n  }\n\n  /**\n   * Gets a channel that is for exclusive use of the bridge.\n   * If the channel doesn't exist, it creates one channel with.\n   *\n   * @param name of the channel to retrieve/create\n   *\n   * @return {Channel}\n   *\n   */\n  getBridgeChannel(channelName) {\n    return this.componentConnector.manager.get(this.getBridgeChannelPrefix() +  channelName);\n  }\n\n  getIdleCallbackChannel() {\n    return Observable.create(function (observer) {\n      observer.next(true);\n    });\n  }\n\n  /**\n   * Gets the application context channel.\n   *\n   * @return {Channel}\n   */\n  getAppContextChannel() {\n    return this.componentConnector.manager.get(this.getAppContextChannelName());\n  }\n\n  /**\n   * Gets the cancelled back navigations channel.\n   *\n   * @return {Channel}\n   */\n  getCancelledBackNavigationChannel() {\n    return this.componentConnector.manager.get(this.getCancelledBackNavigationChannelName());\n  }\n\n  /**\n   * Gets the private channel that corresponds to a page.\n   *\n   * @param  {String} pageName\n   *\n   * @return {Channel}\n   */\n  getPrivate(pageName) {\n    let newName = this.getPrivateChannelPrefix() + pageName;\n    let channel = this.componentConnector.manager.get(newName);\n    this.privateChannels.add(newName);\n    return channel;\n  }\n\n  /**\n   * Creates and initializes the application context channel.\n   *\n   */\n  initAppContextChannel() {\n    this.getAppContextChannel();\n  }\n\n  /**\n   * Creates and initializes the cancelled back navigation channel.\n   *\n   */\n  initCancelledBackNavigationChannel() {\n    this.getCancelledBackNavigationChannel();\n  }\n\n  /**\n   * Initializes the private chanel for the given page.\n   *\n   * @param {String} pageName\n   *\n   */\n  initPrivateChannel(oldPageName, newPageName) {\n    if (oldPageName) {\n      this.publishPrivatePageStatus(oldPageName, false);\n    }\n    this.publishPrivatePageStatus(newPageName, true);\n  }\n\n  /**\n   * Publish the status of a page in its private channel\n   *\n   * @param {String} pageName\n   * @param {Boolean} status is true if the page is active, and false if it is inactive\n   */\n  publishPrivatePageStatus(pageName, status) {\n    const channel = this.getPrivate(pageName);\n    const evt = this.componentConnector.createEvent('page-load', status);\n    channel.next(evt);\n  }\n\n  /**\n   * Updates the application context.\n   * Puts in context the information of the current page and previous active page.\n   *\n   * @param {String} oldPage was the previous current page\n   * @param {String} newPage is the page that becomes the current page\n   *\n   */\n  updateAppContext(oldPage, newPage) {\n    let evt = this.componentConnector.createEvent('app-context', {\n      currentPage: newPage,\n      fromPage: oldPage\n    });\n    this.getAppContextChannel().next(evt);\n  }\n\n  publishCancelledBackNavigation(navigation) {\n    let evt = this.componentConnector.createEvent('back-nav-cancelled', navigation);\n    this.getCancelledBackNavigationChannel().next(evt);\n  }\n\n  /**\n   * returns true if the given name matches a private channel's name\n   *\n   * @param {String} name\n   *\n   * @return {Boolean}\n   */\n  isPrivateChannel(name) {\n    return name.indexOf(this.getPrivateChannelPrefix()) === 0;\n  }\n\n  /**\n   * returns true if there's a private channel with the given name\n   *\n   * @param {String} name\n   *\n   * @return {Boolean}\n   */\n  isActivePrivateChannel(name) {\n    return this.privateChannels.has(name);\n  }\n\n  /**\n   * resets all channels, including the private channels.\n   * It removes all observers and publications.\n   *\n   */\n  resetBridgeChannels(mainNode) {\n    let bridgeChannels = Object.keys(this.componentConnector.manager.channels);\n\n    bridgeChannels.forEach(function(chnlName) {\n      let chnl = this.componentConnector.manager.get(chnlName);\n      chnl.clean();\n      chnl.unsubscribeAll();\n    }.bind(this));\n\n    this.componentConnector.unregister(mainNode);\n    this.componentConnector.unregisterAllSubscriptors();\n    this.componentConnector.manager.cleanAllChannels();\n  }\n\n  initEventChannels(node, externalEvents) {\n    externalEvents.forEach(function(eventName) {\n      let prefix = this.getEventChannelPrefix();\n      let channelName = prefix + eventName;\n      let channel = this.componentConnector.manager.get(channelName);\n      let source = Observable.fromEvent(node, eventName);\n      source.subscribe(function(event) {\n        channel.next(event);\n      });\n    }.bind(this));\n  }\n\n  subscribeToEvent(node, eventName, callback) {\n    let prefix = this.getEventChannelPrefix();\n    let channelName = prefix + eventName;\n    let subscriptor = this.componentConnector.getSubscriptor(node);\n    let channel = this.componentConnector.manager.get(channelName);\n    callback.node = node;\n    subscriptor.subscribe(channel, callback);\n  }\n}\n\n/**\n * BridgeChannelManager definition\n */\nexport default BridgeChannelManager;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/manager/bridge-channels.js","import eventManager from './events';\nimport Constants from '../constants';\n\nconst { externalEventsCodes } = Constants;\n\nvar _after = function (times, func) {\n  return function () {\n    if (--times < 1) {\n      return func();\n    }\n  };\n};\n\nlet CellsManagerImport = class CellsManagerImport {\n  _importElement(endPoint, componentPath, callback) {\n    var node = document.createElement('link');\n    node.rel = 'import';\n    node.href = endPoint + componentPath;\n    node.onload = callback;\n    node.onerror = callback;\n    node.setAttribute('async', '');\n\n    document.head.appendChild(node);\n  }\n\n  _importElementPromise(endPoint, componentPath) {\n    return new Promise(resolve => {\n      this._importElement(endPoint, componentPath, resolve);\n    });\n  }\n\n  loadBundleForTemplate(baseUri, pageName, callback) {\n    return new Promise((resolve) => {\n      const finishComponentLoading = () => {\n        if (callback) {\n          callback.call(this);\n        }\n\n        resolve();\n      };\n\n      this._importElement(baseUri, pageName + '.html', finishComponentLoading);\n    });\n  }\n\n  loadComponent(component, baseUri, callback) {\n    const { BEFORE_IMPORT, AFTER_IMPORT } = externalEventsCodes;\n\n    return new Promise((resolve) => {\n      const finishComponentLoading = () => {\n        if (callback) {\n          callback.call(this);\n        }\n\n        resolve();\n      };\n\n      var list = component;\n\n      if (!Array.isArray(list)) {\n        list = [component];\n      }\n\n      if (list.length === 0) {\n        finishComponentLoading();\n        return;\n      }\n\n      eventManager.emit(BEFORE_IMPORT);\n\n      var iCb = _after(list.length, () => {\n        eventManager.emit(AFTER_IMPORT);\n        finishComponentLoading();\n      });\n\n      for (let index = 0; index < list.length; index++) {\n        const item = list[index];\n        this._importElement(baseUri, item.spec.path, iCb);\n      }\n    });\n  }\n\n  loadComponentByPriority(component, baseUri, callback) {\n    const { BEFORE_IMPORT, AFTER_IMPORT } = externalEventsCodes;\n\n    let list = component;\n    if (!Array.isArray(list)) {\n      list = [component];\n    }\n\n    if (list.length === 0) {\n      if (callback) {\n        callback.call(this);\n      }\n      return;\n    }\n\n    let priorityLists = this._createPriorityLists(list);\n\n    eventManager.emit(BEFORE_IMPORT);\n\n    this._chainElementLoading(baseUri, priorityLists, 0).then(() => {\n      eventManager.emit(AFTER_IMPORT);\n      if (callback) {\n        callback.call(this);\n      }\n    });\n  }\n\n  _createSortedArratByPriorityAndUniqueElements(list) {\n    list.sort((a, b) => {\n      let priorityA = (a.priority || 1000);\n      let priorityB = (b.priority || 1000);\n      if (priorityA === priorityB) {\n        return a.spec.path <= b.spec.path ? -1 : 1\n      } else {\n        return priorityA - priorityB;\n      }\n    });\n    return list.filter((elem, pos, arr) => {\n      return pos === 0 || elem.spec.path !== arr[pos - 1].spec.path;\n    });\n  }\n\n  _createPriorityLists(list) {\n    let sortedList = this._createSortedArratByPriorityAndUniqueElements(list);\n    let currentPriority = sortedList[0].priority;\n    let priorityLists = [[]];\n    let pivote = 0;\n    for (let index = 0; index < sortedList.length; index++) {\n      const item = sortedList[index];\n      if (item.priority === currentPriority) {\n        priorityLists[pivote].push(item);\n      } else {\n        currentPriority = item.priority;\n        priorityLists.push([]);\n        pivote = priorityLists.length - 1;\n        priorityLists[pivote].push(item);\n      }\n    }\n    return priorityLists;\n  }\n\n  _chainElementLoading(baseUri, elementPriorityLists, index) {\n    const currentPromises = [];\n\n    if (elementPriorityLists.length === index) {\n      return Promise.resolve();\n    }\n\n    for (let j = 0; j < elementPriorityLists[index].length; j++) {\n      currentPromises.push(this._importElementPromise(baseUri, elementPriorityLists[index][j].spec.path));\n    }\n\n    const count = index + 1; // OJO!!! Si no creamos variable intermedia / scoped, y hacemos count++, siempre coger el valor inicial.\n\n    return Promise.all(currentPromises).then(() => this._chainElementLoading(baseUri, elementPriorityLists, count));\n  }\n}\n\nexport default CellsManagerImport;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/manager/import.js","import CellsStorage from './storage';\nimport CellsConnector from '../connector';\nimport CellsSanitizer from '../sanitizer';\nimport eventManager from './events';\nimport Constants from '../constants';\n\nconst { externalEventsCodes } = Constants;\n\n\n/**\n * Class that retrieves pages either from the cache or by fetching them using http requests.\n * This class can handle:\n *  - dynamic pages: the one that are defined in json files.\n *  Also, dynamic pages can be localy located o remotely located.\n *  - static pages: the one that are defined in html files\n *\n * @param {CellsBridge} bridge\n *\n * The constructor receives a CellsBridge that has all the needed configuration:\n *\n * The property 'templatesPath' indicates the path where the local pages are located.\n * It must be defined only if there are local pages.\n *\n * The property 'composerEndpoint' indicates the url where the local pages are located.\n * This url must have the literals '{id}' and '{platform}'. It must be defined only if there are remote pages.\n *\n * The property 'remoteTemplates' is an array that contains the name of the remote templates\n * (just the name, not the extension).\n * It must be defined only if there are remote pages.\n *\n  * The property 'htmlPagesPath' is the path to the folder that contains the html pages.\n *\n * The property 'htmlPages' is an array that contains the name of the static html pages\n * (just the name, not the extension).\n *\n * The property 'appId' is the application's id.\n *\n * The property 'getPlatform' is a function, usually defined in the app.js file, that returns\n * a string indicating the platform that runs the application (for instance: destkop, ios or android).\n */\nlet CellsManagerPage = class CellsManagerPage {\n  constructor(bridge) {\n    this._initCellsPageManager(bridge);\n  }\n\n  _initCellsPageManager(bridge) {\n    const { htmlPagesPath = './pages/', htmlPages, templatesPath, composerEndpoint, remoteTemplates, appId, getPlatform,\n      cache, storagePrefix: prefix,\n      composerEngine } = bridge;\n    const storage = new CellsStorage({ prefix, persistent: cache });\n    const connector =  new CellsConnector();\n    const sanitizer = new CellsSanitizer();\n\n    Object.assign(this, {\n      storage,\n      htmlPagesPath,\n      htmlPages,\n      templatesPath,\n      composerEndpoint,\n      remoteTemplates,\n      appId,\n      getPlatform,\n      cache,\n      connector,\n      sanitizer,\n      composerEngine\n    });\n  }\n\n  _remoteTemplate(page) {\n    let replaced = this.composerEndpoint.replace(/{appId}/, this.appId);\n    if (this.getPlatform) {\n      replaced = replaced.replace(/{platform}/, this.getPlatform());\n    }\n    replaced = replaced.replace(/{page}/, page);\n    return replaced;\n  }\n\n  _localTemplate(page) {\n    const endpoint = !this.templatesPath ? this.composerEndpoint : this.templatesPath;\n\n    return `${endpoint}${page}.json`;\n  }\n\n  _isLocalComposer(page) {\n    let result = true;\n    const hasTemplatePath = this.templatesPath && this.templatesPath.length > 0;\n    const hasRemoteTemplates = this.remoteTemplates && this.remoteTemplates.length > 0;\n    // legacy case when there was just composerEndpoint and\n    // it could be a directory or an url\n    const oldWayOnlyCompopserEndpointDefined = this.composerEndpoint && !hasTemplatePath && !hasRemoteTemplates;\n    if (oldWayOnlyCompopserEndpointDefined) {\n      result = this.composerEndpoint.indexOf('http') !== 0;\n    } else {\n      if (this.composerEndpoint && this.remoteTemplates) {\n        result = this.remoteTemplates.indexOf(page) < 0;\n      } else {\n        result = true;\n      }\n    }\n    return result;\n  }\n\n  _renderComposerEndpoint(page) {\n    if (this._isLocalComposer(page)) {\n      return this._localTemplate(page);\n    } else {\n      return this._remoteTemplate(page);\n    }\n  }\n\n  /**\n   * Returns the url needed to retrieve a page. It handles theese cases:\n   *  - page is dynamic (json file) and remote\n   *  - page is dynamic (json file) and local\n   *  - page is static (html file)\n   *\n   * @param {String} page is the name of the page to retrieve\n   */\n  generateRequestUrl(page) {\n    if (this.htmlPages && this.htmlPages.indexOf(page) >= 0) {\n      return this.htmlPagesPath + page + '.html';\n    } else {\n      return this._renderComposerEndpoint(page);\n    }\n  }\n\n  /**\n   * @param {Object} page\n   */\n  // eslint-disable-next-line no-unused-vars\n  onPageDefinitionNotFound(page) {\n    // Overwrite to make something when page definition is not found.\n  }\n\n  clear() {\n    this.storage.clear();\n  }\n\n  /**\n   * Returns a promise that retrieves a dynamic page (json file).\n   * The page may come from the cache or from a http request.\n   *\n   * @param {String} page name\n   * @param {Object} options for http request\n   * @param {Object} configuration\n   */\n  get(page, options, config) {\n    const spec = this.storage.getItem(page);\n\n    if (this.cache && spec) {\n      return Promise.resolve(spec);\n    } else {\n      if (this.composerEngine) {\n        return this._getFromComposerEngine(page, options);\n      } else {\n        return this._getFromConnector(page, options, config);\n      }\n    }\n  }\n\n  _getFromComposerEngine(page, options) {\n    const response = JSON.parse(this.composerEngine.getPage(page));\n\n    return Promise.resolve(\n      this._onResponse(page, options, response)\n    );\n  }\n\n  _getFromConnector(page, options, config) {\n    const { PAGE_REQUEST } = externalEventsCodes;\n\n    options = options || {};\n    options.url = this.generateRequestUrl(page, options, config);\n\n    eventManager.emit(PAGE_REQUEST, options);\n\n    return this.connector.getJSON(options)\n      .then(response => this._onResponse(page, options, response))\n      .catch(error => {\n        this._onResponseFail(page);\n        console.error(error);\n        return error.message;\n      });\n  }\n\n  /**\n   * Returns a promise that retrieves a static page (html file).\n   * The page comes from a http request.\n   *\n   * @param {String} page name\n   * @param {Object} options for http request\n   */\n  getPage(page, options) {\n    const { PAGE_REQUEST } = externalEventsCodes;\n\n    options = options || {};\n    options.url = this.generateRequestUrl(page);\n\n    eventManager.emit(PAGE_REQUEST, options);\n\n    return this.connector.getHTML(options)\n      .then(response => this._onResponseHTML(page, options, response))\n      .catch(error => {\n        this._onResponseFail(page);\n        console.error(error);\n        return error.message;\n      });\n  }\n\n  //getComponentPage(...)\n\n  _onResponse(page, options, response) {\n    const { PAGE_RESPONSE, DATA_LOAD } = externalEventsCodes;\n\n    response.page = page;\n\n    eventManager.emit(PAGE_RESPONSE, response);\n\n    let sanitizedData = this.sanitizer.parse(response);\n    // sanitizedData = this.bridge.parse('data', sanitizedData);\n\n    this.storage.setItem(page, sanitizedData);\n\n    eventManager.emit(DATA_LOAD, sanitizedData);\n\n    return sanitizedData;\n  }\n\n  _onResponseHTML(page, options, responseText) {\n    const { PAGE_RESPONSE, DATA_LOAD } = externalEventsCodes;\n\n    const response = {\n      page: page,\n      html: responseText\n    };\n\n    eventManager.emit(PAGE_RESPONSE, response);\n\n    const sanitizedData = {\n      page: page,\n      currentPage: {},\n      template: {},\n      components: [],\n      pages: [],\n      html: responseText\n    };\n\n    this.storage.setItem(page, sanitizedData);\n\n    eventManager.emit(DATA_LOAD, sanitizedData);\n\n    return sanitizedData;\n  }\n\n  _onResponseFail(page) {\n    if (this.onPageDefinitionNotFound) {\n      this.onPageDefinitionNotFound(page);\n    }\n\n    return Promise.reject(new Error(`Definition file for page '${page}' not found.`));\n  }\n}\n\nexport default CellsManagerPage;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/manager/page.js","class InMemmoryStorage  {\n  dictionary = {};\n  getItem(key) {\n    return this.dictionary[key] || null;\n  }\n  setItem(key, value) {\n    this.dictionary[key] = value;\n  }\n}\n\nexport default class CellsStorage {\n  prefix = '';\n  persistent = false;\n  internalStorage = new InMemmoryStorage();\n\n  constructor(options) {\n    Object.assign(this, options);\n\n    if (this.persistent) {\n      this.clear();\n    }\n  }\n\n  get storage() {\n    let store;\n    if (this.persistent) {\n      store = window.localStorage;\n    } else {\n      store = window.sessionStorage;\n    }\n    try {\n      store.setItem('_$_', {});\n    } catch (error) {\n      store = this.internalStorage;\n    }\n    return store;\n  }\n\n  getItem(key) {\n    return JSON.parse(this.storage.getItem(this.prefix + key));\n  }\n\n  setItem(key, value) {\n    this.storage.setItem(this.prefix + key, JSON.stringify(value, '', true));\n  }\n\n  clear() {\n    var pattern = new RegExp('^(' + this.prefix + ')');\n\n    for (let key in this.storage) {\n      if (pattern.test(key)) {\n        this.storage.removeItem(key)\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/manager/storage.js","import SEMaaS from 'cells-semaas-adapter';\nimport Constants from './constants';\nimport dotProp from 'dot-prop';\n\nconst { get, set } = dotProp;\nconst {\n  monitoring: {\n    SEMAAS: {\n      mrId, nameSpace, identifier, consumerId\n    },\n  },\n  externalEventsCodes\n} = Constants;\n\n// const flattenObject = (object, separator = '=', join = ', ') => Object.keys(object).map(key => `${key}${separator}${object[key]}`).join(join);\n\nconst {\n  PAGE_READY,\n  PARSE_ROUTE,\n  AFTER_PUBLISH,\n  NAV_REQUEST,\n  BEFORE_SET_ATTR_TO_NODE,\n  AFTER_SET_ATTR_TO_NODE,\n  BEFORE_CREATE_NODE,\n  AFTER_CREATE_NODE,\n  BEFORE_IMPORT,\n  AFTER_IMPORT,\n  PAGE_REQUEST,\n  PAGE_RESPONSE,\n  DATA_LOAD,\n  TEMPLATE_TRANSITION_END,\n  TRACK_EVENT,\n  TEMPLATE_REGISTERED,\n  ROUTER_BACKSTEP,\n  LOG_EVENT\n} = externalEventsCodes;\n\nexport default class Monitoring {\n  bridge = null;\n\n  application = null;\n\n  constructor(bridge) {\n    const { semaas = {}, logs } = bridge;\n\n    if (logs) {\n      const bridgeSemaasConfiguration = this.getBridgeConfiguration(semaas);\n      const applicationSemaasConfiguration = this.getApplicationConfiguration(semaas);\n\n      this.bridge = this.initilizeSEMaaSAdapter(bridgeSemaasConfiguration);\n      this.application = this.initilizeSEMaaSAdapter(applicationSemaasConfiguration);\n    }\n  }\n\n  getBridgeConfiguration(semaasConfiguration) {\n    const { country, environment, policy } = semaasConfiguration;\n\n    return {\n      country,                    // configuration object\n      policy,                     // configuration object\n      mrId,                       // bridge constant\n      nameSpace,                  // bridge constant\n      identifier,                 // bridge constant\n      consumerId,                 // bridge constant\n      environment,                // configuration object\n    };\n  }\n\n  getApplicationConfiguration(semaasConfiguration) {\n    const { country, environment, policy, mrId, nameSpace, consumerId } = semaasConfiguration;\n\n    return {\n      country,                    // configuration object\n      policy,                     // configuration object\n      mrId,                       // configuration object\n      nameSpace,                  // configuration object\n      identifier: 'application',  // application constant\n      consumerId,                 // configuration object\n      environment,                // configuration object\n    };\n  }\n\n  initilizeSEMaaSAdapter(configuration) {\n    return new SEMaaS(configuration);\n  }\n\n  logBridge(log) {\n    this.bridge.log(log);\n  }\n\n  logApplication(log) {\n    this.application.log(log);\n  }\n\n  ingest(spans) {\n    this.application.ingest(spans);\n  }\n\n  createSpan(data) {\n    return this.application && this.application.createSpan(data);\n  }\n\n  createUUID() {\n    return this.application && this.application.createUUID();\n  }\n\n  hasApplicationLoggingEnabled() {\n    return !!this.application;\n  }\n\n  buildLog(eventName, data) {\n    const { detail } = data;\n    const DEFAULT_LOG = {\n      message: `cells-bridge::${eventName}`,\n      properties: {}\n    };\n    const log = Object.assign({}, detail, DEFAULT_LOG);\n\n    switch (eventName) {\n    case PAGE_READY: {\n      const { page, components } = data;\n\n      log.properties = {\n        page,\n        components,\n      };\n      break;\n    }\n    case PARSE_ROUTE: {\n      const { name, params, pattern } = data;\n      //const normalizedParams = flattenObject(params);\n\n      log.properties = {\n        route: name,\n        //params: normalizedParams,\n        params,\n        pattern,\n      };\n      break;\n    }\n    case NAV_REQUEST: {\n      const { event, detail } = data;\n      const { page } = detail;\n      const params = event.detail;\n      //const normalizedParams = flattenObject(params);\n\n      //trace.description = `Page: ${page}, params: ${normalizedParams}`;\n      log.properties = {\n        page,\n        params\n      };\n      break;\n    }\n    case PAGE_REQUEST: {\n      const { params, url } = data;\n\n      log.properties = {\n        params,\n        url\n      };\n\n      break;\n    }\n    case PAGE_RESPONSE: {\n      log.properties = Object.assign({}, data);\n      break;\n    }\n    // Special case.\n    // We canalize the log message through the rest of bridge events - as we need to deflate data from channels\n    case LOG_EVENT: {\n      const { detail, event } = data;\n      const { message, properties } = detail;\n      const { detail: eventDetail } = event;\n\n      log.message = message;\n      log.properties = this.unflattenData(properties, eventDetail); // unflatten(properties, event)\n      break;\n    }\n    case AFTER_PUBLISH:\n    case BEFORE_SET_ATTR_TO_NODE:\n    case AFTER_SET_ATTR_TO_NODE:\n    case BEFORE_CREATE_NODE:\n    case AFTER_CREATE_NODE:\n    case BEFORE_IMPORT:\n    case AFTER_IMPORT:\n    case DATA_LOAD:\n    case TEMPLATE_TRANSITION_END:\n    case TRACK_EVENT:\n    case TEMPLATE_REGISTERED:\n    case ROUTER_BACKSTEP:\n      console.log(`${eventName} - ${data}`);\n      break;\n    }\n\n    return log;\n  }\n\n  isBridgeLoggableEvent(eventName) {\n    const LOGGABLE_EVENTS = [\n      PAGE_READY,\n      PARSE_ROUTE,\n      NAV_REQUEST,\n      PAGE_REQUEST,\n      PAGE_RESPONSE,\n    ];\n\n    return LOGGABLE_EVENTS.includes(eventName);\n  }\n\n  unflattenData(properties, values) {\n    const result = {};\n\n    Object.keys(properties).forEach(key => {\n      const property = properties[key];\n      let value = null;\n\n      if (property instanceof Object) {\n        const { bind: valuePath } = property;\n\n        value = get(values, valuePath);\n      } else {\n        value = property;\n      }\n\n      set(result, key, value);\n    });\n\n    return result;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/monitoring.js","export default class NavigationStack {\n  constructor() {\n    this.navStack = [];\n    this.skipNav = {};\n  }\n\n  get length() {\n    return this.navStack.length;\n  }\n\n\n  addSkipNavigation(nav) {\n    if (nav.skipHistory === true || nav.skipHistory === false) {\n      this.skipNav[`${nav.from}:${nav.to}`] = nav.skipHistory;\n    }\n  }\n\n  _reverseNavigation(nav) {\n    return {\n      from: nav.to,\n      to: nav.from\n    };\n  }\n\n  isSkipNavigation(nav) {\n    return this.skipNav[`${nav.from}:${nav.to}`] === true;\n  }\n\n  lastNavigation() {\n    const navCount = this.navStack.length;\n    let from;\n    let to;\n    if (navCount === 1) {\n      to = this.navStack[0];\n    } else if (navCount > 1) {\n      to = this.navStack[navCount-1];\n      from = this.navStack[navCount-2];\n    }\n    return this.createNavigation(from, to);\n  }\n\n  createRoute(page, params = {}) {\n    return {\n      page,\n      params\n    }\n  }\n\n  createNavigation(routeFrom, routeTo) {\n    return {\n      from: routeFrom ? routeFrom.page : undefined,\n      to: routeTo ? routeTo.page : undefined\n    }\n  }\n\n  push(route) {\n    if (!this.top() || this.top().page !== route.page) {\n      this.navStack.push(route);\n    }\n  }\n\n  pop() {\n    return this.navStack.pop();\n  }\n\n  top() {\n    return this.navStack.length > 0 ? this.navStack[this.navStack.length - 1] : undefined;\n  }\n\n  isBackwardNavigation(newNav) {\n    const lastNav = this.lastNavigation();\n    return lastNav && newNav.from === lastNav.to && newNav.to === lastNav.from;\n  }\n\n  update(routeFrom, routeTo) {\n    const nav = this.createNavigation(routeFrom, routeTo);\n    if (this.isBackwardNavigation(nav)) {\n      while(this.isSkipNavigation(this._reverseNavigation(this.lastNavigation()))) {\n        this.pop();\n      }\n      this.pop();\n    } else {\n      this.push(routeTo);\n    }\n    return this.top();\n  }\n\n  clear() {\n    this.navStack = [];\n  }\n\n  replaceRoute(route) {\n    if (this.navStack.length > 0) {\n      this.navStack[this.navStack.length - 1] = route;\n    } else {\n      this.push(route);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/navigation-stack.js","export default class Route {\n  static PARAM = /(?::([^/]+))/g;\n  static TRAILING_SLASHES = /\\/*$/;\n  static _404_PAGE_NAME = '404';\n\n  name = '';\n  pattern = '';\n  regexp = null;\n  redirectPage = null;\n  isAccessible = true; // needed to discriminate between 404 and rest of pages with same pattern\n\n  /**\n   * @private\n   * @param {String} routeName\n   * * @param {String} pattern\n   * @return {Object}\n   */\n  constructor(name, pattern) {\n    this.name = name;\n    this.pattern = pattern;\n    var regexp = pattern\n      .replace(Route.PARAM, '([^/]+)')\n      .replace(Route.TRAILING_SLASHES, '/*');\n    this.regexp = new RegExp('^' + regexp + '$');\n    var parts;\n    var keys = [];\n    while ((parts = Route.PARAM.exec(pattern)) !== null) {\n      keys.push(parts[1]);\n    }\n    this.keys = keys;\n  }\n\n  path(params) {\n    params = params || {};\n    this.params = {};\n    var parts;\n    var path = this.pattern;\n    while ((parts = Route.PARAM.exec(this.pattern)) !== null) {\n      path = path.replace(parts[0], params[parts[1]]);\n      this.params[parts[1]] = params[parts[1]];\n    }\n    var queryParams = [];\n    for (var param in params) {\n      if (!this.params.hasOwnProperty(param)) {\n        queryParams.push(param + '=' + encodeURIComponent(params[param]));\n      }\n    }\n    if (queryParams.length) {\n      path += '?' + queryParams.join('&');\n    }\n    return path;\n  }\n\n  matchPath(path) {\n    return path.match(this.regexp);\n  }\n\n  parsePath(path) {\n    var match = this.matchPath(path);\n    this.params = {};\n    if (match) {\n      var i = 1;\n      var parts;\n      while ((parts = Route.PARAM.exec(this.pattern)) !== null) {\n        this.params[parts[1]] = this._parseParam(match[i]);\n        i++;\n      }\n    }\n  }\n\n  parseQuery(query) {\n    this.query = query;\n    for (var queryParam in this.query) {\n      this.params[queryParam] = this.query[queryParam];\n    }\n  }\n\n  /**\n   * @return {Boolean}\n   */\n  is404() {\n    return this.name === Route._404_PAGE_NAME;\n  }\n\n  /**\n   * @private\n   * @param {String} value\n   * @return {Boolean}\n   */\n  _isNumber(value) {\n    return parseInt(value) + '' === value || parseFloat(value) + '' === value;\n  }\n\n  /**\n   * @private\n   * @param {String} param\n   * @return {String|Number}\n   */\n  _parseParam(param) {\n    if (this._isNumber(param)) {\n      param = +param;\n    }\n\n    return param;\n  }\n\n  handler() {\n    // Overwrite to make something with the current route\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/route.js","import Route from './route';\n\nimport { Subscription } from 'rxjs/Subscription';\nimport { Observable } from 'rxjs/Observable';\n\nimport 'rxjs/add/observable/fromEvent';\nimport 'rxjs/add/observable/merge';\n\nimport 'rxjs/add/operator/distinctUntilChanged';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/startWith';\n\nimport eventManager from './manager/events';\n\nimport NavigationStack from './navigation-stack';\n\nimport Constants from './constants';\n\nconst { EMPTY } = Subscription;\nconst { externalEventsCodes } = Constants;\n\nlet instance = null;\n\nlet _useHistory = false;\nlet _routes = {};\nlet _disposables;\nlet _currentRoute;\nlet _404Route;\n\n/**\n * @class SerialSubscription\n * Mimics behavior of SerialDisposable in RxJS v4,\n * allows to add only single subscription. If new subscription's added,\n * existing subscription will be unsubscribed.\n *\n * By design of RxJS v5 it is no longer recommended to manage subscription\n * imperatively vis various kind of subscription, reason it only have single\n * kind of composite subscription. This implementation is for interop between\n * existing codebases.\n * @extends {Subscription}\n */\nclass SerialSubscription extends Subscription {\n  constructor() {\n    super();\n    this._currentSubscription = EMPTY;\n  }\n\n  /**\n   * Adds a tear down to be called during the unsubscribe() of this\n   * Subscription.\n   *\n   * If there's existing subscription, it'll be unsubscribed and\n   * removed.\n   *\n   * @param {TeardownLogic} teardown The additional logic to execute on\n   * teardown.\n   * @return {Subscription} Returns the Subscription used or created to be\n   * added to the inner subscriptions list. This Subscription can be used with\n   * `remove()` to remove the passed teardown logic from the inner subscriptions\n   * list.\n   */\n  add(teardown) {\n    if (this.closed) return;\n    if (typeof(teardown) === 'function') teardown = new Subscription(teardown);\n\n    if (this._currentSubscription) {\n      this.remove(this._currentSubscription);\n      this._currentSubscription.unsubscribe();\n      this._currentSubscription = null;\n    }\n\n    super.add(this._currentSubscription = teardown);\n  }\n}\n\nexport default class Router {\n  static SUPPORTS_HISTORY_API = window.history && 'pushState' in window.history;\n\n  static PARAM = /(?::([^/]+))/g;\n  static LTRIM_SLASH = /^\\/(\\b)/;\n  static EMPTY = /^$/;\n\n  static HASH_PREFIX = /^#!?\\/*/;\n  static PATH_PREFIX = /^\\/*/;\n\n  static isNavigationInProgress = false;\n\n  navigationStack;\n\n  constructor() {\n    const { TEMPLATE_TRANSITION_END} = externalEventsCodes;\n\n    if (!instance) {\n      instance = this;\n    }\n\n    this.navigationStack = this._createNavigationStack();\n\n    eventManager.on(TEMPLATE_TRANSITION_END, () => {\n      this.isNavigationInProgress = false;\n    });\n\n    return instance;\n  }\n\n  _createNavigationStack() {\n    return new NavigationStack();\n  }\n\n  /**\n   * @param {Boolean} value\n   */\n  set useHistory(value) {\n    /* istanbul ignore else */\n    if (Router.SUPPORTS_HISTORY_API) {\n      _useHistory = value;\n    }\n  }\n\n  get useHistory() {\n    return _useHistory;\n  }\n\n  set routes(routes) {\n    _routes = routes;\n  }\n\n  get routes() {\n    return _routes;\n  }\n\n  get currentRoute() {\n    return _currentRoute;\n  }\n\n  set currentRoute(route) {\n    _currentRoute = route;\n  }\n  /**\n   * @param {Object} route\n   */\n  // eslint-disable-next-line no-unused-vars\n  handler(route) {\n    // Overwrite to make something after all matched routes\n  }\n\n  addRoute(name, pattern) {\n    this.routes[name] = new Route(name, pattern);\n    return this.routes[name];\n  }\n\n  addRoutes(routes) {\n    var __routes = {};\n    for (var routeName in routes) {\n      __routes[routeName] = this.addRoute(routeName, routes[routeName]);\n    }\n    return __routes;\n  }\n\n  addSkipNavigations(skipNavs) {\n    for (let i = 0; i<skipNavs.length; i++) {\n      this.navigationStack.addSkipNavigation(skipNavs[i]);\n    }\n  }\n\n  /**\n   * @private\n   * @return {String}\n   */\n  _getHashPath() {\n    return location.hash\n      .replace(Router.HASH_PREFIX, '/')\n      .replace(Router.EMPTY, '/');\n  }\n\n  /**\n   * @private\n   * @return {Observable}\n   */\n  _observeHashChange() {\n    return Observable.fromEvent(window, 'hashchange')\n      .map(this._getHashPath)\n      .startWith(this._getHashPath());\n  }\n\n  /**\n   * @private\n   * @return {String}\n   */\n  _getURLPath() {\n    return location.pathname.replace(Router.PATH_PREFIX, '/');\n  }\n\n  /**\n   * @private\n   * @return {Observable}\n   */\n  _observeStateChange() {\n    return Observable.merge(\n      Observable.fromEvent(window, 'popstate'),\n      Observable.fromEvent(window, 'pushstate'))\n      .map(this._getURLPath)\n      .startWith(this._getURLPath());\n  }\n\n  /**\n   * @private\n   * @param {String}\n   * @return {Array}\n   */\n  matchRoute(fullPath) {\n    var route;\n    var [path, query] = fullPath.split('?');\n    query = this._parseQuery(query);\n    for (var routeName in this.routes) {\n      route = this.routes[routeName];\n      if ((!route.is404() || route.isAccessible) && route.matchPath(path)) {\n        route.parsePath(path)\n        route.parseQuery(query);\n        return route;\n      }\n    }\n  }\n\n  _parseQuery(querystr) {\n    const params = {};\n    if (querystr) {\n      // Split into key/value pairs\n      const queries = querystr.split('&');\n      if (queries) {\n        // Convert the array of strings into an object\n        let key, value, i, len = queries.length;\n        for (i = 0; i < len; i++) {\n          [key, value] = queries[i].split('=');\n          params[key] = decodeURIComponent(value);\n        }\n      }\n    }\n    return params;\n  }\n\n  _setup404() {\n    const route404 = this.routes[Route._404_PAGE_NAME];\n\n    // We check if 404 route have a pattern...\n    if (route404 && route404.pattern !== '') {\n      const routeWithSamePattern = this.getRouteWithPattern(route404.pattern);\n\n      // We set redirect page based on, if it's a repeated URL pattern or a unique one.\n      // If it's unique, we set it accesible from the router.\n      // Otherwise, it's going to NOT be accesible from the router (multiple router with same pattern)\n      route404.redirectPage = routeWithSamePattern ? routeWithSamePattern.name : route404.name;\n      route404.isAccessible = !routeWithSamePattern;\n    }\n\n    return route404;\n  }\n\n  getRouteWithPattern(patternToMath) {\n    for (let routeName in this.routes) {\n      let route = this.routes[routeName];\n\n      // we only take care about routes with same patterns that aren't the same\n      if (!route.is404() && route.pattern === patternToMath) {\n        return route;\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   *\n   * @return {Subscription}\n   */\n  start() {\n    /* istanbul ignore else */\n    if (!_disposables) {\n      var active = new SerialSubscription();\n\n      _404Route = this._setup404();\n\n      const source = this.useHistory ?\n        this._observeStateChange() :\n        this._observeHashChange();\n\n      const subscription = source\n        .distinctUntilChanged()\n        .map(this.matchRoute.bind(this))\n        .forEach(route => {\n          if (route) {\n            const currentRouteName = this.currentRoute ? this.currentRoute.name : undefined;\n            const routeFrom = this.navigationStack.createRoute(currentRouteName);\n            const routeTo = this.navigationStack.createRoute(route.name);\n            const newRouteName = this.navigationStack.update(routeFrom, routeTo).page;\n            if (newRouteName !== routeTo.page) {\n              this.go(newRouteName, undefined, false);\n              return;\n            }\n            _currentRoute = route;\n            var disposable = new Subscription(() => this.currentRoute);\n            active.add(disposable);\n            this.currentRoute.handler();\n            this.handler(this.currentRoute);\n          } else if (_404Route && _404Route.redirectPage) {\n            this.goReplacing(_404Route.redirectPage);\n          }\n        });\n\n      _disposables = new Subscription(\n        subscription,\n        active\n      );\n    }\n\n    return _disposables;\n  }\n\n  stop() {\n    if (_disposables) {\n      _disposables.unsubscribe();\n      _disposables = null;\n    }\n    this.isNavigationInProgress = false;\n  }\n\n  destroy() {\n    this.stop();\n    this.routes = {};\n  }\n\n  getPath(routeName, params) {\n    const route = this.routes[routeName];\n    if (route) {\n      return route.path(params);\n    } else {\n      console.error('Wrong route name: %s, valid route names: %s', routeName, Object.keys(this.routes).join(', '));\n    }\n  }\n\n  newNavigation(name) {\n    return {\n      'from': this.currentRoute ? this.currentRoute.name : undefined,\n      'to': name\n    }\n  }\n\n  reverseNavigation(nav) {\n    return {\n      from: nav.to,\n      to: nav.from\n    };\n  }\n\n  go(name, params, replace, skipHistory) {\n    if (this.isNavigationInProgress) {\n      return;\n    }\n\n    if (skipHistory !== undefined) {\n      const newNav = this.newNavigation(name);\n      const reverseNav = this.reverseNavigation(newNav);\n      reverseNav.skipHistory = skipHistory;\n      this.navigationStack.addSkipNavigation(reverseNav);\n    }\n\n    const sanitizedName = name.replace(Router.LTRIM_SLASH, '');\n    const path = this.getPath(sanitizedName, params);\n    if (path !== this._getHashPath()) {\n      this.isNavigationInProgress = true;\n      this.updatePathInBrowser(path, replace);\n    }\n  }\n\n  back() {\n    const navigation = {};\n    if (this.navigationStack.length > 1) {\n      let fromRoute = this.navigationStack.pop();\n      let auxFromRoute = fromRoute;\n      let backRoute = this.getLastRoute();\n\n      console.log('back::', fromRoute, backRoute);\n\n      while (this.navigationStack.isSkipNavigation({from: auxFromRoute.page, to: backRoute.page}) && this.navigationStack.length>1) {\n        auxFromRoute = this.navigationStack.pop();\n        if (this.navigationStack.length > 0) {\n          backRoute = this.getLastRoute();\n        }\n      }\n\n      const page = backRoute.page;\n      const params = backRoute.params;\n\n      navigation.from = fromRoute;\n      navigation.to = backRoute;\n\n      this.go(page, params);\n    } else {\n      navigation.from = this.getLastRoute();\n      navigation.to = this.getLastRoute();\n    }\n    return navigation;\n  }\n\n  updatePathInBrowser(path, replace) {\n    if (this.useHistory) {\n      if (replace) {\n        this.historyReplaceState(path);\n      } else {\n        this.historyPushState(path);\n      }\n    } else {\n      if (replace) {\n        this.locationReplace(path);\n      } else {\n        this.locationHash(path);\n      }\n    }\n  }\n\n  goReplacing(name, params) {\n    this.go(name, params, true);\n  }\n\n  historyReplaceState(path) {\n    history.replaceState(null, null, path);\n  }\n\n  historyPushState(path) {\n    history.pushState(null, null, path);\n  }\n\n  locationReplace(path) {\n    location.replace('#!' + path);\n  }\n\n  locationHash(path) {\n    location.hash = '#!' + path;\n  }\n\n  /**\n   * Get last route from stack.\n   *\n   * @returns {Object} Last route from stack.\n   */\n  getLastRoute() {\n    return this.navigationStack.top();\n  }\n\n  /**\n   * Initialize router stack.\n   */\n  init() {\n    this._clearStack();\n  }\n\n  /**\n   * Clear the router stack.\n   */\n  _clearStack() {\n    this.navigationStack.clear();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/router.js","// BUILD_TARGET import statement is replaced by NormalModuleReplacementPlugin at build time with desireed target.\n// Possible values: core, native, polymer.\nimport './polyfills';\nimport Bridge from './BUILD_TARGET/bridge';\nimport * as metadata from './core/constants';\n\n// TARGETS and BUILD_TARGET are injected through Webpack DefinePlugin,\nconst TARGET_NAMESPACE = TARGETS[BUILD_TARGET] || TARGETS['core'];\nconst { windowExport } = TARGET_NAMESPACE;\n\n// We expose Bridge to Browsers\nwindow[windowExport] = Bridge;\n\n// We expose Bridge Metadata to Node\nmodule.exports = {\n  metadata\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import CellsComponentConnector from '../core/component-connector';\n\nvar _getProperyChangedName = function (name) {\n  var propertyName;\n\n  /* istanbul ignore else */\n  if (!Polymer.Base._EVENT_CHANGED) {\n    Polymer.Base._EVENT_CHANGED = '-changed';\n  }\n  /* istanbul ignore else */\n  if (name.indexOf(Polymer.Base._EVENT_CHANGED, name.length - Polymer.Base._EVENT_CHANGED.length) !== -1) {\n    propertyName = name.slice(0, -Polymer.Base._EVENT_CHANGED.length);\n    propertyName = Polymer.CaseMap.dashToCamelCase(propertyName);\n  }\n\n  return propertyName;\n};\n\n// Hell to test:\nvar _parseActionInEvent = function(evt, targetPath, target) {\n  var path;\n  var value;\n\n  // Check if event is because of property changed.\n  var propertyName = _getProperyChangedName(evt.type);\n\n  if (propertyName && evt.detail && evt.detail.hasOwnProperty('value')) {\n    value = evt.detail.value;\n    targetPath = targetPath || propertyName;\n\n    if (evt.detail.path) {\n      path = evt.detail.path.replace(propertyName, targetPath);\n    } else {\n      path = targetPath;\n    }\n  } else {\n    path = targetPath;\n    value = evt.detail;\n  }\n\n  if (target !== undefined && target.is === undefined && typeof(value) === 'object') {\n    if (Polymer.Element === undefined) {\n      value = JSON.stringify(value);\n    } else {\n      /* istanbul ignore else */\n      if ((target instanceof Polymer.Element) === false) {\n        value = JSON.stringify(value);\n      }\n    }\n  }\n\n  return {\n    path: path,\n    value: value,\n    property: targetPath\n  };\n};\n\nexport default class CellsPolymerComponentConnector extends CellsComponentConnector {\n\n  wrapCallback(node, bindName) {\n    return function(evt) {\n      var _idleCallback = function(fn) {\n        setTimeout(\n          function () {\n            if ('requestIdleCallback' in window) {\n              window.requestIdleCallback(fn);\n            } else {\n              setTimeout(fn, 1);\n            }\n          }, 100\n        );\n      }\n\n      var checkDispatchActionType = function(mutations, observerObject) {\n        /* istanbul ignore else */\n        if (this._isPolymerElement(node)) {\n          if (typeof(bindName) === 'function') {\n            this._dispatchActionFunction(evt, node, bindName);\n          } else {\n            if (typeof node[bindName] === 'function') {\n              this._dispatchActionFunction(evt, node, bindName);\n            } else {\n              this._dispatchActionProperty(evt, node, bindName);\n            }\n          }\n\n          /* istanbul ignore else */\n          if (observerObject) {\n            observerObject.disconnect();\n          }\n        } else {\n          _idleCallback(checkDispatchActionType);\n        }\n      }.bind(this);\n\n      if (this._isPolymerElement(node)) {\n        checkDispatchActionType();\n      } else {\n        var observer = new MutationObserver(checkDispatchActionType);\n        var config = { attributes: false, childList: true, characterData: true };\n        observer.observe(node, config);\n\n        _idleCallback(checkDispatchActionType, 100);\n      }\n    }.bind(this);\n  }\n\n  /**\n   * Return the version of Polymer instance if the node is a Polymer element.\n   * Return -1 if if the node is not a Polymer element.\n   *\n   * @param {Element} node\n   */\n  _whichPolymerVersion(node) {\n    let version = -1;\n    if (Polymer.Element !== undefined && (node instanceof Polymer.Element || node instanceof Polymer.LegacyElementMixin)) {\n      version = 2;\n    } else {\n      /* istanbul ignore else */\n      if (node.__isPolymerInstance__ !== undefined) {\n        version = 1;\n      }\n    }\n    return version;\n  }\n\n  /**\n   * Return true if the node is instance of a Polymer element, otherwise return false.\n   *\n   * @param {Element} node\n   */\n  _isPolymerElement(node) {\n    return this._whichPolymerVersion(node) > 0;\n  }\n\n  /**\n   * Returns true if the event has reached the node that is listening the event\n   *\n   * @param {Event} event\n   */\n  _isEventAtTarget(event) {\n    var atTarget;\n    if (/** For Polymer 2 **/  Polymer.Settings.hasShadow === false || /** For Polymer 2 **/ Polymer.Settings.useShadow === false) {\n      var normalizedEvent = Polymer.dom(event);\n      atTarget = normalizedEvent.localTarget === event.currentTarget;\n    } else {\n      atTarget = super._isEventAtTarget(event);\n    }\n    return atTarget;\n  }\n\n  _dispatchActionFunction(evt, target, method) {\n    var propertyName = _getProperyChangedName(evt.type);\n    var payload;\n\n    if (propertyName && evt.detail && evt.detail.hasOwnProperty('value')) {\n      if (Polymer.dom(evt).rootTarget) {\n        payload = Polymer.dom(evt).rootTarget[propertyName];\n      } else {\n        payload = evt.detail.value;\n      }\n    } else {\n      payload = evt.detail;\n    }\n\n    //TODO: Review to see if we actually want to show this warning.\n    if (this.bridge && this.bridge.debug && this.bridge.parsePayload && ('' + target[method]).indexOf('.data') > -1) {\n      payload = this.bridge.parsePayload(evt.detail);\n      console.warn('%c' + target.tagName + '%c is using an incompatible payload data in ' + method, 'background: #ff9800; color: white; padding: 4px 4px 4px 10px', 'background: #ff9800; color: rgba(255,255,255,0.9); padding: 4px 10px 4px 0');\n    }\n\n    if (typeof(method) === 'function') {\n      method(payload);\n    } else {\n      target[method](payload);\n    }\n  }\n\n  _getTargetProperties(target) {\n    let props;\n\n    if (target.constructor.config) {\n      props = target.constructor.config.properties;\n    } else if (target.constructor._properties) {\n      props = target.constructor._properties\n    }\n\n    return props;\n  }\n\n  _dispatchActionProperty(evt, target, property) {\n    var info;\n    var data = _parseActionInEvent(evt, property, target);\n\n    //check if target is an instance of Polymer Element to check if is a polymer 2 element\n    if (target && target.getPropertyInfo || Polymer.Element !== undefined && (target instanceof Polymer.Element) === false) {\n      if (target.getPropertyInfo) {\n        info = target.getPropertyInfo(data.property)\n      } else {\n        info = this._getTargetProperties(target)[data.property];\n      }\n\n      /* istanbul ignore else */\n      if (info && info.defined && !info.readOnly && !info.computed) {\n        return target.set(data.path, data.value);\n      }\n    }\n    //check if target is an instance of Polymer Element to check if is a polymer 2 element\n    if (target && target.getPropertyInfo === undefined || Polymer.Element !== undefined && (target instanceof Polymer.Element) === false) {\n      info = this._getTargetProperties(target) !== undefined ? this._getTargetProperties(target)[data.property] : undefined;\n\n      /* istanbul ignore else */\n      if (info && !info.readOnly && !info.computed) {\n        return target.set(data.path, data.value);\n      }\n\n    }\n\n    // check if target property is a boolean one and current value is false.\n    // it expects to remove the attribute (as it's a boolean one)\n    if (typeof(data.value) === 'boolean' && !data.value) {\n      return target.removeAttribute(data.path);\n    }\n\n    return target.setAttribute(data.path, data.value);\n  }\n\n  register(node, connections) {\n    super.register(node, connections);\n\n    if (!node || !connections) {\n      return;\n    }\n\n    if (node.__isCellsConnected) {\n      return;\n    }\n\n    /* istanbul ignore else */\n    if (connections.in) {\n      for (let action in connections.in) {\n        /* istanbul ignore else */\n        if (this.manager.get(action)._events[0]) {\n          /* istanbul ignore else */\n          if (connections.ignoreAttr) {\n            connections.ignoreAttr.push(connections.in[action].bind);\n          } else {\n            connections.ignoreAttr = [connections.in[action].bind];\n          }\n        }\n      }\n    }\n\n    /* istanbul ignore else */\n    if (connections.out) {\n      for (let _action in connections.out) {\n        let attrName = _getProperyChangedName(connections.out[_action].bind);\n\n        let polymerVersion = this._whichPolymerVersion(node);\n        if (polymerVersion === 2 ) {\n          /* istanbul ignore else */\n          if (attrName && node.__data && !this.manager.get(_action)._events[0]) {\n            /* istanbul ignore else */\n            if (node && node._hasReadOnlyEffect) {\n              /* istanbul ignore else */\n              if (!node._hasReadOnlyEffect(attrName) && !node._hasComputedEffect(attrName)) {\n                let oldValue = node[attrName];\n                node.__data[attrName] = undefined;\n                node[attrName] = oldValue;\n              }\n            }\n          }\n        } else {\n          /* istanbul ignore else */\n          if (attrName && node.__data__ && !this.manager.get(_action)._events[0]) {\n            /* istanbul ignore else */\n            if (node && node.getPropertyInfo) {\n              var info = node.getPropertyInfo(attrName);\n\n              /* istanbul ignore else */\n              if (info.defined && !info.readOnly && !info.computed) {\n                let oldValue = node[attrName];\n                // remove polymer internal current value to trigger model changes\n                node.__data__[attrName] = undefined;\n                node[attrName] = oldValue;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    node.__isCellsConnected = true;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/polymer/component-connector.js","import CellsBridgeComponent from '../core/component';\nimport { isPolymerElementUnresolved } from './resolution-checker';\n\nexport default class PolymerComponent extends CellsBridgeComponent {\n  isUnresolved() {\n    return isPolymerElementUnresolved(this.node);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/polymer/component.js","import CellsManagerTemplate from '../../core/manager/template';\nimport PolymerTemplate from '../template';\n\nexport default class PolymerTemplateManager extends CellsManagerTemplate {\n  _createCellsTemplate(name, spec) {\n    const cellsTemplate = new PolymerTemplate(spec);\n    const cellsTemplateConfig = this._createCellsTemplateConfig(name);\n\n    cellsTemplate.config(cellsTemplateConfig);\n    return cellsTemplate;\n  }\n\n  _createCellsTemplateConfig(name) {\n    return {\n      name,\n      template: {\n        id: this.parseTemplateId(name),\n        name: this.parseTemplateName(name)\n      }\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/polymer/manager/template.js","import CellsBridgeTemplate from '../core/template';\nimport { isPolymerElementUnresolved } from './resolution-checker';\n\nexport default class PolymerTemplate extends CellsBridgeTemplate {\n  isUnresolved() {\n    return isPolymerElementUnresolved(this.node);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/polymer/template.js","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.SEMaaS = factory());\n}(this, (function () { 'use strict';\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  };\n\n  var asyncToGenerator = function (fn) {\n    return function () {\n      var gen = fn.apply(this, arguments);\n      return new Promise(function (resolve, reject) {\n        function step(key, arg) {\n          try {\n            var info = gen[key](arg);\n            var value = info.value;\n          } catch (error) {\n            reject(error);\n            return;\n          }\n\n          if (info.done) {\n            resolve(value);\n          } else {\n            return Promise.resolve(value).then(function (value) {\n              step(\"next\", value);\n            }, function (err) {\n              step(\"throw\", err);\n            });\n          }\n        }\n\n        return step(\"next\");\n      });\n    };\n  };\n\n  var classCallCheck = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var toConsumableArray = function (arr) {\n    if (Array.isArray(arr)) {\n      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n      return arr2;\n    } else {\n      return Array.from(arr);\n    }\n  };\n\n  /**\n   * Copyright (c) 2014-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  !function (global) {\n\n    var Op = Object.prototype;\n    var hasOwn = Op.hasOwnProperty;\n    var undefined; // More compressible than void 0.\n    var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n    var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n    var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n    var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n    var inModule = (typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\";\n    var runtime = global.regeneratorRuntime;\n    if (runtime) {\n      if (inModule) {\n        // If regeneratorRuntime is defined globally and we're in a module,\n        // make the exports object identical to regeneratorRuntime.\n        module.exports = runtime;\n      }\n      // Don't bother evaluating the rest of this file if the runtime was\n      // already defined globally.\n      return;\n    }\n\n    // Define the runtime globally (as expected by generated code) as either\n    // module.exports (if we're in a module) or a new, empty object.\n    runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n    function wrap(innerFn, outerFn, self, tryLocsList) {\n      // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n      var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n      var generator = Object.create(protoGenerator.prototype);\n      var context = new Context(tryLocsList || []);\n\n      // The ._invoke method unifies the implementations of the .next,\n      // .throw, and .return methods.\n      generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n      return generator;\n    }\n    runtime.wrap = wrap;\n\n    // Try/catch helper to minimize deoptimizations. Returns a completion\n    // record like context.tryEntries[i].completion. This interface could\n    // have been (and was previously) designed to take a closure to be\n    // invoked without arguments, but in all the cases we care about we\n    // already have an existing method we want to call, so there's no need\n    // to create a new function object. We can even get away with assuming\n    // the method takes exactly one argument, since that happens to be true\n    // in every case, so we don't have to touch the arguments object. The\n    // only additional allocation required is the completion record, which\n    // has a stable shape and so hopefully should be cheap to allocate.\n    function tryCatch(fn, obj, arg) {\n      try {\n        return { type: \"normal\", arg: fn.call(obj, arg) };\n      } catch (err) {\n        return { type: \"throw\", arg: err };\n      }\n    }\n\n    var GenStateSuspendedStart = \"suspendedStart\";\n    var GenStateSuspendedYield = \"suspendedYield\";\n    var GenStateExecuting = \"executing\";\n    var GenStateCompleted = \"completed\";\n\n    // Returning this object from the innerFn has the same effect as\n    // breaking out of the dispatch switch statement.\n    var ContinueSentinel = {};\n\n    // Dummy constructor functions that we use as the .constructor and\n    // .constructor.prototype properties for functions that return Generator\n    // objects. For full spec compliance, you may wish to configure your\n    // minifier not to mangle the names of these two functions.\n    function Generator() {}\n    function GeneratorFunction() {}\n    function GeneratorFunctionPrototype() {}\n\n    // This is a polyfill for %IteratorPrototype% for environments that\n    // don't natively support it.\n    var IteratorPrototype = {};\n    IteratorPrototype[iteratorSymbol] = function () {\n      return this;\n    };\n\n    var getProto = Object.getPrototypeOf;\n    var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n    if (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n      // This environment has a native %IteratorPrototype%; use it instead\n      // of the polyfill.\n      IteratorPrototype = NativeIteratorPrototype;\n    }\n\n    var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n    GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n    GeneratorFunctionPrototype.constructor = GeneratorFunction;\n    GeneratorFunctionPrototype[toStringTagSymbol] = GeneratorFunction.displayName = \"GeneratorFunction\";\n\n    // Helper for defining the .next, .throw, and .return methods of the\n    // Iterator interface in terms of a single ._invoke method.\n    function defineIteratorMethods(prototype) {\n      [\"next\", \"throw\", \"return\"].forEach(function (method) {\n        prototype[method] = function (arg) {\n          return this._invoke(method, arg);\n        };\n      });\n    }\n\n    runtime.isGeneratorFunction = function (genFun) {\n      var ctor = typeof genFun === \"function\" && genFun.constructor;\n      return ctor ? ctor === GeneratorFunction ||\n      // For the native GeneratorFunction constructor, the best we can\n      // do is to check its .name property.\n      (ctor.displayName || ctor.name) === \"GeneratorFunction\" : false;\n    };\n\n    runtime.mark = function (genFun) {\n      if (Object.setPrototypeOf) {\n        Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n      } else {\n        genFun.__proto__ = GeneratorFunctionPrototype;\n        if (!(toStringTagSymbol in genFun)) {\n          genFun[toStringTagSymbol] = \"GeneratorFunction\";\n        }\n      }\n      genFun.prototype = Object.create(Gp);\n      return genFun;\n    };\n\n    // Within the body of any async function, `await x` is transformed to\n    // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n    // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n    // meant to be awaited.\n    runtime.awrap = function (arg) {\n      return { __await: arg };\n    };\n\n    function AsyncIterator(generator) {\n      function invoke(method, arg, resolve, reject) {\n        var record = tryCatch(generator[method], generator, arg);\n        if (record.type === \"throw\") {\n          reject(record.arg);\n        } else {\n          var result = record.arg;\n          var value = result.value;\n          if (value && (typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === \"object\" && hasOwn.call(value, \"__await\")) {\n            return Promise.resolve(value.__await).then(function (value) {\n              invoke(\"next\", value, resolve, reject);\n            }, function (err) {\n              invoke(\"throw\", err, resolve, reject);\n            });\n          }\n\n          return Promise.resolve(value).then(function (unwrapped) {\n            // When a yielded Promise is resolved, its final value becomes\n            // the .value of the Promise<{value,done}> result for the\n            // current iteration. If the Promise is rejected, however, the\n            // result for this iteration will be rejected with the same\n            // reason. Note that rejections of yielded Promises are not\n            // thrown back into the generator function, as is the case\n            // when an awaited Promise is rejected. This difference in\n            // behavior between yield and await is important, because it\n            // allows the consumer to decide what to do with the yielded\n            // rejection (swallow it and continue, manually .throw it back\n            // into the generator, abandon iteration, whatever). With\n            // await, by contrast, there is no opportunity to examine the\n            // rejection reason outside the generator function, so the\n            // only option is to throw it from the await expression, and\n            // let the generator function handle the exception.\n            result.value = unwrapped;\n            resolve(result);\n          }, reject);\n        }\n      }\n\n      var previousPromise;\n\n      function enqueue(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new Promise(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n\n        return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(callInvokeWithMethodAndArg,\n        // Avoid propagating failures to Promises returned by later\n        // invocations of the iterator.\n        callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n\n      // Define the unified helper method that is used to implement .next,\n      // .throw, and .return (see defineIteratorMethods).\n      this._invoke = enqueue;\n    }\n\n    defineIteratorMethods(AsyncIterator.prototype);\n    AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n      return this;\n    };\n    runtime.AsyncIterator = AsyncIterator;\n\n    // Note that simple async functions are implemented on top of\n    // AsyncIterator objects; they just return a Promise for the value of\n    // the final result produced by the iterator.\n    runtime.async = function (innerFn, outerFn, self, tryLocsList) {\n      var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList));\n\n      return runtime.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function (result) {\n        return result.done ? result.value : iter.next();\n      });\n    };\n\n    function makeInvokeMethod(innerFn, self, context) {\n      var state = GenStateSuspendedStart;\n\n      return function invoke(method, arg) {\n        if (state === GenStateExecuting) {\n          throw new Error(\"Generator is already running\");\n        }\n\n        if (state === GenStateCompleted) {\n          if (method === \"throw\") {\n            throw arg;\n          }\n\n          // Be forgiving, per 25.3.3.3.3 of the spec:\n          // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n          return doneResult();\n        }\n\n        context.method = method;\n        context.arg = arg;\n\n        while (true) {\n          var delegate = context.delegate;\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (context.method === \"next\") {\n            // Setting context._sent for legacy support of Babel's\n            // function.sent implementation.\n            context.sent = context._sent = context.arg;\n          } else if (context.method === \"throw\") {\n            if (state === GenStateSuspendedStart) {\n              state = GenStateCompleted;\n              throw context.arg;\n            }\n\n            context.dispatchException(context.arg);\n          } else if (context.method === \"return\") {\n            context.abrupt(\"return\", context.arg);\n          }\n\n          state = GenStateExecuting;\n\n          var record = tryCatch(innerFn, self, context);\n          if (record.type === \"normal\") {\n            // If an exception is thrown from innerFn, we leave state ===\n            // GenStateExecuting and loop back for another invocation.\n            state = context.done ? GenStateCompleted : GenStateSuspendedYield;\n\n            if (record.arg === ContinueSentinel) {\n              continue;\n            }\n\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          } else if (record.type === \"throw\") {\n            state = GenStateCompleted;\n            // Dispatch the exception by looping back around to the\n            // context.dispatchException(context.arg) call above.\n            context.method = \"throw\";\n            context.arg = record.arg;\n          }\n        }\n      };\n    }\n\n    // Call delegate.iterator[context.method](context.arg) and handle the\n    // result, either by returning a { value, done } result from the\n    // delegate iterator, or by modifying context.method and context.arg,\n    // setting context.delegate to null, and returning the ContinueSentinel.\n    function maybeInvokeDelegate(delegate, context) {\n      var method = delegate.iterator[context.method];\n      if (method === undefined) {\n        // A .throw or .return when the delegate iterator has no .throw\n        // method always terminates the yield* loop.\n        context.delegate = null;\n\n        if (context.method === \"throw\") {\n          if (delegate.iterator.return) {\n            // If the delegate iterator has a return method, give it a\n            // chance to clean up.\n            context.method = \"return\";\n            context.arg = undefined;\n            maybeInvokeDelegate(delegate, context);\n\n            if (context.method === \"throw\") {\n              // If maybeInvokeDelegate(context) changed context.method from\n              // \"return\" to \"throw\", let that override the TypeError below.\n              return ContinueSentinel;\n            }\n          }\n\n          context.method = \"throw\";\n          context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n        }\n\n        return ContinueSentinel;\n      }\n\n      var record = tryCatch(method, delegate.iterator, context.arg);\n\n      if (record.type === \"throw\") {\n        context.method = \"throw\";\n        context.arg = record.arg;\n        context.delegate = null;\n        return ContinueSentinel;\n      }\n\n      var info = record.arg;\n\n      if (!info) {\n        context.method = \"throw\";\n        context.arg = new TypeError(\"iterator result is not an object\");\n        context.delegate = null;\n        return ContinueSentinel;\n      }\n\n      if (info.done) {\n        // Assign the result of the finished delegate to the temporary\n        // variable specified by delegate.resultName (see delegateYield).\n        context[delegate.resultName] = info.value;\n\n        // Resume execution at the desired location (see delegateYield).\n        context.next = delegate.nextLoc;\n\n        // If context.method was \"throw\" but the delegate handled the\n        // exception, let the outer generator proceed normally. If\n        // context.method was \"next\", forget context.arg since it has been\n        // \"consumed\" by the delegate iterator. If context.method was\n        // \"return\", allow the original .return call to continue in the\n        // outer generator.\n        if (context.method !== \"return\") {\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n      } else {\n        // Re-yield the result returned by the delegate method.\n        return info;\n      }\n\n      // The delegate iterator is finished, so forget it and continue with\n      // the outer generator.\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    // Define Generator.prototype.{next,throw,return} in terms of the\n    // unified ._invoke helper method.\n    defineIteratorMethods(Gp);\n\n    Gp[toStringTagSymbol] = \"Generator\";\n\n    // A Generator should always return itself as the iterator object when the\n    // @@iterator function is called on it. Some browsers' implementations of the\n    // iterator prototype chain incorrectly implement this, causing the Generator\n    // object to not be returned from this call. This ensures that doesn't happen.\n    // See https://github.com/facebook/regenerator/issues/274 for more details.\n    Gp[iteratorSymbol] = function () {\n      return this;\n    };\n\n    Gp.toString = function () {\n      return \"[object Generator]\";\n    };\n\n    function pushTryEntry(locs) {\n      var entry = { tryLoc: locs[0] };\n\n      if (1 in locs) {\n        entry.catchLoc = locs[1];\n      }\n\n      if (2 in locs) {\n        entry.finallyLoc = locs[2];\n        entry.afterLoc = locs[3];\n      }\n\n      this.tryEntries.push(entry);\n    }\n\n    function resetTryEntry(entry) {\n      var record = entry.completion || {};\n      record.type = \"normal\";\n      delete record.arg;\n      entry.completion = record;\n    }\n\n    function Context(tryLocsList) {\n      // The root entry object (effectively a try statement without a catch\n      // or a finally block) gives us a place to store values thrown from\n      // locations where there is no enclosing try statement.\n      this.tryEntries = [{ tryLoc: \"root\" }];\n      tryLocsList.forEach(pushTryEntry, this);\n      this.reset(true);\n    }\n\n    runtime.keys = function (object) {\n      var keys = [];\n      for (var key in object) {\n        keys.push(key);\n      }\n      keys.reverse();\n\n      // Rather than returning an object with a next method, we keep\n      // things simple and return the next function itself.\n      return function next() {\n        while (keys.length) {\n          var key = keys.pop();\n          if (key in object) {\n            next.value = key;\n            next.done = false;\n            return next;\n          }\n        }\n\n        // To avoid creating an additional object, we just hang the .value\n        // and .done properties off the next function object itself. This\n        // also ensures that the minifier will not anonymize the function.\n        next.done = true;\n        return next;\n      };\n    };\n\n    function values(iterable) {\n      if (iterable) {\n        var iteratorMethod = iterable[iteratorSymbol];\n        if (iteratorMethod) {\n          return iteratorMethod.call(iterable);\n        }\n\n        if (typeof iterable.next === \"function\") {\n          return iterable;\n        }\n\n        if (!isNaN(iterable.length)) {\n          var i = -1,\n              next = function next() {\n            while (++i < iterable.length) {\n              if (hasOwn.call(iterable, i)) {\n                next.value = iterable[i];\n                next.done = false;\n                return next;\n              }\n            }\n\n            next.value = undefined;\n            next.done = true;\n\n            return next;\n          };\n\n          return next.next = next;\n        }\n      }\n\n      // Return an iterator with no values.\n      return { next: doneResult };\n    }\n    runtime.values = values;\n\n    function doneResult() {\n      return { value: undefined, done: true };\n    }\n\n    Context.prototype = {\n      constructor: Context,\n\n      reset: function reset(skipTempReset) {\n        this.prev = 0;\n        this.next = 0;\n        // Resetting context._sent for legacy support of Babel's\n        // function.sent implementation.\n        this.sent = this._sent = undefined;\n        this.done = false;\n        this.delegate = null;\n\n        this.method = \"next\";\n        this.arg = undefined;\n\n        this.tryEntries.forEach(resetTryEntry);\n\n        if (!skipTempReset) {\n          for (var name in this) {\n            // Not sure about the optimal order of these conditions:\n            if (name.charAt(0) === \"t\" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {\n              this[name] = undefined;\n            }\n          }\n        }\n      },\n\n      stop: function stop() {\n        this.done = true;\n\n        var rootEntry = this.tryEntries[0];\n        var rootRecord = rootEntry.completion;\n        if (rootRecord.type === \"throw\") {\n          throw rootRecord.arg;\n        }\n\n        return this.rval;\n      },\n\n      dispatchException: function dispatchException(exception) {\n        if (this.done) {\n          throw exception;\n        }\n\n        var context = this;\n        function handle(loc, caught) {\n          record.type = \"throw\";\n          record.arg = exception;\n          context.next = loc;\n\n          if (caught) {\n            // If the dispatched exception was caught by a catch block,\n            // then let that catch block handle the exception normally.\n            context.method = \"next\";\n            context.arg = undefined;\n          }\n\n          return !!caught;\n        }\n\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n          var record = entry.completion;\n\n          if (entry.tryLoc === \"root\") {\n            // Exception thrown outside of any try block that could handle\n            // it, so set the completion value of the entire function to\n            // throw the exception.\n            return handle(\"end\");\n          }\n\n          if (entry.tryLoc <= this.prev) {\n            var hasCatch = hasOwn.call(entry, \"catchLoc\");\n            var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n            if (hasCatch && hasFinally) {\n              if (this.prev < entry.catchLoc) {\n                return handle(entry.catchLoc, true);\n              } else if (this.prev < entry.finallyLoc) {\n                return handle(entry.finallyLoc);\n              }\n            } else if (hasCatch) {\n              if (this.prev < entry.catchLoc) {\n                return handle(entry.catchLoc, true);\n              }\n            } else if (hasFinally) {\n              if (this.prev < entry.finallyLoc) {\n                return handle(entry.finallyLoc);\n              }\n            } else {\n              throw new Error(\"try statement without catch or finally\");\n            }\n          }\n        }\n      },\n\n      abrupt: function abrupt(type, arg) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n          if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n            var finallyEntry = entry;\n            break;\n          }\n        }\n\n        if (finallyEntry && (type === \"break\" || type === \"continue\") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {\n          // Ignore the finally entry if control is not jumping to a\n          // location outside the try/catch block.\n          finallyEntry = null;\n        }\n\n        var record = finallyEntry ? finallyEntry.completion : {};\n        record.type = type;\n        record.arg = arg;\n\n        if (finallyEntry) {\n          this.method = \"next\";\n          this.next = finallyEntry.finallyLoc;\n          return ContinueSentinel;\n        }\n\n        return this.complete(record);\n      },\n\n      complete: function complete(record, afterLoc) {\n        if (record.type === \"throw\") {\n          throw record.arg;\n        }\n\n        if (record.type === \"break\" || record.type === \"continue\") {\n          this.next = record.arg;\n        } else if (record.type === \"return\") {\n          this.rval = this.arg = record.arg;\n          this.method = \"return\";\n          this.next = \"end\";\n        } else if (record.type === \"normal\" && afterLoc) {\n          this.next = afterLoc;\n        }\n\n        return ContinueSentinel;\n      },\n\n      finish: function finish(finallyLoc) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n          if (entry.finallyLoc === finallyLoc) {\n            this.complete(entry.completion, entry.afterLoc);\n            resetTryEntry(entry);\n            return ContinueSentinel;\n          }\n        }\n      },\n\n      \"catch\": function _catch(tryLoc) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n          if (entry.tryLoc === tryLoc) {\n            var record = entry.completion;\n            if (record.type === \"throw\") {\n              var thrown = record.arg;\n              resetTryEntry(entry);\n            }\n            return thrown;\n          }\n        }\n\n        // The context.catch method must only be called with a location\n        // argument that corresponds to a known catch block.\n        throw new Error(\"illegal catch attempt\");\n      },\n\n      delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n        this.delegate = {\n          iterator: values(iterable),\n          resultName: resultName,\n          nextLoc: nextLoc\n        };\n\n        if (this.method === \"next\") {\n          // Deliberately forget the last sent value so that we don't\n          // accidentally pass it on to the delegate.\n          this.arg = undefined;\n        }\n\n        return ContinueSentinel;\n      }\n    };\n  }(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  function () {\n    return this;\n  }() || Function(\"return this\")());\n\n  var SEMAAS_REQUIRED_FIELDS = ['consumerId', 'policy', 'mrId', 'nameSpace', 'environment'];\n\n  var SEMAAS = {\n    DEFAULT_ADAPTER_IDENTIFIER: 'application',\n    DEFAULT_ADAPTER_COUNTRY: 'es',\n    REQUIRED_FIELDS: SEMAAS_REQUIRED_FIELDS,\n    ALLOWED_FIELDS: [].concat(SEMAAS_REQUIRED_FIELDS, ['identifier', 'country'])\n  };\n\n  var RHO = {\n    HOST: function HOST(environment, country) {\n      return 'https://rho.' + environment + '.' + country + '.platform.bbva.com/v1';\n    },\n    ALLOWED_FIELDS: ['mrId', 'spanId', 'startDate', 'finishDate', 'name', 'parentSpan', 'traceId', 'properties', 'duration', 'recordDate'],\n    REQUIRED_FIELDS: []\n  };\n\n  var OMEGA = {\n    HOST: function HOST(environment, country) {\n      return 'https://omega.' + environment + '.' + country + '.platform.bbva.com/v1';\n    },\n    DEFAULT_LOG_LEVEL: 'DEBUG',\n    ALLOWED_FIELDS: ['mrId', 'spanId', 'traceId', 'creationDate', 'level', 'message', 'properties'],\n    MAXIMUM_BULK_SIZE: 1000,\n    REQUIRED_FIELDS: []\n  };\n\n  var TSEC2JWT = {\n    HOST: function HOST(environment) {\n      return 'https://tsec2jwt.' + environment + '.global.platform.bbva.com/v1/Token';\n    }\n  };\n\n  var Constants = {\n    SEMAAS: SEMAAS,\n    RHO: RHO,\n    OMEGA: OMEGA,\n    TSEC2JWT: TSEC2JWT\n  };\n\n  // credits to GeenenTijd/dotify\n  // https://github.com/GeenenTijd/dotify/blob/master/dotify.js\n  var dotify = function dotify(obj) {\n    var res = {};\n    var recurse = function recurse(obj, current) {\n      Object.keys(obj).forEach(function (key) {\n        var value = obj[key];\n        var newKey = current ? current + '.' + key : key; // joined key with dot\n        if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n          recurse(value, newKey); // it's a nested object, so do it again\n        } else {\n          res[newKey] = value; // it's not an object, so set the property\n        }\n      });\n    };\n\n    recurse(obj);\n    return res;\n  };\n  var sanitizeObj = function sanitizeObj(obj, allowedFields) {\n    var result = _extends({}, obj);\n\n    Object.keys(result).forEach(function (prop) {\n      if (!allowedFields.includes(prop)) {\n        delete result[prop];\n      }\n    });\n\n    if (result.properties) {\n      result.properties = dotify(result.properties);\n    }\n\n    return result;\n  };\n  var hasProperty = function hasProperty(obj) {\n    return function (field) {\n      return Object.prototype.hasOwnProperty.call(obj, field) && !!obj[field];\n    };\n  };\n  var hasProperties = function hasProperties(obj, expectedFields) {\n    return expectedFields.every(hasProperty(obj));\n  };\n  var groupBy = function groupBy(items, value) {\n    return items.reduce(function (prev, current) {\n      var key = value instanceof Function ? value(current) : current[value];\n      var itemsContainingKey = prev.find(function (r) {\n        return r && r.key === key;\n      });\n\n      if (itemsContainingKey) {\n        itemsContainingKey.values.push(current);\n      } else {\n        prev.push({ key: key, values: [current] });\n      }\n\n      return prev;\n    }, []);\n  };\n  var createUUID = function createUUID() {\n    var s = [];\n    var hexDigits = '0123456789abcdef';\n    for (var i = 0; i < 36; i++) {\n      s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\n    }\n    s[14] = '4'; // bits 12-15 of the time_hi_and_version field to 0010\n    s[19] = hexDigits.substr(s[19] & 0x3 | 0x8, 1); // bits 6-7 of the clock_seq_hi_and_reserved to 01\n    s[8] = s[13] = s[18] = s[23] = '-';\n\n    var uuid = s.join('');\n    return uuid;\n  };\n\n  var Utils = {\n    dotify: dotify,\n    sanitizeObj: sanitizeObj,\n    hasProperty: hasProperty,\n    hasProperties: hasProperties,\n    groupBy: groupBy,\n    createUUID: createUUID\n  };\n\n  var OMEGA$1 = Constants.OMEGA;\n  var DEFAULT_LOG_LEVEL = OMEGA$1.DEFAULT_LOG_LEVEL,\n      ALLOWED_FIELDS = OMEGA$1.ALLOWED_FIELDS;\n  var sanitizeObj$1 = Utils.sanitizeObj;\n\n  var Omega = function () {\n    function Omega(mrId) {\n      classCallCheck(this, Omega);\n      this.mrId = null;\n\n      this.mrId = mrId;\n    }\n\n    // @TODO renombrar a normalizeLog? buildLog?\n    /*static*/\n\n    createClass(Omega, [{\n      key: 'createLog',\n      value: function createLog(obj) {\n        var mrId = this.mrId;\n\n        var sanitizedData = sanitizeObj$1(obj, ALLOWED_FIELDS);\n        var DEFAULT_LOG = {\n          mrId: mrId,\n          creationDate: Date.now() * 1000000,\n          level: DEFAULT_LOG_LEVEL\n        };\n\n        return _extends({}, DEFAULT_LOG, sanitizedData);\n      }\n    }]);\n    return Omega;\n  }();\n\n  var RHO$1 = Constants.RHO;\n  var ALLOWED_FIELDS$1 = RHO$1.ALLOWED_FIELDS;\n  var sanitizeObj$2 = Utils.sanitizeObj,\n      _createUUID = Utils.createUUID;\n\n  var Span = function () {\n    function Span(config) {\n      classCallCheck(this, Span);\n      this.spanId = null;\n\n      this.initialize(config);\n    }\n\n    createClass(Span, [{\n      key: 'initialize',\n      value: function initialize(config) {\n        var _this = this;\n\n        ALLOWED_FIELDS$1.forEach(function (field) {\n          if (config[field]) {\n            _this[field] = config[field];\n          }\n        });\n\n        this.spanId = _createUUID();\n        this.start();\n      }\n    }, {\n      key: 'start',\n      value: function start() {\n        this.startDate = Date.now() * 1000000;\n      }\n    }, {\n      key: 'finish',\n      value: function finish() {\n        this.finishDate = Date.now() * 1000000;\n      }\n    }]);\n    return Span;\n  }();\n\n  var Rho = function () {\n    function Rho(mrId) {\n      classCallCheck(this, Rho);\n      this.mrId = null;\n\n      this.mrId = mrId;\n    }\n\n    createClass(Rho, [{\n      key: 'createUUID',\n      value: function createUUID() {\n        return _createUUID();\n      }\n    }, {\n      key: 'createSpan',\n      value: function createSpan(rawData, childSpanPrefix) {\n        var DEFAULT_MR_ID = this.mrId;\n        var _rawData$mrId = rawData.mrId,\n            mrId = _rawData$mrId === undefined ? DEFAULT_MR_ID : _rawData$mrId,\n            parentSpan = rawData.parentSpan;\n\n        var normalizedParentSpan = this.getParentSpan(parentSpan, mrId, childSpanPrefix);\n        var data = _extends({}, rawData, {\n          mrId: mrId,\n          parentSpan: normalizedParentSpan\n        });\n        var span = new Span(data);\n\n        return span;\n      }\n    }, {\n      key: 'buildSpans',\n      value: function buildSpans(data) {\n        var iterableData = Array.isArray(data) ? [].concat(toConsumableArray(data)) : [data];\n\n        return iterableData.map(function (item) {\n          return sanitizeObj$2(item, ALLOWED_FIELDS$1);\n        });\n      }\n    }, {\n      key: 'getParentSpan',\n      value: function getParentSpan(parentSpan, mrId, childSpanPrefix) {\n        if (!parentSpan) {\n          return null;\n        }\n\n        return [childSpanPrefix, mrId, 'spans', parentSpan].join('/');\n      }\n    }]);\n    return Rho;\n  }();\n\n  var Adapters = {\n    Omega: Omega,\n    Rho: Rho\n  };\n\n  function request(method) {\n    var _this = this;\n\n    return function () {\n      var _ref = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(options) {\n        var url, body, headers, configuration, response, result;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                url = options.url, body = options.body, headers = options.headers;\n                configuration = {\n                  method: method,\n                  body: JSON.stringify(body),\n                  headers: {\n                    'content-type': 'application/json'\n                  }\n                };\n\n\n                if (headers) {\n                  Object.keys(headers).forEach(function (header) {\n                    var headerValue = headers[header];\n\n                    configuration.headers[header] = headerValue;\n                  });\n                }\n\n                // OJO!!!\n                // Interceptar aqu errores\n                _context.next = 5;\n                return fetch(url, configuration);\n\n              case 5:\n                response = _context.sent;\n\n                if (response.ok) {\n                  _context.next = 8;\n                  break;\n                }\n\n                return _context.abrupt('return', null);\n\n              case 8:\n                result = {};\n                _context.prev = 9;\n                _context.next = 12;\n                return response.json();\n\n              case 12:\n                result = _context.sent;\n                _context.next = 17;\n                break;\n\n              case 15:\n                _context.prev = 15;\n                _context.t0 = _context['catch'](9);\n\n              case 17:\n                return _context.abrupt('return', result);\n\n              case 18:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this, [[9, 15]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n  }\n\n  var METHODS = {\n    GET: request('get'),\n    POST: request('post')\n  };\n\n  var Connector = function () {\n    function Connector() {\n      classCallCheck(this, Connector);\n    }\n\n    createClass(Connector, null, [{\n      key: 'get',\n      value: function () {\n        var _ref2 = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(url, headers) {\n          return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  return _context2.abrupt('return', METHODS.GET({ url: url, headers: headers }));\n\n                case 1:\n                case 'end':\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        function get$$1(_x2, _x3) {\n          return _ref2.apply(this, arguments);\n        }\n\n        return get$$1;\n      }()\n    }, {\n      key: 'post',\n      value: function () {\n        var _ref3 = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(url, body, headers) {\n          return regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  return _context3.abrupt('return', METHODS.POST({ url: url, body: body, headers: headers }));\n\n                case 1:\n                case 'end':\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, this);\n        }));\n\n        function post(_x4, _x5, _x6) {\n          return _ref3.apply(this, arguments);\n        }\n\n        return post;\n      }()\n    }]);\n    return Connector;\n  }();\n\n  /** Default debounce duration (in ms) */\n  var DEFAULT_DEBOUNCE_DURATION = 500;\n\n  /** Decorates a class method so that it is debounced by the specified duration */\n  function outerDecorator(duration) {\n    return function innerDecorator(target, key, descriptor) {\n      return {\n        configurable: true,\n        enumerable: descriptor.enumerable,\n        get: function getter() {\n          // Attach this function to the instance (not the class)\n          Object.defineProperty(this, key, {\n            configurable: true,\n            enumerable: descriptor.enumerable,\n            value: debounce(descriptor.value, duration)\n          });\n\n          return this[key];\n        }\n      };\n    };\n  }\n\n  /** Debounces the specified function and returns a wrapper function */\n  function debounce(method) {\n    var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_DEBOUNCE_DURATION;\n\n    var timeoutId = void 0;\n\n    function debounceWrapper() {\n      var _this = this;\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      debounceWrapper.clear();\n\n      timeoutId = setTimeout(function () {\n        timeoutId = null;\n        method.apply(_this, args);\n      }, duration);\n    }\n\n    debounceWrapper.clear = function () {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n        timeoutId = null;\n      }\n    };\n\n    return debounceWrapper;\n  }\n\n  var decorate = function decorate(decorators) {\n    return function (obj, prop, descriptor) {\n      var fn = descriptor.value;\n\n      decorators.slice().reverse().forEach(function (decorator) {\n        return fn = decorator(fn);\n      });\n\n      return _extends({}, descriptor, {\n        value: fn\n      });\n    };\n  };\n\n  var Decorators = {\n    outerDecorator: outerDecorator,\n    decorate: decorate\n  };\n\n  var groupBy$1 = Utils.groupBy;\n\n\n  var MAXIMUM_BULK_SIZE = 1000;\n\n  var Queue = function () {\n\n    // maximumBulkSize = null;\n\n    function Queue(identifier) {\n      classCallCheck(this, Queue);\n      this.items = [];\n      this.identifier = null;\n\n      this.identifier = identifier;\n    }\n\n    createClass(Queue, [{\n      key: 'add',\n      value: function add(endpoint, data) {\n        var _this = this;\n\n        var iterableData = Array.isArray(data) ? [].concat(toConsumableArray(data)) : [data];\n\n        iterableData.forEach(function (item) {\n          var operation = {\n            data: item,\n            endpoint: endpoint\n          };\n\n          _this.items.push(operation);\n        });\n      }\n    }, {\n      key: 'dump',\n      value: function dump() /*maximumBulkSize*/{\n        if (!this.any()) {\n          return null;\n        }\n\n        var queueGroupedByEndpoint = groupBy$1(this.items, 'endpoint');\n        var firstQueueGroup = queueGroupedByEndpoint[0].values;\n\n        var bulk = firstQueueGroup.slice(0, MAXIMUM_BULK_SIZE);\n        var newQueue = this.items.filter(function (item) {\n          return !bulk.includes(item);\n        });\n\n        console.log('Dumping ' + bulk.length + ' items from ' + this.identifier + ' queue (' + this.items.length + ')...');\n\n        this.items = newQueue;\n\n        return bulk;\n      }\n    }, {\n      key: 'any',\n      value: function any() {\n        return this.items !== null && this.items.length > 0;\n      }\n    }]);\n    return Queue;\n  }();\n\n  var _dec, _class;\n\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n    var desc = {};\n    Object['ke' + 'ys'](descriptor).forEach(function (key) {\n      desc[key] = descriptor[key];\n    });\n    desc.enumerable = !!desc.enumerable;\n    desc.configurable = !!desc.configurable;\n\n    if ('value' in desc || desc.initializer) {\n      desc.writable = true;\n    }\n\n    desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n      return decorator(target, property, desc) || desc;\n    }, desc);\n\n    if (context && desc.initializer !== void 0) {\n      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n      desc.initializer = undefined;\n    }\n\n    if (desc.initializer === void 0) {\n      Object['define' + 'Property'](target, property, desc);\n      desc = null;\n    }\n\n    return desc;\n  }\n\n  var Omega$1 = Adapters.Omega,\n      Rho$1 = Adapters.Rho;\n  var _Constants$SEMAAS = Constants.SEMAAS,\n      REQUIRED_FIELDS = _Constants$SEMAAS.REQUIRED_FIELDS,\n      ALLOWED_FIELDS$2 = _Constants$SEMAAS.ALLOWED_FIELDS,\n      DEFAULT_ADAPTER_IDENTIFIER = _Constants$SEMAAS.DEFAULT_ADAPTER_IDENTIFIER,\n      DEFAULT_ADAPTER_COUNTRY = _Constants$SEMAAS.DEFAULT_ADAPTER_COUNTRY,\n      OMEGA_HOST = Constants.OMEGA.HOST,\n      RHO_HOST = Constants.RHO.HOST,\n      TSEC2JWT_HOST = Constants.TSEC2JWT.HOST;\n  var hasProperties$1 = Utils.hasProperties;\n  var outerDecorator$1 = Decorators.outerDecorator;\n  var SEMaaS = (_dec = outerDecorator$1(5000), (_class = function () {\n\n    // properties that belong to semaas life cycle and rely on configurable properties\n    function SEMaaS(config) {\n      classCallCheck(this, SEMaaS);\n      this.nameSpace = null;\n      this.identifier = DEFAULT_ADAPTER_IDENTIFIER;\n      this.mrId = null;\n      this.consumerId = null;\n      this.policy = null;\n      this.environment = null;\n      this.country = DEFAULT_ADAPTER_COUNTRY;\n      this.apiKey = null;\n      this.omega = null;\n      this.rho = null;\n      this.queue = null;\n\n      this.setup(config);\n    }\n\n    // composition entitys\n\n    // configurable properties by constructor\n\n\n    createClass(SEMaaS, [{\n      key: 'setup',\n      value: function setup(config) {\n        if (!config || !this.validateConfig(config, REQUIRED_FIELDS)) {\n          throw new Error('Invalid setup for SEMaaS adapter (' + this.identifier + '). Required fields: ' + REQUIRED_FIELDS.join(', ') + '.');\n        }\n\n        this.initialize(config);\n      }\n    }, {\n      key: 'validateConfig',\n      value: function validateConfig(config, expectedFields) {\n        return hasProperties$1(config, expectedFields);\n      }\n    }, {\n      key: 'initialize',\n      value: function initialize(config) {\n        var _this = this;\n\n        ALLOWED_FIELDS$2.forEach(function (field) {\n          if (config[field]) {\n            _this[field] = config[field];\n          }\n        });\n\n        var nameSpace = this.nameSpace,\n            identifier = this.identifier,\n            mrId = this.mrId,\n            environment = this.environment,\n            country = this.country;\n\n\n        this.omega = new Omega$1(mrId);\n        this.rho = new Rho$1(mrId);\n        this.queue = new Queue(identifier);\n\n        console.info('SEMaaS adapter for ' + environment + ' [' + country + '] (' + identifier + ' - ns: ' + nameSpace + ', mrId: ' + mrId + ') successfully initialized.');\n      }\n    }, {\n      key: 'log',\n      value: function log(obj) {\n        var data = this.omega.createLog(obj);\n\n        this.enqueue(this.omegaEndpoint, data);\n      }\n    }, {\n      key: 'ingest',\n      value: function ingest(spans) {\n        var data = this.rho.buildSpans(spans);\n\n        this.enqueue(this.rhoEndpoint, data);\n      }\n    }, {\n      key: 'createSpan',\n      value: function createSpan(data) {\n        var span = this.rho.createSpan(data, this.prefixForChildSpan);\n\n        return span;\n      }\n    }, {\n      key: 'createUUID',\n      value: function createUUID() {\n        var UUID = this.rho.createUUID();\n\n        return UUID;\n      }\n    }, {\n      key: 'send',\n      value: function () {\n        var _ref = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(url, body, headers) {\n          var result;\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  result = void 0;\n                  _context.prev = 1;\n                  _context.next = 4;\n                  return Connector.post(url, body, headers);\n\n                case 4:\n                  result = _context.sent;\n                  _context.next = 9;\n                  break;\n\n                case 7:\n                  _context.prev = 7;\n                  _context.t0 = _context['catch'](1);\n\n                case 9:\n\n                  if (!result) {\n                    console.log('There was a problem while sending data to SEMaaS - operation will be queued.');\n\n                    this.enqueue(url, body);\n                  }\n\n                  return _context.abrupt('return', result);\n\n                case 11:\n                case 'end':\n                  return _context.stop();\n              }\n            }\n          }, _callee, this, [[1, 7]]);\n        }));\n\n        function send(_x, _x2, _x3) {\n          return _ref.apply(this, arguments);\n        }\n\n        return send;\n      }()\n    }, {\n      key: 'enqueue',\n      value: function enqueue(url, body) {\n        this.queue.add(url, body);\n        this.flush();\n      }\n\n      // @decorate([tsec2jwt, outerDecorator(5000)])\n\n    }, {\n      key: 'flush',\n      value: function () {\n        var _ref2 = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n          var _this2 = this;\n\n          var validApiKey, bulk, endpoint, apiKey, body, headers;\n          return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.next = 2;\n                  return this.ensureValidApiKey();\n\n                case 2:\n                  validApiKey = _context2.sent;\n\n                  if (validApiKey) {\n                    _context2.next = 6;\n                    break;\n                  }\n\n                  console.log('No valid API Key for SEMaaS adapter (' + this.identifier + ') - aborting operation');\n                  return _context2.abrupt('return');\n\n                case 6:\n                  bulk = this.queue.dump();\n\n                  if (bulk) {\n                    _context2.next = 10;\n                    break;\n                  }\n\n                  console.log('Empty queue for SEMaaS adapter (' + this.identifier + ')');\n                  return _context2.abrupt('return');\n\n                case 10:\n                  endpoint = bulk[0].endpoint;\n                  apiKey = this.apiKey;\n\n\n                  console.log('Sending queued batch ' + endpoint + ' - ' + apiKey);\n\n                  body = bulk.map(function (operation) {\n                    return operation.data;\n                  });\n                  headers = { 'Api-Key': 'jwt ' + apiKey };\n\n                  // if bulk send is OK, and there are more items, we try to flush the buffer\n\n                  this.send(endpoint, body, headers).then(function () {\n                    return _this2.queue.any() && _this2.flush();\n                  });\n\n                case 16:\n                case 'end':\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        function flush() {\n          return _ref2.apply(this, arguments);\n        }\n\n        return flush;\n      }()\n    }, {\n      key: 'ensureValidApiKey',\n      value: function () {\n        var _ref3 = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n          return regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  if (!this.hasApiKey) {\n                    _context3.next = 5;\n                    break;\n                  }\n\n                  console.log('ApiKey OK -> next()');\n                  return _context3.abrupt('return', true);\n\n                case 5:\n                  if (!this.hasCredentials) {\n                    _context3.next = 8;\n                    break;\n                  }\n\n                  console.log('ApiKey KO, Credentials OK -> getApiKey()');\n                  return _context3.abrupt('return', this.getApiKey());\n\n                case 8:\n\n                  console.log('No ApiKey && No Credentials -> KO');\n                  return _context3.abrupt('return', false);\n\n                case 10:\n                case 'end':\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, this);\n        }));\n\n        function ensureValidApiKey() {\n          return _ref3.apply(this, arguments);\n        }\n\n        return ensureValidApiKey;\n      }()\n    }, {\n      key: 'getApiKey',\n      value: function () {\n        var _ref4 = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n          var consumerId, policy, environment, headers, host, result, accessToken;\n          return regeneratorRuntime.wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  consumerId = this.consumerId, policy = this.policy, environment = this.environment;\n                  headers = {\n                    'x-consumer-id': consumerId,\n                    'x-tsec-token': window.sessionStorage.getItem('tsec'),\n                    'x-validation-policy': policy\n                  };\n                  host = TSEC2JWT_HOST(environment);\n                  _context4.next = 5;\n                  return Connector.get(host, headers);\n\n                case 5:\n                  result = _context4.sent;\n\n                  if (result) {\n                    _context4.next = 8;\n                    break;\n                  }\n\n                  return _context4.abrupt('return', null);\n\n                case 8:\n                  accessToken = result.accessToken;\n\n\n                  this.apiKey = accessToken;\n                  return _context4.abrupt('return', accessToken);\n\n                case 11:\n                case 'end':\n                  return _context4.stop();\n              }\n            }\n          }, _callee4, this);\n        }));\n\n        function getApiKey() {\n          return _ref4.apply(this, arguments);\n        }\n\n        return getApiKey;\n      }()\n    }, {\n      key: 'getEnvironmentEndpoint',\n      value: function getEnvironmentEndpoint(host) {\n        var environment = this.environment,\n            country = this.country;\n\n\n        return host(environment, country);\n      }\n    }, {\n      key: 'hasApiKey',\n      get: function get$$1() {\n        // @TODO aadir lgica recuperacin + persistencia sessionStorage jwt\n        return !!this.apiKey;\n      }\n    }, {\n      key: 'hasCredentials',\n      get: function get$$1() {\n        return !!this.consumerId && !!this.policy && !!this.tsec;\n      }\n    }, {\n      key: 'initialized',\n      get: function get$$1() {\n        return !!this.omega && !!this.rho;\n      }\n    }, {\n      key: 'omegaEndpoint',\n      get: function get$$1() {\n        var nameSpace = this.nameSpace;\n\n        var host = this.getEnvironmentEndpoint(OMEGA_HOST);\n\n        return host + '/ns/' + nameSpace + '/logs';\n      }\n    }, {\n      key: 'rhoEndpoint',\n      get: function get$$1() {\n        var nameSpace = this.nameSpace;\n\n        var host = this.getEnvironmentEndpoint(RHO_HOST);\n\n        return host + '/ns/' + this.nameSpace + '/spans';\n      }\n    }, {\n      key: 'prefixForChildSpan',\n      get: function get$$1() {\n        return 'ns/' + this.nameSpace + '/mrs';\n      }\n    }, {\n      key: 'tsec',\n      get: function get$$1() {\n        return window.sessionStorage.getItem('tsec');\n      }\n    }]);\n    return SEMaaS;\n  }(), (_applyDecoratedDescriptor(_class.prototype, 'flush', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'flush'), _class.prototype)), _class));\n\n  return SEMaaS;\n\n})));\n//# sourceMappingURL=cells-semaas-adapter.js.map\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/cells-semaas-adapter/dist/cells-semaas-adapter.js\n// module id = 54\n// module chunks = 0","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/events/events.js\n// module id = 55\n// module chunks = 0","'use strict';\nmodule.exports = function (x) {\n\tvar type = typeof x;\n\treturn x !== null && (type === 'object' || type === 'function');\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/is-obj/index.js\n// module id = 56\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('./Subscriber');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar InnerSubscriber = (function (_super) {\n    __extends(InnerSubscriber, _super);\n    function InnerSubscriber(parent, outerValue, outerIndex) {\n        _super.call(this);\n        this.parent = parent;\n        this.outerValue = outerValue;\n        this.outerIndex = outerIndex;\n        this.index = 0;\n    }\n    InnerSubscriber.prototype._next = function (value) {\n        this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);\n    };\n    InnerSubscriber.prototype._error = function (error) {\n        this.parent.notifyError(error, this);\n        this.unsubscribe();\n    };\n    InnerSubscriber.prototype._complete = function () {\n        this.parent.notifyComplete(this);\n        this.unsubscribe();\n    };\n    return InnerSubscriber;\n}(Subscriber_1.Subscriber));\nexports.InnerSubscriber = InnerSubscriber;\n//# sourceMappingURL=InnerSubscriber.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/InnerSubscriber.js\n// module id = 57\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('./Observable');\n/**\n * Represents a push-based event or value that an {@link Observable} can emit.\n * This class is particularly useful for operators that manage notifications,\n * like {@link materialize}, {@link dematerialize}, {@link observeOn}, and\n * others. Besides wrapping the actual delivered value, it also annotates it\n * with metadata of, for instance, what type of push message it is (`next`,\n * `error`, or `complete`).\n *\n * @see {@link materialize}\n * @see {@link dematerialize}\n * @see {@link observeOn}\n *\n * @class Notification<T>\n */\nvar Notification = (function () {\n    function Notification(kind, value, error) {\n        this.kind = kind;\n        this.value = value;\n        this.error = error;\n        this.hasValue = kind === 'N';\n    }\n    /**\n     * Delivers to the given `observer` the value wrapped by this Notification.\n     * @param {Observer} observer\n     * @return\n     */\n    Notification.prototype.observe = function (observer) {\n        switch (this.kind) {\n            case 'N':\n                return observer.next && observer.next(this.value);\n            case 'E':\n                return observer.error && observer.error(this.error);\n            case 'C':\n                return observer.complete && observer.complete();\n        }\n    };\n    /**\n     * Given some {@link Observer} callbacks, deliver the value represented by the\n     * current Notification to the correctly corresponding callback.\n     * @param {function(value: T): void} next An Observer `next` callback.\n     * @param {function(err: any): void} [error] An Observer `error` callback.\n     * @param {function(): void} [complete] An Observer `complete` callback.\n     * @return {any}\n     */\n    Notification.prototype.do = function (next, error, complete) {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return next && next(this.value);\n            case 'E':\n                return error && error(this.error);\n            case 'C':\n                return complete && complete();\n        }\n    };\n    /**\n     * Takes an Observer or its individual callback functions, and calls `observe`\n     * or `do` methods accordingly.\n     * @param {Observer|function(value: T): void} nextOrObserver An Observer or\n     * the `next` callback.\n     * @param {function(err: any): void} [error] An Observer `error` callback.\n     * @param {function(): void} [complete] An Observer `complete` callback.\n     * @return {any}\n     */\n    Notification.prototype.accept = function (nextOrObserver, error, complete) {\n        if (nextOrObserver && typeof nextOrObserver.next === 'function') {\n            return this.observe(nextOrObserver);\n        }\n        else {\n            return this.do(nextOrObserver, error, complete);\n        }\n    };\n    /**\n     * Returns a simple Observable that just delivers the notification represented\n     * by this Notification instance.\n     * @return {any}\n     */\n    Notification.prototype.toObservable = function () {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return Observable_1.Observable.of(this.value);\n            case 'E':\n                return Observable_1.Observable.throw(this.error);\n            case 'C':\n                return Observable_1.Observable.empty();\n        }\n        throw new Error('unexpected notification kind value');\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `next` from a\n     * given value.\n     * @param {T} value The `next` value.\n     * @return {Notification<T>} The \"next\" Notification representing the\n     * argument.\n     */\n    Notification.createNext = function (value) {\n        if (typeof value !== 'undefined') {\n            return new Notification('N', value);\n        }\n        return Notification.undefinedValueNotification;\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `error` from a\n     * given error.\n     * @param {any} [err] The `error` error.\n     * @return {Notification<T>} The \"error\" Notification representing the\n     * argument.\n     */\n    Notification.createError = function (err) {\n        return new Notification('E', undefined, err);\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `complete`.\n     * @return {Notification<any>} The valueless \"complete\" Notification.\n     */\n    Notification.createComplete = function () {\n        return Notification.completeNotification;\n    };\n    Notification.completeNotification = new Notification('C');\n    Notification.undefinedValueNotification = new Notification('N', undefined);\n    return Notification;\n}());\nexports.Notification = Notification;\n//# sourceMappingURL=Notification.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/Notification.js\n// module id = 58\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('./Subscriber');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar OuterSubscriber = (function (_super) {\n    __extends(OuterSubscriber, _super);\n    function OuterSubscriber() {\n        _super.apply(this, arguments);\n    }\n    OuterSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(innerValue);\n    };\n    OuterSubscriber.prototype.notifyError = function (error, innerSub) {\n        this.destination.error(error);\n    };\n    OuterSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.destination.complete();\n    };\n    return OuterSubscriber;\n}(Subscriber_1.Subscriber));\nexports.OuterSubscriber = OuterSubscriber;\n//# sourceMappingURL=OuterSubscriber.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/OuterSubscriber.js\n// module id = 59\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subject_1 = require('./Subject');\nvar queue_1 = require('./scheduler/queue');\nvar Subscription_1 = require('./Subscription');\nvar observeOn_1 = require('./operators/observeOn');\nvar ObjectUnsubscribedError_1 = require('./util/ObjectUnsubscribedError');\nvar SubjectSubscription_1 = require('./SubjectSubscription');\n/**\n * @class ReplaySubject<T>\n */\nvar ReplaySubject = (function (_super) {\n    __extends(ReplaySubject, _super);\n    function ReplaySubject(bufferSize, windowTime, scheduler) {\n        if (bufferSize === void 0) { bufferSize = Number.POSITIVE_INFINITY; }\n        if (windowTime === void 0) { windowTime = Number.POSITIVE_INFINITY; }\n        _super.call(this);\n        this.scheduler = scheduler;\n        this._events = [];\n        this._bufferSize = bufferSize < 1 ? 1 : bufferSize;\n        this._windowTime = windowTime < 1 ? 1 : windowTime;\n    }\n    ReplaySubject.prototype.next = function (value) {\n        var now = this._getNow();\n        this._events.push(new ReplayEvent(now, value));\n        this._trimBufferThenGetEvents();\n        _super.prototype.next.call(this, value);\n    };\n    ReplaySubject.prototype._subscribe = function (subscriber) {\n        var _events = this._trimBufferThenGetEvents();\n        var scheduler = this.scheduler;\n        var subscription;\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscription = Subscription_1.Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscription = Subscription_1.Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            subscription = new SubjectSubscription_1.SubjectSubscription(this, subscriber);\n        }\n        if (scheduler) {\n            subscriber.add(subscriber = new observeOn_1.ObserveOnSubscriber(subscriber, scheduler));\n        }\n        var len = _events.length;\n        for (var i = 0; i < len && !subscriber.closed; i++) {\n            subscriber.next(_events[i].value);\n        }\n        if (this.hasError) {\n            subscriber.error(this.thrownError);\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n        }\n        return subscription;\n    };\n    ReplaySubject.prototype._getNow = function () {\n        return (this.scheduler || queue_1.queue).now();\n    };\n    ReplaySubject.prototype._trimBufferThenGetEvents = function () {\n        var now = this._getNow();\n        var _bufferSize = this._bufferSize;\n        var _windowTime = this._windowTime;\n        var _events = this._events;\n        var eventsCount = _events.length;\n        var spliceCount = 0;\n        // Trim events that fall out of the time window.\n        // Start at the front of the list. Break early once\n        // we encounter an event that falls within the window.\n        while (spliceCount < eventsCount) {\n            if ((now - _events[spliceCount].time) < _windowTime) {\n                break;\n            }\n            spliceCount++;\n        }\n        if (eventsCount > _bufferSize) {\n            spliceCount = Math.max(spliceCount, eventsCount - _bufferSize);\n        }\n        if (spliceCount > 0) {\n            _events.splice(0, spliceCount);\n        }\n        return _events;\n    };\n    return ReplaySubject;\n}(Subject_1.Subject));\nexports.ReplaySubject = ReplaySubject;\nvar ReplayEvent = (function () {\n    function ReplayEvent(time, value) {\n        this.time = time;\n        this.value = value;\n    }\n    return ReplayEvent;\n}());\n//# sourceMappingURL=ReplaySubject.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/ReplaySubject.js\n// module id = 60\n// module chunks = 0","\"use strict\";\n/**\n * An execution context and a data structure to order tasks and schedule their\n * execution. Provides a notion of (potentially virtual) time, through the\n * `now()` getter method.\n *\n * Each unit of work in a Scheduler is called an {@link Action}.\n *\n * ```ts\n * class Scheduler {\n *   now(): number;\n *   schedule(work, delay?, state?): Subscription;\n * }\n * ```\n *\n * @class Scheduler\n */\nvar Scheduler = (function () {\n    function Scheduler(SchedulerAction, now) {\n        if (now === void 0) { now = Scheduler.now; }\n        this.SchedulerAction = SchedulerAction;\n        this.now = now;\n    }\n    /**\n     * Schedules a function, `work`, for execution. May happen at some point in\n     * the future, according to the `delay` parameter, if specified. May be passed\n     * some context object, `state`, which will be passed to the `work` function.\n     *\n     * The given arguments will be processed an stored as an Action object in a\n     * queue of actions.\n     *\n     * @param {function(state: ?T): ?Subscription} work A function representing a\n     * task, or some unit of work to be executed by the Scheduler.\n     * @param {number} [delay] Time to wait before executing the work, where the\n     * time unit is implicit and defined by the Scheduler itself.\n     * @param {T} [state] Some contextual data that the `work` function uses when\n     * called by the Scheduler.\n     * @return {Subscription} A subscription in order to be able to unsubscribe\n     * the scheduled work.\n     */\n    Scheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) { delay = 0; }\n        return new this.SchedulerAction(this, work).schedule(state, delay);\n    };\n    Scheduler.now = Date.now ? Date.now : function () { return +new Date(); };\n    return Scheduler;\n}());\nexports.Scheduler = Scheduler;\n//# sourceMappingURL=Scheduler.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/Scheduler.js\n// module id = 61\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('./Observable');\nvar Subscriber_1 = require('./Subscriber');\nvar Subscription_1 = require('./Subscription');\nvar ObjectUnsubscribedError_1 = require('./util/ObjectUnsubscribedError');\nvar SubjectSubscription_1 = require('./SubjectSubscription');\nvar rxSubscriber_1 = require('./symbol/rxSubscriber');\n/**\n * @class SubjectSubscriber<T>\n */\nvar SubjectSubscriber = (function (_super) {\n    __extends(SubjectSubscriber, _super);\n    function SubjectSubscriber(destination) {\n        _super.call(this, destination);\n        this.destination = destination;\n    }\n    return SubjectSubscriber;\n}(Subscriber_1.Subscriber));\nexports.SubjectSubscriber = SubjectSubscriber;\n/**\n * @class Subject<T>\n */\nvar Subject = (function (_super) {\n    __extends(Subject, _super);\n    function Subject() {\n        _super.call(this);\n        this.observers = [];\n        this.closed = false;\n        this.isStopped = false;\n        this.hasError = false;\n        this.thrownError = null;\n    }\n    Subject.prototype[rxSubscriber_1.rxSubscriber] = function () {\n        return new SubjectSubscriber(this);\n    };\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype.next = function (value) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        if (!this.isStopped) {\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].next(value);\n            }\n        }\n    };\n    Subject.prototype.error = function (err) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        this.hasError = true;\n        this.thrownError = err;\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].error(err);\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.complete = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].complete();\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = true;\n        this.closed = true;\n        this.observers = null;\n    };\n    Subject.prototype._trySubscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else {\n            return _super.prototype._trySubscribe.call(this, subscriber);\n        }\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription_1.Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n            return Subscription_1.Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            return new SubjectSubscription_1.SubjectSubscription(this, subscriber);\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable_1.Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable_1.Observable));\nexports.Subject = Subject;\n/**\n * @class AnonymousSubject<T>\n */\nvar AnonymousSubject = (function (_super) {\n    __extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        _super.call(this);\n        this.destination = destination;\n        this.source = source;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var destination = this.destination;\n        if (destination && destination.next) {\n            destination.next(value);\n        }\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var destination = this.destination;\n        if (destination && destination.error) {\n            this.destination.error(err);\n        }\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var destination = this.destination;\n        if (destination && destination.complete) {\n            this.destination.complete();\n        }\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        if (source) {\n            return this.source.subscribe(subscriber);\n        }\n        else {\n            return Subscription_1.Subscription.EMPTY;\n        }\n    };\n    return AnonymousSubject;\n}(Subject));\nexports.AnonymousSubject = AnonymousSubject;\n//# sourceMappingURL=Subject.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/Subject.js\n// module id = 62\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar merge_1 = require('../../observable/merge');\nObservable_1.Observable.merge = merge_1.merge;\n//# sourceMappingURL=merge.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/add/observable/merge.js\n// module id = 63\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar distinctUntilChanged_1 = require('../../operator/distinctUntilChanged');\nObservable_1.Observable.prototype.distinctUntilChanged = distinctUntilChanged_1.distinctUntilChanged;\n//# sourceMappingURL=distinctUntilChanged.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/add/operator/distinctUntilChanged.js\n// module id = 64\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar first_1 = require('../../operator/first');\nObservable_1.Observable.prototype.first = first_1.first;\n//# sourceMappingURL=first.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/add/operator/first.js\n// module id = 65\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar map_1 = require('../../operator/map');\nObservable_1.Observable.prototype.map = map_1.map;\n//# sourceMappingURL=map.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/add/operator/map.js\n// module id = 66\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar startWith_1 = require('../../operator/startWith');\nObservable_1.Observable.prototype.startWith = startWith_1.startWith;\n//# sourceMappingURL=startWith.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/add/operator/startWith.js\n// module id = 67\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar ScalarObservable_1 = require('./ScalarObservable');\nvar EmptyObservable_1 = require('./EmptyObservable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar ArrayLikeObservable = (function (_super) {\n    __extends(ArrayLikeObservable, _super);\n    function ArrayLikeObservable(arrayLike, scheduler) {\n        _super.call(this);\n        this.arrayLike = arrayLike;\n        this.scheduler = scheduler;\n        if (!scheduler && arrayLike.length === 1) {\n            this._isScalar = true;\n            this.value = arrayLike[0];\n        }\n    }\n    ArrayLikeObservable.create = function (arrayLike, scheduler) {\n        var length = arrayLike.length;\n        if (length === 0) {\n            return new EmptyObservable_1.EmptyObservable();\n        }\n        else if (length === 1) {\n            return new ScalarObservable_1.ScalarObservable(arrayLike[0], scheduler);\n        }\n        else {\n            return new ArrayLikeObservable(arrayLike, scheduler);\n        }\n    };\n    ArrayLikeObservable.dispatch = function (state) {\n        var arrayLike = state.arrayLike, index = state.index, length = state.length, subscriber = state.subscriber;\n        if (subscriber.closed) {\n            return;\n        }\n        if (index >= length) {\n            subscriber.complete();\n            return;\n        }\n        subscriber.next(arrayLike[index]);\n        state.index = index + 1;\n        this.schedule(state);\n    };\n    ArrayLikeObservable.prototype._subscribe = function (subscriber) {\n        var index = 0;\n        var _a = this, arrayLike = _a.arrayLike, scheduler = _a.scheduler;\n        var length = arrayLike.length;\n        if (scheduler) {\n            return scheduler.schedule(ArrayLikeObservable.dispatch, 0, {\n                arrayLike: arrayLike, index: index, length: length, subscriber: subscriber\n            });\n        }\n        else {\n            for (var i = 0; i < length && !subscriber.closed; i++) {\n                subscriber.next(arrayLike[i]);\n            }\n            subscriber.complete();\n        }\n    };\n    return ArrayLikeObservable;\n}(Observable_1.Observable));\nexports.ArrayLikeObservable = ArrayLikeObservable;\n//# sourceMappingURL=ArrayLikeObservable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/ArrayLikeObservable.js\n// module id = 68\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar tryCatch_1 = require('../util/tryCatch');\nvar isFunction_1 = require('../util/isFunction');\nvar errorObject_1 = require('../util/errorObject');\nvar Subscription_1 = require('../Subscription');\nvar toString = Object.prototype.toString;\nfunction isNodeStyleEventEmitter(sourceObj) {\n    return !!sourceObj && typeof sourceObj.addListener === 'function' && typeof sourceObj.removeListener === 'function';\n}\nfunction isJQueryStyleEventEmitter(sourceObj) {\n    return !!sourceObj && typeof sourceObj.on === 'function' && typeof sourceObj.off === 'function';\n}\nfunction isNodeList(sourceObj) {\n    return !!sourceObj && toString.call(sourceObj) === '[object NodeList]';\n}\nfunction isHTMLCollection(sourceObj) {\n    return !!sourceObj && toString.call(sourceObj) === '[object HTMLCollection]';\n}\nfunction isEventTarget(sourceObj) {\n    return !!sourceObj && typeof sourceObj.addEventListener === 'function' && typeof sourceObj.removeEventListener === 'function';\n}\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar FromEventObservable = (function (_super) {\n    __extends(FromEventObservable, _super);\n    function FromEventObservable(sourceObj, eventName, selector, options) {\n        _super.call(this);\n        this.sourceObj = sourceObj;\n        this.eventName = eventName;\n        this.selector = selector;\n        this.options = options;\n    }\n    /* tslint:enable:max-line-length */\n    /**\n     * Creates an Observable that emits events of a specific type coming from the\n     * given event target.\n     *\n     * <span class=\"informal\">Creates an Observable from DOM events, or Node.js\n     * EventEmitter events or others.</span>\n     *\n     * <img src=\"./img/fromEvent.png\" width=\"100%\">\n     *\n     * `fromEvent` accepts as a first argument event target, which is an object with methods\n     * for registering event handler functions. As a second argument it takes string that indicates\n     * type of event we want to listen for. `fromEvent` supports selected types of event targets,\n     * which are described in detail below. If your event target does not match any of the ones listed,\n     * you should use {@link fromEventPattern}, which can be used on arbitrary APIs.\n     * When it comes to APIs supported by `fromEvent`, their methods for adding and removing event\n     * handler functions have different names, but they all accept a string describing event type\n     * and function itself, which will be called whenever said event happens.\n     *\n     * Every time resulting Observable is subscribed, event handler function will be registered\n     * to event target on given event type. When that event fires, value\n     * passed as a first argument to registered function will be emitted by output Observable.\n     * When Observable is unsubscribed, function will be unregistered from event target.\n     *\n     * Note that if event target calls registered function with more than one argument, second\n     * and following arguments will not appear in resulting stream. In order to get access to them,\n     * you can pass to `fromEvent` optional project function, which will be called with all arguments\n     * passed to event handler. Output Observable will then emit value returned by project function,\n     * instead of the usual value.\n     *\n     * Remember that event targets listed below are checked via duck typing. It means that\n     * no matter what kind of object you have and no matter what environment you work in,\n     * you can safely use `fromEvent` on that object if it exposes described methods (provided\n     * of course they behave as was described above). So for example if Node.js library exposes\n     * event target which has the same method names as DOM EventTarget, `fromEvent` is still\n     * a good choice.\n     *\n     * If the API you use is more callback then event handler oriented (subscribed\n     * callback function fires only once and thus there is no need to manually\n     * unregister it), you should use {@link bindCallback} or {@link bindNodeCallback}\n     * instead.\n     *\n     * `fromEvent` supports following types of event targets:\n     *\n     * **DOM EventTarget**\n     *\n     * This is an object with `addEventListener` and `removeEventListener` methods.\n     *\n     * In the browser, `addEventListener` accepts - apart from event type string and event\n     * handler function arguments - optional third parameter, which is either an object or boolean,\n     * both used for additional configuration how and when passed function will be called. When\n     * `fromEvent` is used with event target of that type, you can provide this values\n     * as third parameter as well.\n     *\n     * **Node.js EventEmitter**\n     *\n     * An object with `addListener` and `removeListener` methods.\n     *\n     * **JQuery-style event target**\n     *\n     * An object with `on` and `off` methods\n     *\n     * **DOM NodeList**\n     *\n     * List of DOM Nodes, returned for example by `document.querySelectorAll` or `Node.childNodes`.\n     *\n     * Although this collection is not event target in itself, `fromEvent` will iterate over all Nodes\n     * it contains and install event handler function in every of them. When returned Observable\n     * is unsubscribed, function will be removed from all Nodes.\n     *\n     * **DOM HtmlCollection**\n     *\n     * Just as in case of NodeList it is a collection of DOM nodes. Here as well event handler function is\n     * installed and removed in each of elements.\n     *\n     *\n     * @example <caption>Emits clicks happening on the DOM document</caption>\n     * var clicks = Rx.Observable.fromEvent(document, 'click');\n     * clicks.subscribe(x => console.log(x));\n     *\n     * // Results in:\n     * // MouseEvent object logged to console every time a click\n     * // occurs on the document.\n     *\n     *\n     * @example <caption>Use addEventListener with capture option</caption>\n     * var clicksInDocument = Rx.Observable.fromEvent(document, 'click', true); // note optional configuration parameter\n     *                                                                          // which will be passed to addEventListener\n     * var clicksInDiv = Rx.Observable.fromEvent(someDivInDocument, 'click');\n     *\n     * clicksInDocument.subscribe(() => console.log('document'));\n     * clicksInDiv.subscribe(() => console.log('div'));\n     *\n     * // By default events bubble UP in DOM tree, so normally\n     * // when we would click on div in document\n     * // \"div\" would be logged first and then \"document\".\n     * // Since we specified optional `capture` option, document\n     * // will catch event when it goes DOWN DOM tree, so console\n     * // will log \"document\" and then \"div\".\n     *\n     * @see {@link bindCallback}\n     * @see {@link bindNodeCallback}\n     * @see {@link fromEventPattern}\n     *\n     * @param {EventTargetLike} target The DOM EventTarget, Node.js\n     * EventEmitter, JQuery-like event target, NodeList or HTMLCollection to attach the event handler to.\n     * @param {string} eventName The event name of interest, being emitted by the\n     * `target`.\n     * @param {EventListenerOptions} [options] Options to pass through to addEventListener\n     * @param {SelectorMethodSignature<T>} [selector] An optional function to\n     * post-process results. It takes the arguments from the event handler and\n     * should return a single value.\n     * @return {Observable<T>}\n     * @static true\n     * @name fromEvent\n     * @owner Observable\n     */\n    FromEventObservable.create = function (target, eventName, options, selector) {\n        if (isFunction_1.isFunction(options)) {\n            selector = options;\n            options = undefined;\n        }\n        return new FromEventObservable(target, eventName, selector, options);\n    };\n    FromEventObservable.setupSubscription = function (sourceObj, eventName, handler, subscriber, options) {\n        var unsubscribe;\n        if (isNodeList(sourceObj) || isHTMLCollection(sourceObj)) {\n            for (var i = 0, len = sourceObj.length; i < len; i++) {\n                FromEventObservable.setupSubscription(sourceObj[i], eventName, handler, subscriber, options);\n            }\n        }\n        else if (isEventTarget(sourceObj)) {\n            var source_1 = sourceObj;\n            sourceObj.addEventListener(eventName, handler, options);\n            unsubscribe = function () { return source_1.removeEventListener(eventName, handler); };\n        }\n        else if (isJQueryStyleEventEmitter(sourceObj)) {\n            var source_2 = sourceObj;\n            sourceObj.on(eventName, handler);\n            unsubscribe = function () { return source_2.off(eventName, handler); };\n        }\n        else if (isNodeStyleEventEmitter(sourceObj)) {\n            var source_3 = sourceObj;\n            sourceObj.addListener(eventName, handler);\n            unsubscribe = function () { return source_3.removeListener(eventName, handler); };\n        }\n        else {\n            throw new TypeError('Invalid event target');\n        }\n        subscriber.add(new Subscription_1.Subscription(unsubscribe));\n    };\n    FromEventObservable.prototype._subscribe = function (subscriber) {\n        var sourceObj = this.sourceObj;\n        var eventName = this.eventName;\n        var options = this.options;\n        var selector = this.selector;\n        var handler = selector ? function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i - 0] = arguments[_i];\n            }\n            var result = tryCatch_1.tryCatch(selector).apply(void 0, args);\n            if (result === errorObject_1.errorObject) {\n                subscriber.error(errorObject_1.errorObject.e);\n            }\n            else {\n                subscriber.next(result);\n            }\n        } : function (e) { return subscriber.next(e); };\n        FromEventObservable.setupSubscription(sourceObj, eventName, handler, subscriber, options);\n    };\n    return FromEventObservable;\n}(Observable_1.Observable));\nexports.FromEventObservable = FromEventObservable;\n//# sourceMappingURL=FromEventObservable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/FromEventObservable.js\n// module id = 69\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar isArray_1 = require('../util/isArray');\nvar isArrayLike_1 = require('../util/isArrayLike');\nvar isPromise_1 = require('../util/isPromise');\nvar PromiseObservable_1 = require('./PromiseObservable');\nvar IteratorObservable_1 = require('./IteratorObservable');\nvar ArrayObservable_1 = require('./ArrayObservable');\nvar ArrayLikeObservable_1 = require('./ArrayLikeObservable');\nvar iterator_1 = require('../symbol/iterator');\nvar Observable_1 = require('../Observable');\nvar observeOn_1 = require('../operators/observeOn');\nvar observable_1 = require('../symbol/observable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar FromObservable = (function (_super) {\n    __extends(FromObservable, _super);\n    function FromObservable(ish, scheduler) {\n        _super.call(this, null);\n        this.ish = ish;\n        this.scheduler = scheduler;\n    }\n    /**\n     * Creates an Observable from an Array, an array-like object, a Promise, an\n     * iterable object, or an Observable-like object.\n     *\n     * <span class=\"informal\">Converts almost anything to an Observable.</span>\n     *\n     * <img src=\"./img/from.png\" width=\"100%\">\n     *\n     * Convert various other objects and data types into Observables. `from`\n     * converts a Promise or an array-like or an\n     * [iterable](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#iterable)\n     * object into an Observable that emits the items in that promise or array or\n     * iterable. A String, in this context, is treated as an array of characters.\n     * Observable-like objects (contains a function named with the ES2015 Symbol\n     * for Observable) can also be converted through this operator.\n     *\n     * @example <caption>Converts an array to an Observable</caption>\n     * var array = [10, 20, 30];\n     * var result = Rx.Observable.from(array);\n     * result.subscribe(x => console.log(x));\n     *\n     * // Results in the following:\n     * // 10 20 30\n     *\n     * @example <caption>Convert an infinite iterable (from a generator) to an Observable</caption>\n     * function* generateDoubles(seed) {\n     *   var i = seed;\n     *   while (true) {\n     *     yield i;\n     *     i = 2 * i; // double it\n     *   }\n     * }\n     *\n     * var iterator = generateDoubles(3);\n     * var result = Rx.Observable.from(iterator).take(10);\n     * result.subscribe(x => console.log(x));\n     *\n     * // Results in the following:\n     * // 3 6 12 24 48 96 192 384 768 1536\n     *\n     * @see {@link create}\n     * @see {@link fromEvent}\n     * @see {@link fromEventPattern}\n     * @see {@link fromPromise}\n     *\n     * @param {ObservableInput<T>} ish A subscribable object, a Promise, an\n     * Observable-like, an Array, an iterable or an array-like object to be\n     * converted.\n     * @param {Scheduler} [scheduler] The scheduler on which to schedule the\n     * emissions of values.\n     * @return {Observable<T>} The Observable whose values are originally from the\n     * input object that was converted.\n     * @static true\n     * @name from\n     * @owner Observable\n     */\n    FromObservable.create = function (ish, scheduler) {\n        if (ish != null) {\n            if (typeof ish[observable_1.observable] === 'function') {\n                if (ish instanceof Observable_1.Observable && !scheduler) {\n                    return ish;\n                }\n                return new FromObservable(ish, scheduler);\n            }\n            else if (isArray_1.isArray(ish)) {\n                return new ArrayObservable_1.ArrayObservable(ish, scheduler);\n            }\n            else if (isPromise_1.isPromise(ish)) {\n                return new PromiseObservable_1.PromiseObservable(ish, scheduler);\n            }\n            else if (typeof ish[iterator_1.iterator] === 'function' || typeof ish === 'string') {\n                return new IteratorObservable_1.IteratorObservable(ish, scheduler);\n            }\n            else if (isArrayLike_1.isArrayLike(ish)) {\n                return new ArrayLikeObservable_1.ArrayLikeObservable(ish, scheduler);\n            }\n        }\n        throw new TypeError((ish !== null && typeof ish || ish) + ' is not observable');\n    };\n    FromObservable.prototype._subscribe = function (subscriber) {\n        var ish = this.ish;\n        var scheduler = this.scheduler;\n        if (scheduler == null) {\n            return ish[observable_1.observable]().subscribe(subscriber);\n        }\n        else {\n            return ish[observable_1.observable]().subscribe(new observeOn_1.ObserveOnSubscriber(subscriber, scheduler, 0));\n        }\n    };\n    return FromObservable;\n}(Observable_1.Observable));\nexports.FromObservable = FromObservable;\n//# sourceMappingURL=FromObservable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/FromObservable.js\n// module id = 70\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar root_1 = require('../util/root');\nvar Observable_1 = require('../Observable');\nvar iterator_1 = require('../symbol/iterator');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar IteratorObservable = (function (_super) {\n    __extends(IteratorObservable, _super);\n    function IteratorObservable(iterator, scheduler) {\n        _super.call(this);\n        this.scheduler = scheduler;\n        if (iterator == null) {\n            throw new Error('iterator cannot be null.');\n        }\n        this.iterator = getIterator(iterator);\n    }\n    IteratorObservable.create = function (iterator, scheduler) {\n        return new IteratorObservable(iterator, scheduler);\n    };\n    IteratorObservable.dispatch = function (state) {\n        var index = state.index, hasError = state.hasError, iterator = state.iterator, subscriber = state.subscriber;\n        if (hasError) {\n            subscriber.error(state.error);\n            return;\n        }\n        var result = iterator.next();\n        if (result.done) {\n            subscriber.complete();\n            return;\n        }\n        subscriber.next(result.value);\n        state.index = index + 1;\n        if (subscriber.closed) {\n            if (typeof iterator.return === 'function') {\n                iterator.return();\n            }\n            return;\n        }\n        this.schedule(state);\n    };\n    IteratorObservable.prototype._subscribe = function (subscriber) {\n        var index = 0;\n        var _a = this, iterator = _a.iterator, scheduler = _a.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(IteratorObservable.dispatch, 0, {\n                index: index, iterator: iterator, subscriber: subscriber\n            });\n        }\n        else {\n            do {\n                var result = iterator.next();\n                if (result.done) {\n                    subscriber.complete();\n                    break;\n                }\n                else {\n                    subscriber.next(result.value);\n                }\n                if (subscriber.closed) {\n                    if (typeof iterator.return === 'function') {\n                        iterator.return();\n                    }\n                    break;\n                }\n            } while (true);\n        }\n    };\n    return IteratorObservable;\n}(Observable_1.Observable));\nexports.IteratorObservable = IteratorObservable;\nvar StringIterator = (function () {\n    function StringIterator(str, idx, len) {\n        if (idx === void 0) { idx = 0; }\n        if (len === void 0) { len = str.length; }\n        this.str = str;\n        this.idx = idx;\n        this.len = len;\n    }\n    StringIterator.prototype[iterator_1.iterator] = function () { return (this); };\n    StringIterator.prototype.next = function () {\n        return this.idx < this.len ? {\n            done: false,\n            value: this.str.charAt(this.idx++)\n        } : {\n            done: true,\n            value: undefined\n        };\n    };\n    return StringIterator;\n}());\nvar ArrayIterator = (function () {\n    function ArrayIterator(arr, idx, len) {\n        if (idx === void 0) { idx = 0; }\n        if (len === void 0) { len = toLength(arr); }\n        this.arr = arr;\n        this.idx = idx;\n        this.len = len;\n    }\n    ArrayIterator.prototype[iterator_1.iterator] = function () { return this; };\n    ArrayIterator.prototype.next = function () {\n        return this.idx < this.len ? {\n            done: false,\n            value: this.arr[this.idx++]\n        } : {\n            done: true,\n            value: undefined\n        };\n    };\n    return ArrayIterator;\n}());\nfunction getIterator(obj) {\n    var i = obj[iterator_1.iterator];\n    if (!i && typeof obj === 'string') {\n        return new StringIterator(obj);\n    }\n    if (!i && obj.length !== undefined) {\n        return new ArrayIterator(obj);\n    }\n    if (!i) {\n        throw new TypeError('object is not iterable');\n    }\n    return obj[iterator_1.iterator]();\n}\nvar maxSafeInteger = Math.pow(2, 53) - 1;\nfunction toLength(o) {\n    var len = +o.length;\n    if (isNaN(len)) {\n        return 0;\n    }\n    if (len === 0 || !numberIsFinite(len)) {\n        return len;\n    }\n    len = sign(len) * Math.floor(Math.abs(len));\n    if (len <= 0) {\n        return 0;\n    }\n    if (len > maxSafeInteger) {\n        return maxSafeInteger;\n    }\n    return len;\n}\nfunction numberIsFinite(value) {\n    return typeof value === 'number' && root_1.root.isFinite(value);\n}\nfunction sign(value) {\n    var valueAsNumber = +value;\n    if (valueAsNumber === 0) {\n        return valueAsNumber;\n    }\n    if (isNaN(valueAsNumber)) {\n        return valueAsNumber;\n    }\n    return valueAsNumber < 0 ? -1 : 1;\n}\n//# sourceMappingURL=IteratorObservable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/IteratorObservable.js\n// module id = 71\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar root_1 = require('../util/root');\nvar Observable_1 = require('../Observable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar PromiseObservable = (function (_super) {\n    __extends(PromiseObservable, _super);\n    function PromiseObservable(promise, scheduler) {\n        _super.call(this);\n        this.promise = promise;\n        this.scheduler = scheduler;\n    }\n    /**\n     * Converts a Promise to an Observable.\n     *\n     * <span class=\"informal\">Returns an Observable that just emits the Promise's\n     * resolved value, then completes.</span>\n     *\n     * Converts an ES2015 Promise or a Promises/A+ spec compliant Promise to an\n     * Observable. If the Promise resolves with a value, the output Observable\n     * emits that resolved value as a `next`, and then completes. If the Promise\n     * is rejected, then the output Observable emits the corresponding Error.\n     *\n     * @example <caption>Convert the Promise returned by Fetch to an Observable</caption>\n     * var result = Rx.Observable.fromPromise(fetch('http://myserver.com/'));\n     * result.subscribe(x => console.log(x), e => console.error(e));\n     *\n     * @see {@link bindCallback}\n     * @see {@link from}\n     *\n     * @param {PromiseLike<T>} promise The promise to be converted.\n     * @param {Scheduler} [scheduler] An optional IScheduler to use for scheduling\n     * the delivery of the resolved value (or the rejection).\n     * @return {Observable<T>} An Observable which wraps the Promise.\n     * @static true\n     * @name fromPromise\n     * @owner Observable\n     */\n    PromiseObservable.create = function (promise, scheduler) {\n        return new PromiseObservable(promise, scheduler);\n    };\n    PromiseObservable.prototype._subscribe = function (subscriber) {\n        var _this = this;\n        var promise = this.promise;\n        var scheduler = this.scheduler;\n        if (scheduler == null) {\n            if (this._isScalar) {\n                if (!subscriber.closed) {\n                    subscriber.next(this.value);\n                    subscriber.complete();\n                }\n            }\n            else {\n                promise.then(function (value) {\n                    _this.value = value;\n                    _this._isScalar = true;\n                    if (!subscriber.closed) {\n                        subscriber.next(value);\n                        subscriber.complete();\n                    }\n                }, function (err) {\n                    if (!subscriber.closed) {\n                        subscriber.error(err);\n                    }\n                })\n                    .then(null, function (err) {\n                    // escape the promise trap, throw unhandled errors\n                    root_1.root.setTimeout(function () { throw err; });\n                });\n            }\n        }\n        else {\n            if (this._isScalar) {\n                if (!subscriber.closed) {\n                    return scheduler.schedule(dispatchNext, 0, { value: this.value, subscriber: subscriber });\n                }\n            }\n            else {\n                promise.then(function (value) {\n                    _this.value = value;\n                    _this._isScalar = true;\n                    if (!subscriber.closed) {\n                        subscriber.add(scheduler.schedule(dispatchNext, 0, { value: value, subscriber: subscriber }));\n                    }\n                }, function (err) {\n                    if (!subscriber.closed) {\n                        subscriber.add(scheduler.schedule(dispatchError, 0, { err: err, subscriber: subscriber }));\n                    }\n                })\n                    .then(null, function (err) {\n                    // escape the promise trap, throw unhandled errors\n                    root_1.root.setTimeout(function () { throw err; });\n                });\n            }\n        }\n    };\n    return PromiseObservable;\n}(Observable_1.Observable));\nexports.PromiseObservable = PromiseObservable;\nfunction dispatchNext(arg) {\n    var value = arg.value, subscriber = arg.subscriber;\n    if (!subscriber.closed) {\n        subscriber.next(value);\n        subscriber.complete();\n    }\n}\nfunction dispatchError(arg) {\n    var err = arg.err, subscriber = arg.subscriber;\n    if (!subscriber.closed) {\n        subscriber.error(err);\n    }\n}\n//# sourceMappingURL=PromiseObservable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/PromiseObservable.js\n// module id = 72\n// module chunks = 0","\"use strict\";\nvar isScheduler_1 = require('../util/isScheduler');\nvar of_1 = require('./of');\nvar from_1 = require('./from');\nvar concatAll_1 = require('../operators/concatAll');\n/* tslint:enable:max-line-length */\n/**\n * Creates an output Observable which sequentially emits all values from given\n * Observable and then moves on to the next.\n *\n * <span class=\"informal\">Concatenates multiple Observables together by\n * sequentially emitting their values, one Observable after the other.</span>\n *\n * <img src=\"./img/concat.png\" width=\"100%\">\n *\n * `concat` joins multiple Observables together, by subscribing to them one at a time and\n * merging their results into the output Observable. You can pass either an array of\n * Observables, or put them directly as arguments. Passing an empty array will result\n * in Observable that completes immediately.\n *\n * `concat` will subscribe to first input Observable and emit all its values, without\n * changing or affecting them in any way. When that Observable completes, it will\n * subscribe to then next Observable passed and, again, emit its values. This will be\n * repeated, until the operator runs out of Observables. When last input Observable completes,\n * `concat` will complete as well. At any given moment only one Observable passed to operator\n * emits values. If you would like to emit values from passed Observables concurrently, check out\n * {@link merge} instead, especially with optional `concurrent` parameter. As a matter of fact,\n * `concat` is an equivalent of `merge` operator with `concurrent` parameter set to `1`.\n *\n * Note that if some input Observable never completes, `concat` will also never complete\n * and Observables following the one that did not complete will never be subscribed. On the other\n * hand, if some Observable simply completes immediately after it is subscribed, it will be\n * invisible for `concat`, which will just move on to the next Observable.\n *\n * If any Observable in chain errors, instead of passing control to the next Observable,\n * `concat` will error immediately as well. Observables that would be subscribed after\n * the one that emitted error, never will.\n *\n * If you pass to `concat` the same Observable many times, its stream of values\n * will be \"replayed\" on every subscription, which means you can repeat given Observable\n * as many times as you like. If passing the same Observable to `concat` 1000 times becomes tedious,\n * you can always use {@link repeat}.\n *\n * @example <caption>Concatenate a timer counting from 0 to 3 with a synchronous sequence from 1 to 10</caption>\n * var timer = Rx.Observable.interval(1000).take(4);\n * var sequence = Rx.Observable.range(1, 10);\n * var result = Rx.Observable.concat(timer, sequence);\n * result.subscribe(x => console.log(x));\n *\n * // results in:\n * // 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3 -immediate-> 1 ... 10\n *\n *\n * @example <caption>Concatenate an array of 3 Observables</caption>\n * var timer1 = Rx.Observable.interval(1000).take(10);\n * var timer2 = Rx.Observable.interval(2000).take(6);\n * var timer3 = Rx.Observable.interval(500).take(10);\n * var result = Rx.Observable.concat([timer1, timer2, timer3]); // note that array is passed\n * result.subscribe(x => console.log(x));\n *\n * // results in the following:\n * // (Prints to console sequentially)\n * // -1000ms-> 0 -1000ms-> 1 -1000ms-> ... 9\n * // -2000ms-> 0 -2000ms-> 1 -2000ms-> ... 5\n * // -500ms-> 0 -500ms-> 1 -500ms-> ... 9\n *\n *\n * @example <caption>Concatenate the same Observable to repeat it</caption>\n * const timer = Rx.Observable.interval(1000).take(2);\n *\n * Rx.Observable.concat(timer, timer) // concating the same Observable!\n * .subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('...and it is done!')\n * );\n *\n * // Logs:\n * // 0 after 1s\n * // 1 after 2s\n * // 0 after 3s\n * // 1 after 4s\n * // \"...and it is done!\" also after 4s\n *\n * @see {@link concatAll}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n *\n * @param {ObservableInput} input1 An input Observable to concatenate with others.\n * @param {ObservableInput} input2 An input Observable to concatenate with others.\n * More than one input Observables may be given as argument.\n * @param {Scheduler} [scheduler=null] An optional IScheduler to schedule each\n * Observable subscription on.\n * @return {Observable} All values of each passed Observable merged into a\n * single Observable, in order, in serial fashion.\n * @static true\n * @name concat\n * @owner Observable\n */\nfunction concat() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i - 0] = arguments[_i];\n    }\n    if (observables.length === 1 || (observables.length === 2 && isScheduler_1.isScheduler(observables[1]))) {\n        return from_1.from(observables[0]);\n    }\n    return concatAll_1.concatAll()(of_1.of.apply(void 0, observables));\n}\nexports.concat = concat;\n//# sourceMappingURL=concat.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/concat.js\n// module id = 73\n// module chunks = 0","\"use strict\";\nvar FromObservable_1 = require('./FromObservable');\nexports.from = FromObservable_1.FromObservable.create;\n//# sourceMappingURL=from.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/from.js\n// module id = 74\n// module chunks = 0","\"use strict\";\nvar FromEventObservable_1 = require('./FromEventObservable');\nexports.fromEvent = FromEventObservable_1.FromEventObservable.create;\n//# sourceMappingURL=fromEvent.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/fromEvent.js\n// module id = 75\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('../Observable');\nvar ArrayObservable_1 = require('./ArrayObservable');\nvar isScheduler_1 = require('../util/isScheduler');\nvar mergeAll_1 = require('../operators/mergeAll');\n/* tslint:enable:max-line-length */\n/**\n * Creates an output Observable which concurrently emits all values from every\n * given input Observable.\n *\n * <span class=\"informal\">Flattens multiple Observables together by blending\n * their values into one Observable.</span>\n *\n * <img src=\"./img/merge.png\" width=\"100%\">\n *\n * `merge` subscribes to each given input Observable (as arguments), and simply\n * forwards (without doing any transformation) all the values from all the input\n * Observables to the output Observable. The output Observable only completes\n * once all input Observables have completed. Any error delivered by an input\n * Observable will be immediately emitted on the output Observable.\n *\n * @example <caption>Merge together two Observables: 1s interval and clicks</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var timer = Rx.Observable.interval(1000);\n * var clicksOrTimer = Rx.Observable.merge(clicks, timer);\n * clicksOrTimer.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // timer will emit ascending values, one every second(1000ms) to console\n * // clicks logs MouseEvents to console everytime the \"document\" is clicked\n * // Since the two streams are merged you see these happening\n * // as they occur.\n *\n * @example <caption>Merge together 3 Observables, but only 2 run concurrently</caption>\n * var timer1 = Rx.Observable.interval(1000).take(10);\n * var timer2 = Rx.Observable.interval(2000).take(6);\n * var timer3 = Rx.Observable.interval(500).take(10);\n * var concurrent = 2; // the argument\n * var merged = Rx.Observable.merge(timer1, timer2, timer3, concurrent);\n * merged.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // - First timer1 and timer2 will run concurrently\n * // - timer1 will emit a value every 1000ms for 10 iterations\n * // - timer2 will emit a value every 2000ms for 6 iterations\n * // - after timer1 hits it's max iteration, timer2 will\n * //   continue, and timer3 will start to run concurrently with timer2\n * // - when timer2 hits it's max iteration it terminates, and\n * //   timer3 will continue to emit a value every 500ms until it is complete\n *\n * @see {@link mergeAll}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n *\n * @param {...ObservableInput} observables Input Observables to merge together.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @param {Scheduler} [scheduler=null] The IScheduler to use for managing\n * concurrency of input Observables.\n * @return {Observable} an Observable that emits items that are the result of\n * every input Observable.\n * @static true\n * @name merge\n * @owner Observable\n */\nfunction merge() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i - 0] = arguments[_i];\n    }\n    var concurrent = Number.POSITIVE_INFINITY;\n    var scheduler = null;\n    var last = observables[observables.length - 1];\n    if (isScheduler_1.isScheduler(last)) {\n        scheduler = observables.pop();\n        if (observables.length > 1 && typeof observables[observables.length - 1] === 'number') {\n            concurrent = observables.pop();\n        }\n    }\n    else if (typeof last === 'number') {\n        concurrent = observables.pop();\n    }\n    if (scheduler === null && observables.length === 1 && observables[0] instanceof Observable_1.Observable) {\n        return observables[0];\n    }\n    return mergeAll_1.mergeAll(concurrent)(new ArrayObservable_1.ArrayObservable(observables, scheduler));\n}\nexports.merge = merge;\n//# sourceMappingURL=merge.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/merge.js\n// module id = 76\n// module chunks = 0","\"use strict\";\nvar ArrayObservable_1 = require('./ArrayObservable');\nexports.of = ArrayObservable_1.ArrayObservable.of;\n//# sourceMappingURL=of.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/of.js\n// module id = 77\n// module chunks = 0","\"use strict\";\nvar distinctUntilChanged_1 = require('../operators/distinctUntilChanged');\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from the previous item.\n *\n * If a comparator function is provided, then it will be called for each item to test for whether or not that value should be emitted.\n *\n * If a comparator function is not provided, an equality check is used by default.\n *\n * @example <caption>A simple example with numbers</caption>\n * Observable.of(1, 1, 2, 2, 2, 1, 1, 2, 3, 3, 4)\n *   .distinctUntilChanged()\n *   .subscribe(x => console.log(x)); // 1, 2, 1, 2, 3, 4\n *\n * @example <caption>An example using a compare function</caption>\n * interface Person {\n *    age: number,\n *    name: string\n * }\n *\n * Observable.of<Person>(\n *     { age: 4, name: 'Foo'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo'})\n *     { age: 6, name: 'Foo'})\n *     .distinctUntilChanged((p: Person, q: Person) => p.name === q.name)\n *     .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo' }\n * // { age: 7, name: 'Bar' }\n * // { age: 5, name: 'Foo' }\n *\n * @see {@link distinct}\n * @see {@link distinctUntilKeyChanged}\n *\n * @param {function} [compare] Optional comparison function called to test if an item is distinct from the previous item in the source.\n * @return {Observable} An Observable that emits items from the source Observable with distinct values.\n * @method distinctUntilChanged\n * @owner Observable\n */\nfunction distinctUntilChanged(compare, keySelector) {\n    return distinctUntilChanged_1.distinctUntilChanged(compare, keySelector)(this);\n}\nexports.distinctUntilChanged = distinctUntilChanged;\n//# sourceMappingURL=distinctUntilChanged.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operator/distinctUntilChanged.js\n// module id = 78\n// module chunks = 0","\"use strict\";\nvar first_1 = require('../operators/first');\n/**\n * Emits only the first value (or the first value that meets some condition)\n * emitted by the source Observable.\n *\n * <span class=\"informal\">Emits only the first value. Or emits only the first\n * value that passes some test.</span>\n *\n * <img src=\"./img/first.png\" width=\"100%\">\n *\n * If called with no arguments, `first` emits the first value of the source\n * Observable, then completes. If called with a `predicate` function, `first`\n * emits the first value of the source that matches the specified condition. It\n * may also take a `resultSelector` function to produce the output value from\n * the input value, and a `defaultValue` to emit in case the source completes\n * before it is able to emit a valid value. Throws an error if `defaultValue`\n * was not provided and a matching element is not found.\n *\n * @example <caption>Emit only the first click that happens on the DOM</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.first();\n * result.subscribe(x => console.log(x));\n *\n * @example <caption>Emits the first click that happens on a DIV</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.first(ev => ev.target.tagName === 'DIV');\n * result.subscribe(x => console.log(x));\n *\n * @see {@link filter}\n * @see {@link find}\n * @see {@link take}\n *\n * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`\n * callback if the Observable completes before any `next` notification was sent.\n *\n * @param {function(value: T, index: number, source: Observable<T>): boolean} [predicate]\n * An optional function called with each item to test for condition matching.\n * @param {function(value: T, index: number): R} [resultSelector] A function to\n * produce the value on the output Observable based on the values\n * and the indices of the source Observable. The arguments passed to this\n * function are:\n * - `value`: the value that was emitted on the source.\n * - `index`: the \"index\" of the value from the source.\n * @param {R} [defaultValue] The default value emitted in case no valid value\n * was found on the source.\n * @return {Observable<T|R>} An Observable of the first item that matches the\n * condition.\n * @method first\n * @owner Observable\n */\nfunction first(predicate, resultSelector, defaultValue) {\n    return first_1.first(predicate, resultSelector, defaultValue)(this);\n}\nexports.first = first;\n//# sourceMappingURL=first.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operator/first.js\n// module id = 79\n// module chunks = 0","\"use strict\";\nvar map_1 = require('../operators/map');\n/**\n * Applies a given `project` function to each value emitted by the source\n * Observable, and emits the resulting values as an Observable.\n *\n * <span class=\"informal\">Like [Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map),\n * it passes each source value through a transformation function to get\n * corresponding output values.</span>\n *\n * <img src=\"./img/map.png\" width=\"100%\">\n *\n * Similar to the well known `Array.prototype.map` function, this operator\n * applies a projection to each value and emits that projection in the output\n * Observable.\n *\n * @example <caption>Map every click to the clientX position of that click</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var positions = clicks.map(ev => ev.clientX);\n * positions.subscribe(x => console.log(x));\n *\n * @see {@link mapTo}\n * @see {@link pluck}\n *\n * @param {function(value: T, index: number): R} project The function to apply\n * to each `value` emitted by the source Observable. The `index` parameter is\n * the number `i` for the i-th emission that has happened since the\n * subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to define what `this` is in the\n * `project` function.\n * @return {Observable<R>} An Observable that emits the values from the source\n * Observable transformed by the given `project` function.\n * @method map\n * @owner Observable\n */\nfunction map(project, thisArg) {\n    return map_1.map(project, thisArg)(this);\n}\nexports.map = map;\n//# sourceMappingURL=map.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operator/map.js\n// module id = 80\n// module chunks = 0","\"use strict\";\nvar startWith_1 = require('../operators/startWith');\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits the items you specify as arguments before it begins to emit\n * items emitted by the source Observable.\n *\n * <img src=\"./img/startWith.png\" width=\"100%\">\n *\n * @param {...T} values - Items you want the modified Observable to emit first.\n * @param {Scheduler} [scheduler] - A {@link IScheduler} to use for scheduling\n * the emissions of the `next` notifications.\n * @return {Observable} An Observable that emits the items in the specified Iterable and then emits the items\n * emitted by the source Observable.\n * @method startWith\n * @owner Observable\n */\nfunction startWith() {\n    var array = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        array[_i - 0] = arguments[_i];\n    }\n    return startWith_1.startWith.apply(void 0, array)(this);\n}\nexports.startWith = startWith;\n//# sourceMappingURL=startWith.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operator/startWith.js\n// module id = 81\n// module chunks = 0","\"use strict\";\nvar mergeAll_1 = require('./mergeAll');\n/**\n * Converts a higher-order Observable into a first-order Observable by\n * concatenating the inner Observables in order.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables by putting one\n * inner Observable after the other.</span>\n *\n * <img src=\"./img/concatAll.png\" width=\"100%\">\n *\n * Joins every Observable emitted by the source (a higher-order Observable), in\n * a serial fashion. It subscribes to each inner Observable only after the\n * previous inner Observable has completed, and merges all of their values into\n * the returned observable.\n *\n * __Warning:__ If the source Observable emits Observables quickly and\n * endlessly, and the inner Observables it emits generally complete slower than\n * the source emits, you can run into memory issues as the incoming Observables\n * collect in an unbounded buffer.\n *\n * Note: `concatAll` is equivalent to `mergeAll` with concurrency parameter set\n * to `1`.\n *\n * @example <caption>For each click event, tick every second from 0 to 3, with no concurrency</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map(ev => Rx.Observable.interval(1000).take(4));\n * var firstOrder = higherOrder.concatAll();\n * firstOrder.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // (results are not concurrent)\n * // For every click on the \"document\" it will emit values 0 to 3 spaced\n * // on a 1000ms interval\n * // one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3\n *\n * @see {@link combineAll}\n * @see {@link concat}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n * @see {@link exhaust}\n * @see {@link mergeAll}\n * @see {@link switch}\n * @see {@link zipAll}\n *\n * @return {Observable} An Observable emitting values from all the inner\n * Observables concatenated.\n * @method concatAll\n * @owner Observable\n */\nfunction concatAll() {\n    return mergeAll_1.mergeAll(1);\n}\nexports.concatAll = concatAll;\n//# sourceMappingURL=concatAll.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operators/concatAll.js\n// module id = 82\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar tryCatch_1 = require('../util/tryCatch');\nvar errorObject_1 = require('../util/errorObject');\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from the previous item.\n *\n * If a comparator function is provided, then it will be called for each item to test for whether or not that value should be emitted.\n *\n * If a comparator function is not provided, an equality check is used by default.\n *\n * @example <caption>A simple example with numbers</caption>\n * Observable.of(1, 1, 2, 2, 2, 1, 1, 2, 3, 3, 4)\n *   .distinctUntilChanged()\n *   .subscribe(x => console.log(x)); // 1, 2, 1, 2, 3, 4\n *\n * @example <caption>An example using a compare function</caption>\n * interface Person {\n *    age: number,\n *    name: string\n * }\n *\n * Observable.of<Person>(\n *     { age: 4, name: 'Foo'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo'})\n *     { age: 6, name: 'Foo'})\n *     .distinctUntilChanged((p: Person, q: Person) => p.name === q.name)\n *     .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo' }\n * // { age: 7, name: 'Bar' }\n * // { age: 5, name: 'Foo' }\n *\n * @see {@link distinct}\n * @see {@link distinctUntilKeyChanged}\n *\n * @param {function} [compare] Optional comparison function called to test if an item is distinct from the previous item in the source.\n * @return {Observable} An Observable that emits items from the source Observable with distinct values.\n * @method distinctUntilChanged\n * @owner Observable\n */\nfunction distinctUntilChanged(compare, keySelector) {\n    return function (source) { return source.lift(new DistinctUntilChangedOperator(compare, keySelector)); };\n}\nexports.distinctUntilChanged = distinctUntilChanged;\nvar DistinctUntilChangedOperator = (function () {\n    function DistinctUntilChangedOperator(compare, keySelector) {\n        this.compare = compare;\n        this.keySelector = keySelector;\n    }\n    DistinctUntilChangedOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DistinctUntilChangedSubscriber(subscriber, this.compare, this.keySelector));\n    };\n    return DistinctUntilChangedOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar DistinctUntilChangedSubscriber = (function (_super) {\n    __extends(DistinctUntilChangedSubscriber, _super);\n    function DistinctUntilChangedSubscriber(destination, compare, keySelector) {\n        _super.call(this, destination);\n        this.keySelector = keySelector;\n        this.hasKey = false;\n        if (typeof compare === 'function') {\n            this.compare = compare;\n        }\n    }\n    DistinctUntilChangedSubscriber.prototype.compare = function (x, y) {\n        return x === y;\n    };\n    DistinctUntilChangedSubscriber.prototype._next = function (value) {\n        var keySelector = this.keySelector;\n        var key = value;\n        if (keySelector) {\n            key = tryCatch_1.tryCatch(this.keySelector)(value);\n            if (key === errorObject_1.errorObject) {\n                return this.destination.error(errorObject_1.errorObject.e);\n            }\n        }\n        var result = false;\n        if (this.hasKey) {\n            result = tryCatch_1.tryCatch(this.compare)(this.key, key);\n            if (result === errorObject_1.errorObject) {\n                return this.destination.error(errorObject_1.errorObject.e);\n            }\n        }\n        else {\n            this.hasKey = true;\n        }\n        if (Boolean(result) === false) {\n            this.key = key;\n            this.destination.next(value);\n        }\n    };\n    return DistinctUntilChangedSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=distinctUntilChanged.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operators/distinctUntilChanged.js\n// module id = 83\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar EmptyError_1 = require('../util/EmptyError');\n/**\n * Emits only the first value (or the first value that meets some condition)\n * emitted by the source Observable.\n *\n * <span class=\"informal\">Emits only the first value. Or emits only the first\n * value that passes some test.</span>\n *\n * <img src=\"./img/first.png\" width=\"100%\">\n *\n * If called with no arguments, `first` emits the first value of the source\n * Observable, then completes. If called with a `predicate` function, `first`\n * emits the first value of the source that matches the specified condition. It\n * may also take a `resultSelector` function to produce the output value from\n * the input value, and a `defaultValue` to emit in case the source completes\n * before it is able to emit a valid value. Throws an error if `defaultValue`\n * was not provided and a matching element is not found.\n *\n * @example <caption>Emit only the first click that happens on the DOM</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.first();\n * result.subscribe(x => console.log(x));\n *\n * @example <caption>Emits the first click that happens on a DIV</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.first(ev => ev.target.tagName === 'DIV');\n * result.subscribe(x => console.log(x));\n *\n * @see {@link filter}\n * @see {@link find}\n * @see {@link take}\n *\n * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`\n * callback if the Observable completes before any `next` notification was sent.\n *\n * @param {function(value: T, index: number, source: Observable<T>): boolean} [predicate]\n * An optional function called with each item to test for condition matching.\n * @param {function(value: T, index: number): R} [resultSelector] A function to\n * produce the value on the output Observable based on the values\n * and the indices of the source Observable. The arguments passed to this\n * function are:\n * - `value`: the value that was emitted on the source.\n * - `index`: the \"index\" of the value from the source.\n * @param {R} [defaultValue] The default value emitted in case no valid value\n * was found on the source.\n * @return {Observable<T|R>} An Observable of the first item that matches the\n * condition.\n * @method first\n * @owner Observable\n */\nfunction first(predicate, resultSelector, defaultValue) {\n    return function (source) { return source.lift(new FirstOperator(predicate, resultSelector, defaultValue, source)); };\n}\nexports.first = first;\nvar FirstOperator = (function () {\n    function FirstOperator(predicate, resultSelector, defaultValue, source) {\n        this.predicate = predicate;\n        this.resultSelector = resultSelector;\n        this.defaultValue = defaultValue;\n        this.source = source;\n    }\n    FirstOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new FirstSubscriber(observer, this.predicate, this.resultSelector, this.defaultValue, this.source));\n    };\n    return FirstOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar FirstSubscriber = (function (_super) {\n    __extends(FirstSubscriber, _super);\n    function FirstSubscriber(destination, predicate, resultSelector, defaultValue, source) {\n        _super.call(this, destination);\n        this.predicate = predicate;\n        this.resultSelector = resultSelector;\n        this.defaultValue = defaultValue;\n        this.source = source;\n        this.index = 0;\n        this.hasCompleted = false;\n        this._emitted = false;\n    }\n    FirstSubscriber.prototype._next = function (value) {\n        var index = this.index++;\n        if (this.predicate) {\n            this._tryPredicate(value, index);\n        }\n        else {\n            this._emit(value, index);\n        }\n    };\n    FirstSubscriber.prototype._tryPredicate = function (value, index) {\n        var result;\n        try {\n            result = this.predicate(value, index, this.source);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            this._emit(value, index);\n        }\n    };\n    FirstSubscriber.prototype._emit = function (value, index) {\n        if (this.resultSelector) {\n            this._tryResultSelector(value, index);\n            return;\n        }\n        this._emitFinal(value);\n    };\n    FirstSubscriber.prototype._tryResultSelector = function (value, index) {\n        var result;\n        try {\n            result = this.resultSelector(value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this._emitFinal(result);\n    };\n    FirstSubscriber.prototype._emitFinal = function (value) {\n        var destination = this.destination;\n        if (!this._emitted) {\n            this._emitted = true;\n            destination.next(value);\n            destination.complete();\n            this.hasCompleted = true;\n        }\n    };\n    FirstSubscriber.prototype._complete = function () {\n        var destination = this.destination;\n        if (!this.hasCompleted && typeof this.defaultValue !== 'undefined') {\n            destination.next(this.defaultValue);\n            destination.complete();\n        }\n        else if (!this.hasCompleted) {\n            destination.error(new EmptyError_1.EmptyError);\n        }\n    };\n    return FirstSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=first.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operators/first.js\n// module id = 84\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/**\n * Applies a given `project` function to each value emitted by the source\n * Observable, and emits the resulting values as an Observable.\n *\n * <span class=\"informal\">Like [Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map),\n * it passes each source value through a transformation function to get\n * corresponding output values.</span>\n *\n * <img src=\"./img/map.png\" width=\"100%\">\n *\n * Similar to the well known `Array.prototype.map` function, this operator\n * applies a projection to each value and emits that projection in the output\n * Observable.\n *\n * @example <caption>Map every click to the clientX position of that click</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var positions = clicks.map(ev => ev.clientX);\n * positions.subscribe(x => console.log(x));\n *\n * @see {@link mapTo}\n * @see {@link pluck}\n *\n * @param {function(value: T, index: number): R} project The function to apply\n * to each `value` emitted by the source Observable. The `index` parameter is\n * the number `i` for the i-th emission that has happened since the\n * subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to define what `this` is in the\n * `project` function.\n * @return {Observable<R>} An Observable that emits the values from the source\n * Observable transformed by the given `project` function.\n * @method map\n * @owner Observable\n */\nfunction map(project, thisArg) {\n    return function mapOperation(source) {\n        if (typeof project !== 'function') {\n            throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n        }\n        return source.lift(new MapOperator(project, thisArg));\n    };\n}\nexports.map = map;\nvar MapOperator = (function () {\n    function MapOperator(project, thisArg) {\n        this.project = project;\n        this.thisArg = thisArg;\n    }\n    MapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n    };\n    return MapOperator;\n}());\nexports.MapOperator = MapOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar MapSubscriber = (function (_super) {\n    __extends(MapSubscriber, _super);\n    function MapSubscriber(destination, project, thisArg) {\n        _super.call(this, destination);\n        this.project = project;\n        this.count = 0;\n        this.thisArg = thisArg || this;\n    }\n    // NOTE: This looks unoptimized, but it's actually purposefully NOT\n    // using try/catch optimizations.\n    MapSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.project.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return MapSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=map.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operators/map.js\n// module id = 85\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar subscribeToResult_1 = require('../util/subscribeToResult');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\n/* tslint:enable:max-line-length */\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link mergeAll}.</span>\n *\n * <img src=\"./img/mergeMap.png\" width=\"100%\">\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an Observable, and then merging those resulting Observables and\n * emitting the results of this merger.\n *\n * @example <caption>Map and flatten each letter to an Observable ticking every 1 second</caption>\n * var letters = Rx.Observable.of('a', 'b', 'c');\n * var result = letters.mergeMap(x =>\n *   Rx.Observable.interval(1000).map(i => x+i)\n * );\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // a0\n * // b0\n * // c0\n * // a1\n * // b1\n * // c1\n * // continues to list a,b,c with respective ascending integers\n *\n * @see {@link concatMap}\n * @see {@link exhaustMap}\n * @see {@link merge}\n * @see {@link mergeAll}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n * @see {@link switchMap}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]\n * A function to produce the value on the output Observable based on the values\n * and the indices of the source (outer) emission and the inner Observable\n * emission. The arguments passed to this function are:\n * - `outerValue`: the value that came from the source\n * - `innerValue`: the value that came from the projected Observable\n * - `outerIndex`: the \"index\" of the value that came from the source\n * - `innerIndex`: the \"index\" of the value from the projected Observable\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits the result of applying the\n * projection function (and the optional `resultSelector`) to each item emitted\n * by the source Observable and merging the results of the Observables obtained\n * from this transformation.\n * @method mergeMap\n * @owner Observable\n */\nfunction mergeMap(project, resultSelector, concurrent) {\n    if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n    return function mergeMapOperatorFunction(source) {\n        if (typeof resultSelector === 'number') {\n            concurrent = resultSelector;\n            resultSelector = null;\n        }\n        return source.lift(new MergeMapOperator(project, resultSelector, concurrent));\n    };\n}\nexports.mergeMap = mergeMap;\nvar MergeMapOperator = (function () {\n    function MergeMapOperator(project, resultSelector, concurrent) {\n        if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n        this.project = project;\n        this.resultSelector = resultSelector;\n        this.concurrent = concurrent;\n    }\n    MergeMapOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new MergeMapSubscriber(observer, this.project, this.resultSelector, this.concurrent));\n    };\n    return MergeMapOperator;\n}());\nexports.MergeMapOperator = MergeMapOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar MergeMapSubscriber = (function (_super) {\n    __extends(MergeMapSubscriber, _super);\n    function MergeMapSubscriber(destination, project, resultSelector, concurrent) {\n        if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n        _super.call(this, destination);\n        this.project = project;\n        this.resultSelector = resultSelector;\n        this.concurrent = concurrent;\n        this.hasCompleted = false;\n        this.buffer = [];\n        this.active = 0;\n        this.index = 0;\n    }\n    MergeMapSubscriber.prototype._next = function (value) {\n        if (this.active < this.concurrent) {\n            this._tryNext(value);\n        }\n        else {\n            this.buffer.push(value);\n        }\n    };\n    MergeMapSubscriber.prototype._tryNext = function (value) {\n        var result;\n        var index = this.index++;\n        try {\n            result = this.project(value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.active++;\n        this._innerSub(result, value, index);\n    };\n    MergeMapSubscriber.prototype._innerSub = function (ish, value, index) {\n        this.add(subscribeToResult_1.subscribeToResult(this, ish, value, index));\n    };\n    MergeMapSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (this.active === 0 && this.buffer.length === 0) {\n            this.destination.complete();\n        }\n    };\n    MergeMapSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        if (this.resultSelector) {\n            this._notifyResultSelector(outerValue, innerValue, outerIndex, innerIndex);\n        }\n        else {\n            this.destination.next(innerValue);\n        }\n    };\n    MergeMapSubscriber.prototype._notifyResultSelector = function (outerValue, innerValue, outerIndex, innerIndex) {\n        var result;\n        try {\n            result = this.resultSelector(outerValue, innerValue, outerIndex, innerIndex);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    MergeMapSubscriber.prototype.notifyComplete = function (innerSub) {\n        var buffer = this.buffer;\n        this.remove(innerSub);\n        this.active--;\n        if (buffer.length > 0) {\n            this._next(buffer.shift());\n        }\n        else if (this.active === 0 && this.hasCompleted) {\n            this.destination.complete();\n        }\n    };\n    return MergeMapSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\nexports.MergeMapSubscriber = MergeMapSubscriber;\n//# sourceMappingURL=mergeMap.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operators/mergeMap.js\n// module id = 86\n// module chunks = 0","\"use strict\";\nvar ArrayObservable_1 = require('../observable/ArrayObservable');\nvar ScalarObservable_1 = require('../observable/ScalarObservable');\nvar EmptyObservable_1 = require('../observable/EmptyObservable');\nvar concat_1 = require('../observable/concat');\nvar isScheduler_1 = require('../util/isScheduler');\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits the items you specify as arguments before it begins to emit\n * items emitted by the source Observable.\n *\n * <img src=\"./img/startWith.png\" width=\"100%\">\n *\n * @param {...T} values - Items you want the modified Observable to emit first.\n * @param {Scheduler} [scheduler] - A {@link IScheduler} to use for scheduling\n * the emissions of the `next` notifications.\n * @return {Observable} An Observable that emits the items in the specified Iterable and then emits the items\n * emitted by the source Observable.\n * @method startWith\n * @owner Observable\n */\nfunction startWith() {\n    var array = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        array[_i - 0] = arguments[_i];\n    }\n    return function (source) {\n        var scheduler = array[array.length - 1];\n        if (isScheduler_1.isScheduler(scheduler)) {\n            array.pop();\n        }\n        else {\n            scheduler = null;\n        }\n        var len = array.length;\n        if (len === 1) {\n            return concat_1.concat(new ScalarObservable_1.ScalarObservable(array[0], scheduler), source);\n        }\n        else if (len > 1) {\n            return concat_1.concat(new ArrayObservable_1.ArrayObservable(array, scheduler), source);\n        }\n        else {\n            return concat_1.concat(new EmptyObservable_1.EmptyObservable(scheduler), source);\n        }\n    };\n}\nexports.startWith = startWith;\n//# sourceMappingURL=startWith.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operators/startWith.js\n// module id = 87\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscription_1 = require('../Subscription');\n/**\n * A unit of work to be executed in a {@link Scheduler}. An action is typically\n * created from within a Scheduler and an RxJS user does not need to concern\n * themselves about creating and manipulating an Action.\n *\n * ```ts\n * class Action<T> extends Subscription {\n *   new (scheduler: Scheduler, work: (state?: T) => void);\n *   schedule(state?: T, delay: number = 0): Subscription;\n * }\n * ```\n *\n * @class Action<T>\n */\nvar Action = (function (_super) {\n    __extends(Action, _super);\n    function Action(scheduler, work) {\n        _super.call(this);\n    }\n    /**\n     * Schedules this action on its parent Scheduler for execution. May be passed\n     * some context object, `state`. May happen at some point in the future,\n     * according to the `delay` parameter, if specified.\n     * @param {T} [state] Some contextual data that the `work` function uses when\n     * called by the Scheduler.\n     * @param {number} [delay] Time to wait before executing the work, where the\n     * time unit is implicit and defined by the Scheduler.\n     * @return {void}\n     */\n    Action.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        return this;\n    };\n    return Action;\n}(Subscription_1.Subscription));\nexports.Action = Action;\n//# sourceMappingURL=Action.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/scheduler/Action.js\n// module id = 88\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar root_1 = require('../util/root');\nvar Action_1 = require('./Action');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar AsyncAction = (function (_super) {\n    __extends(AsyncAction, _super);\n    function AsyncAction(scheduler, work) {\n        _super.call(this, scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n        this.pending = false;\n    }\n    AsyncAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (this.closed) {\n            return this;\n        }\n        // Always replace the current state with the new state.\n        this.state = state;\n        // Set the pending flag indicating that this action has been scheduled, or\n        // has recursively rescheduled itself.\n        this.pending = true;\n        var id = this.id;\n        var scheduler = this.scheduler;\n        //\n        // Important implementation note:\n        //\n        // Actions only execute once by default, unless rescheduled from within the\n        // scheduled callback. This allows us to implement single and repeat\n        // actions via the same code path, without adding API surface area, as well\n        // as mimic traditional recursion but across asynchronous boundaries.\n        //\n        // However, JS runtimes and timers distinguish between intervals achieved by\n        // serial `setTimeout` calls vs. a single `setInterval` call. An interval of\n        // serial `setTimeout` calls can be individually delayed, which delays\n        // scheduling the next `setTimeout`, and so on. `setInterval` attempts to\n        // guarantee the interval callback will be invoked more precisely to the\n        // interval period, regardless of load.\n        //\n        // Therefore, we use `setInterval` to schedule single and repeat actions.\n        // If the action reschedules itself with the same delay, the interval is not\n        // canceled. If the action doesn't reschedule, or reschedules with a\n        // different delay, the interval will be canceled after scheduled callback\n        // execution.\n        //\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        this.delay = delay;\n        // If this action has already an async Id, don't request a new one.\n        this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    };\n    AsyncAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        return root_1.root.setInterval(scheduler.flush.bind(scheduler, this), delay);\n    };\n    AsyncAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        // If this action is rescheduled with the same delay time, don't clear the interval id.\n        if (delay !== null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        // Otherwise, if the action's delay time is different from the current delay,\n        // or the action has been rescheduled before it's executed, clear the interval id\n        return root_1.root.clearInterval(id) && undefined || undefined;\n    };\n    /**\n     * Immediately executes this action and the `work` it contains.\n     * @return {any}\n     */\n    AsyncAction.prototype.execute = function (state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        var error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            // Dequeue if the action didn't reschedule itself. Don't call\n            // unsubscribe(), because the action could reschedule later.\n            // For example:\n            // ```\n            // scheduler.schedule(function doWork(counter) {\n            //   /* ... I'm a busy worker bee ... */\n            //   var originalAction = this;\n            //   /* wait 100ms before rescheduling the action */\n            //   setTimeout(function () {\n            //     originalAction.schedule(counter + 1);\n            //   }, 100);\n            // }, 1000);\n            // ```\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    };\n    AsyncAction.prototype._execute = function (state, delay) {\n        var errored = false;\n        var errorValue = undefined;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = !!e && e || new Error(e);\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    };\n    AsyncAction.prototype._unsubscribe = function () {\n        var id = this.id;\n        var scheduler = this.scheduler;\n        var actions = scheduler.actions;\n        var index = actions.indexOf(this);\n        this.work = null;\n        this.state = null;\n        this.pending = false;\n        this.scheduler = null;\n        if (index !== -1) {\n            actions.splice(index, 1);\n        }\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, null);\n        }\n        this.delay = null;\n    };\n    return AsyncAction;\n}(Action_1.Action));\nexports.AsyncAction = AsyncAction;\n//# sourceMappingURL=AsyncAction.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/scheduler/AsyncAction.js\n// module id = 89\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Scheduler_1 = require('../Scheduler');\nvar AsyncScheduler = (function (_super) {\n    __extends(AsyncScheduler, _super);\n    function AsyncScheduler() {\n        _super.apply(this, arguments);\n        this.actions = [];\n        /**\n         * A flag to indicate whether the Scheduler is currently executing a batch of\n         * queued actions.\n         * @type {boolean}\n         */\n        this.active = false;\n        /**\n         * An internal ID used to track the latest asynchronous task such as those\n         * coming from `setTimeout`, `setInterval`, `requestAnimationFrame`, and\n         * others.\n         * @type {any}\n         */\n        this.scheduled = undefined;\n    }\n    AsyncScheduler.prototype.flush = function (action) {\n        var actions = this.actions;\n        if (this.active) {\n            actions.push(action);\n            return;\n        }\n        var error;\n        this.active = true;\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (action = actions.shift()); // exhaust the scheduler queue\n        this.active = false;\n        if (error) {\n            while (action = actions.shift()) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsyncScheduler;\n}(Scheduler_1.Scheduler));\nexports.AsyncScheduler = AsyncScheduler;\n//# sourceMappingURL=AsyncScheduler.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/scheduler/AsyncScheduler.js\n// module id = 90\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar AsyncAction_1 = require('./AsyncAction');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar QueueAction = (function (_super) {\n    __extends(QueueAction, _super);\n    function QueueAction(scheduler, work) {\n        _super.call(this, scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n    }\n    QueueAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (delay > 0) {\n            return _super.prototype.schedule.call(this, state, delay);\n        }\n        this.delay = delay;\n        this.state = state;\n        this.scheduler.flush(this);\n        return this;\n    };\n    QueueAction.prototype.execute = function (state, delay) {\n        return (delay > 0 || this.closed) ?\n            _super.prototype.execute.call(this, state, delay) :\n            this._execute(state, delay);\n    };\n    QueueAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        // If delay exists and is greater than 0, or if the delay is null (the\n        // action wasn't rescheduled) but was originally scheduled as an async\n        // action, then recycle as an async action.\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        // Otherwise flush the scheduler starting with this action.\n        return scheduler.flush(this);\n    };\n    return QueueAction;\n}(AsyncAction_1.AsyncAction));\nexports.QueueAction = QueueAction;\n//# sourceMappingURL=QueueAction.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/scheduler/QueueAction.js\n// module id = 91\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar AsyncScheduler_1 = require('./AsyncScheduler');\nvar QueueScheduler = (function (_super) {\n    __extends(QueueScheduler, _super);\n    function QueueScheduler() {\n        _super.apply(this, arguments);\n    }\n    return QueueScheduler;\n}(AsyncScheduler_1.AsyncScheduler));\nexports.QueueScheduler = QueueScheduler;\n//# sourceMappingURL=QueueScheduler.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/scheduler/QueueScheduler.js\n// module id = 92\n// module chunks = 0","\"use strict\";\nvar QueueAction_1 = require('./QueueAction');\nvar QueueScheduler_1 = require('./QueueScheduler');\n/**\n *\n * Queue Scheduler\n *\n * <span class=\"informal\">Put every next task on a queue, instead of executing it immediately</span>\n *\n * `queue` scheduler, when used with delay, behaves the same as {@link async} scheduler.\n *\n * When used without delay, it schedules given task synchronously - executes it right when\n * it is scheduled. However when called recursively, that is when inside the scheduled task,\n * another task is scheduled with queue scheduler, instead of executing immediately as well,\n * that task will be put on a queue and wait for current one to finish.\n *\n * This means that when you execute task with `queue` scheduler, you are sure it will end\n * before any other task scheduled with that scheduler will start.\n *\n * @examples <caption>Schedule recursively first, then do something</caption>\n *\n * Rx.Scheduler.queue.schedule(() => {\n *   Rx.Scheduler.queue.schedule(() => console.log('second')); // will not happen now, but will be put on a queue\n *\n *   console.log('first');\n * });\n *\n * // Logs:\n * // \"first\"\n * // \"second\"\n *\n *\n * @example <caption>Reschedule itself recursively</caption>\n *\n * Rx.Scheduler.queue.schedule(function(state) {\n *   if (state !== 0) {\n *     console.log('before', state);\n *     this.schedule(state - 1); // `this` references currently executing Action,\n *                               // which we reschedule with new state\n *     console.log('after', state);\n *   }\n * }, 0, 3);\n *\n * // In scheduler that runs recursively, you would expect:\n * // \"before\", 3\n * // \"before\", 2\n * // \"before\", 1\n * // \"after\", 1\n * // \"after\", 2\n * // \"after\", 3\n *\n * // But with queue it logs:\n * // \"before\", 3\n * // \"after\", 3\n * // \"before\", 2\n * // \"after\", 2\n * // \"before\", 1\n * // \"after\", 1\n *\n *\n * @static true\n * @name queue\n * @owner Scheduler\n */\nexports.queue = new QueueScheduler_1.QueueScheduler(QueueAction_1.QueueAction);\n//# sourceMappingURL=queue.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/scheduler/queue.js\n// module id = 93\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * An error thrown when an Observable or a sequence was queried but has no\n * elements.\n *\n * @see {@link first}\n * @see {@link last}\n * @see {@link single}\n *\n * @class EmptyError\n */\nvar EmptyError = (function (_super) {\n    __extends(EmptyError, _super);\n    function EmptyError() {\n        var err = _super.call(this, 'no elements in sequence');\n        this.name = err.name = 'EmptyError';\n        this.stack = err.stack;\n        this.message = err.message;\n    }\n    return EmptyError;\n}(Error));\nexports.EmptyError = EmptyError;\n//# sourceMappingURL=EmptyError.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/EmptyError.js\n// module id = 94\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * An error thrown when one or more errors have occurred during the\n * `unsubscribe` of a {@link Subscription}.\n */\nvar UnsubscriptionError = (function (_super) {\n    __extends(UnsubscriptionError, _super);\n    function UnsubscriptionError(errors) {\n        _super.call(this);\n        this.errors = errors;\n        var err = Error.call(this, errors ?\n            errors.length + \" errors occurred during unsubscription:\\n  \" + errors.map(function (err, i) { return ((i + 1) + \") \" + err.toString()); }).join('\\n  ') : '');\n        this.name = err.name = 'UnsubscriptionError';\n        this.stack = err.stack;\n        this.message = err.message;\n    }\n    return UnsubscriptionError;\n}(Error));\nexports.UnsubscriptionError = UnsubscriptionError;\n//# sourceMappingURL=UnsubscriptionError.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/UnsubscriptionError.js\n// module id = 95\n// module chunks = 0","\"use strict\";\nfunction identity(x) {\n    return x;\n}\nexports.identity = identity;\n//# sourceMappingURL=identity.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/identity.js\n// module id = 96\n// module chunks = 0","\"use strict\";\n/* tslint:disable:no-empty */\nfunction noop() { }\nexports.noop = noop;\n//# sourceMappingURL=noop.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/noop.js\n// module id = 97\n// module chunks = 0","\"use strict\";\nvar noop_1 = require('./noop');\n/* tslint:enable:max-line-length */\nfunction pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i - 0] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexports.pipe = pipe;\n/* @internal */\nfunction pipeFromArray(fns) {\n    if (!fns) {\n        return noop_1.noop;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\nexports.pipeFromArray = pipeFromArray;\n//# sourceMappingURL=pipe.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/pipe.js\n// module id = 98\n// module chunks = 0","\"use strict\";\nvar root_1 = require('./root');\nvar isArrayLike_1 = require('./isArrayLike');\nvar isPromise_1 = require('./isPromise');\nvar isObject_1 = require('./isObject');\nvar Observable_1 = require('../Observable');\nvar iterator_1 = require('../symbol/iterator');\nvar InnerSubscriber_1 = require('../InnerSubscriber');\nvar observable_1 = require('../symbol/observable');\nfunction subscribeToResult(outerSubscriber, result, outerValue, outerIndex) {\n    var destination = new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex);\n    if (destination.closed) {\n        return null;\n    }\n    if (result instanceof Observable_1.Observable) {\n        if (result._isScalar) {\n            destination.next(result.value);\n            destination.complete();\n            return null;\n        }\n        else {\n            destination.syncErrorThrowable = true;\n            return result.subscribe(destination);\n        }\n    }\n    else if (isArrayLike_1.isArrayLike(result)) {\n        for (var i = 0, len = result.length; i < len && !destination.closed; i++) {\n            destination.next(result[i]);\n        }\n        if (!destination.closed) {\n            destination.complete();\n        }\n    }\n    else if (isPromise_1.isPromise(result)) {\n        result.then(function (value) {\n            if (!destination.closed) {\n                destination.next(value);\n                destination.complete();\n            }\n        }, function (err) { return destination.error(err); })\n            .then(null, function (err) {\n            // Escaping the Promise trap: globally throw unhandled errors\n            root_1.root.setTimeout(function () { throw err; });\n        });\n        return destination;\n    }\n    else if (result && typeof result[iterator_1.iterator] === 'function') {\n        var iterator = result[iterator_1.iterator]();\n        do {\n            var item = iterator.next();\n            if (item.done) {\n                destination.complete();\n                break;\n            }\n            destination.next(item.value);\n            if (destination.closed) {\n                break;\n            }\n        } while (true);\n    }\n    else if (result && typeof result[observable_1.observable] === 'function') {\n        var obs = result[observable_1.observable]();\n        if (typeof obs.subscribe !== 'function') {\n            destination.error(new TypeError('Provided object does not correctly implement Symbol.observable'));\n        }\n        else {\n            return obs.subscribe(new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex));\n        }\n    }\n    else {\n        var value = isObject_1.isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n        var msg = (\"You provided \" + value + \" where a stream was expected.\")\n            + ' You can provide an Observable, Promise, Array, or Iterable.';\n        destination.error(new TypeError(msg));\n    }\n    return null;\n}\nexports.subscribeToResult = subscribeToResult;\n//# sourceMappingURL=subscribeToResult.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/subscribeToResult.js\n// module id = 99\n// module chunks = 0","\"use strict\";\nvar Subscriber_1 = require('../Subscriber');\nvar rxSubscriber_1 = require('../symbol/rxSubscriber');\nvar Observer_1 = require('../Observer');\nfunction toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber_1.Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriber_1.rxSubscriber]) {\n            return nextOrObserver[rxSubscriber_1.rxSubscriber]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber_1.Subscriber(Observer_1.empty);\n    }\n    return new Subscriber_1.Subscriber(nextOrObserver, error, complete);\n}\nexports.toSubscriber = toSubscriber;\n//# sourceMappingURL=toSubscriber.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/util/toSubscriber.js\n// module id = 100\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 101\n// module chunks = 0","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 102\n// module chunks = 0"],"sourceRoot":""}