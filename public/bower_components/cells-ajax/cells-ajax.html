<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-ajax/iron-ajax.html">
<link rel="import" href="../iron-localstorage/iron-localstorage.html">
<link rel="import" href="../cells-http-native/cells-http-native.html">

<!--
The `cells-ajax` element exposes network request functionality.

    <cells-ajax
        native
        auto
        cache="local"
        cache-time="123456"
        url="http://gdata.youtube.com/feeds/api/videos/"
        params='{"alt":"json", "q":"chrome"}'
        handle-as="json"
        on-response="handleResponse"
        debounce-duration="300"></cells-ajax>

With `auto` set to `true`, the element performs a request whenever
its `url`, `params` or `body` properties are changed. Automatically generated
requests will be debounced in the case that multiple attributes are changed
sequentially.

With 'native' set to `true` execute requests to background threads of mobile device

Note: The `params` attribute must be double quoted JSON.

You can trigger a request explicitly by calling `generateRequest` on the
element.

@demo demo/index.html
@hero hero.svg
-->

<dom-module id="cells-ajax">
  <template>
      <cells-http-native id="cellsHttpNative"
        url="[[url]]"
        params="[[params]]"
        method="[[method]]"
        headers="[[headers]]"
        body="[[body]]"
        verbose="[[verbose]]"
        on-request="_onRequest"
        on-response="_onResponse"
        on-error="_onError"
       ></cells-http-native>
      <iron-ajax id="cellsHttp"
        url="[[url]]"
        timeout="[[timeout]]"
        params="[[params]]"
        method="[[method]]"
        headers="[[headers]]"
        content-type="[[contentType]]"
        body="[[body]]"
        sync="[[sync]]"
        handle-as="[[handleAs]]"
        with-credentials="[[withCredentials]]"
        verbose="[[verbose]]"
        debounce-duration="[[debounceDuration]]",
        on-request="_onRequest"
        on-response="_onResponse"
        on-error="_onError"
        auto="[[auto]]"
       ></iron-ajax>
    <iron-localstorage id="ironLocalStorage" errorMessage="{{lastError}}" auto-save-disabled></iron-localstorage>
  </template>
</dom-module>

<script src="cells-ajax.js"></script>
